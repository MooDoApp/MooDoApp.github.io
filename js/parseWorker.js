function dateWrapper(){this.dateLibLoaded=!0,function(){var t=Date,e=Date.CultureStrings?Date.CultureStrings.lang:null,n={},r={getFromKey:function(t,e){var n;return n=Date.CultureStrings&&Date.CultureStrings[e]&&Date.CultureStrings[e][t]?Date.CultureStrings[e][t]:r.buildFromDefault(t),"/"===t.charAt(0)&&(n=r.buildFromRegex(t,e)),n},getFromObjectValues:function(t,e){var n,a={};for(n in t)t.hasOwnProperty(n)&&(a[n]=r.getFromKey(t[n],e));return a},getFromObjectKeys:function(t,e){var n,a={};for(n in t)t.hasOwnProperty(n)&&(a[r.getFromKey(n,e)]=t[n]);return a},getFromArray:function(t,e){for(var n=[],a=0;a<t.length;a++)a in t&&(n[a]=r.getFromKey(t[a],e));return n},buildFromDefault:function(t){var e,n,r,a;switch(t){case"name":e="en-US";break;case"englishName":e="English (United States)";break;case"nativeName":e="English (United States)";break;case"twoDigitYearMax":e=2049;break;case"firstDayOfWeek":e=0;break;default:e=t,r=t.split("_"),n=r.length,n>1&&"/"!==t.charAt(0)&&(a=r[n-1].toLowerCase(),("initial"===a||"abbr"===a)&&(e=r[0]))}return e},buildFromRegex:function(t,e){var n;return n=Date.CultureStrings&&Date.CultureStrings[e]&&Date.CultureStrings[e][t]?new RegExp(Date.CultureStrings[e][t],"i"):new RegExp(t.replace(new RegExp("/","g"),""),"i")}},a=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},i=function(t,a){var i=a?a:e;return n[t]=t,"object"==typeof t?t instanceof Array?r.getFromArray(t,i):r.getFromObjectKeys(t,i):r.getFromKey(t,i)},s=function(t){var e=Date.Config.i18n+t+".js",n=document.getElementsByTagName("head")[0]||document.documentElement,r=document.createElement("script");r.src=e;var a=!1,i={done:function(){}};return r.onload=r.onreadystatechange=function(){a||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(i.done(),n.removeChild(r))},setTimeout(function(){n.insertBefore(r,n.firstChild)},0),{done:function(t){i.done=function(){t&&setTimeout(t,0)}}}},o={buildFromMethodHash:function(t){var e;for(e in t)t.hasOwnProperty(e)&&(t[e]=o[t[e]]());return t},timeZoneDST:function(){var t={CHADT:"+1345",NZDT:"+1300",AEDT:"+1100",ACDT:"+1030",AZST:"+0500",IRDT:"+0430",EEST:"+0300",CEST:"+0200",BST:"+0100",PMDT:"-0200",ADT:"-0300",NDT:"-0230",EDT:"-0400",CDT:"-0500",MDT:"-0600",PDT:"-0700",AKDT:"-0800",HADT:"-0900"};return i(t)},timeZoneStandard:function(){var t={LINT:"+1400",TOT:"+1300",CHAST:"+1245",NZST:"+1200",NFT:"+1130",SBT:"+1100",AEST:"+1000",ACST:"+0930",JST:"+0900",CWST:"+0845",CT:"+0800",ICT:"+0700",MMT:"+0630",BST:"+0600",NPT:"+0545",IST:"+0530",PKT:"+0500",AFT:"+0430",MSK:"+0400",IRST:"+0330",FET:"+0300",EET:"+0200",CET:"+0100",GMT:"+0000",UTC:"+0000",CVT:"-0100",GST:"-0200",BRT:"-0300",NST:"-0330",AST:"-0400",EST:"-0500",CST:"-0600",MST:"-0700",PST:"-0800",AKST:"-0900",MIT:"-0930",HST:"-1000",SST:"-1100",BIT:"-1200"};return i(t)},timeZones:function(t){var e;t.timezones=[];for(e in t.abbreviatedTimeZoneStandard)t.abbreviatedTimeZoneStandard.hasOwnProperty(e)&&t.timezones.push({name:e,offset:t.abbreviatedTimeZoneStandard[e]});for(e in t.abbreviatedTimeZoneDST)t.abbreviatedTimeZoneDST.hasOwnProperty(e)&&t.timezones.push({name:e,offset:t.abbreviatedTimeZoneDST[e],dst:!0});return t.timezones},days:function(){return i(["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"])},dayAbbr:function(){return i(["Sun","Mon","Tue","Wed","Thu","Fri","Sat"])},dayShortNames:function(){return i(["Su","Mo","Tu","We","Th","Fr","Sa"])},dayFirstLetters:function(){return i(["S_Sun_Initial","M_Mon_Initial","T_Tues_Initial","W_Wed_Initial","T_Thu_Initial","F_Fri_Initial","S_Sat_Initial"])},months:function(){return i(["January","February","March","April","May","June","July","August","September","October","November","December"])},monthAbbr:function(){return i(["Jan_Abbr","Feb_Abbr","Mar_Abbr","Apr_Abbr","May_Abbr","Jun_Abbr","Jul_Abbr","Aug_Abbr","Sep_Abbr","Oct_Abbr","Nov_Abbr","Dec_Abbr"])},formatPatterns:function(){return r.getFromObjectValues({shortDate:"M/d/yyyy",longDate:"dddd, MMMM dd, yyyy",shortTime:"h:mm tt",longTime:"h:mm:ss tt",fullDateTime:"dddd, MMMM dd, yyyy h:mm:ss tt",sortableDateTime:"yyyy-MM-ddTHH:mm:ss",universalSortableDateTime:"yyyy-MM-dd HH:mm:ssZ",rfc1123:"ddd, dd MMM yyyy HH:mm:ss",monthDay:"MMMM dd",yearMonth:"MMMM, yyyy"},Date.i18n.currentLanguage())},regex:function(){return r.getFromObjectValues({inTheMorning:"/( in the )(morn(ing)?)\\b/",thisMorning:"/(this )(morn(ing)?)\\b/",amThisMorning:"/(\b\\d(am)? )(this )(morn(ing)?)/",inTheEvening:"/( in the )(even(ing)?)\\b/",thisEvening:"/(this )(even(ing)?)\\b/",pmThisEvening:"/(\b\\d(pm)? )(this )(even(ing)?)/",jan:"/jan(uary)?/",feb:"/feb(ruary)?/",mar:"/mar(ch)?/",apr:"/apr(il)?/",may:"/may/",jun:"/jun(e)?/",jul:"/jul(y)?/",aug:"/aug(ust)?/",sep:"/sep(t(ember)?)?/",oct:"/oct(ober)?/",nov:"/nov(ember)?/",dec:"/dec(ember)?/",sun:"/^sun(day)?/",mon:"/^mon(day)?/",tue:"/^tue(s(day)?)?/",wed:"/^wed(nesday)?/",thu:"/^thu(rsday)?/",fri:"/fri(day)?/",sat:"/^sat(urday)?/",future:"/^next/",past:"/^last|past|prev(ious)?/",yesterday:"/^yesterday/",today:"/^today/",tomorrow:"/^tom(orrow)?/",soon:"/^soon/",later:"/^later/",now:"/^now/",shortMeridian:"/^(a|p)/",longMeridian:"/^(a\\.?m?\\.?|p\\.?m?\\.?)/",timezone:"/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\\s*(\\+|\\-)\\s*\\d\\d\\d\\d?)|gmt|utc)/",ordinalSuffix:"/^\\s*(st|nd|rd|th)/",timeContext:"/^\\s*(\\:|a(?!u|p)|p)/"},Date.i18n.currentLanguage())}},u=function(){var t=r.getFromObjectValues({name:"name",englishName:"englishName",nativeName:"nativeName",amDesignator:"AM",pmDesignator:"PM",firstDayOfWeek:"firstDayOfWeek",twoDigitYearMax:"twoDigitYearMax",dateElementOrder:"mdy"},Date.i18n.currentLanguage()),e=o.buildFromMethodHash({dayNames:"days",abbreviatedDayNames:"dayAbbr",shortestDayNames:"dayShortNames",firstLetterDayNames:"dayFirstLetters",monthNames:"months",abbreviatedMonthNames:"monthAbbr",formatPatterns:"formatPatterns",regexPatterns:"regex",abbreviatedTimeZoneDST:"timeZoneDST",abbreviatedTimeZoneStandard:"timeZoneStandard"});return a(t,e),o.timeZones(t),t};t.i18n={__:function(t,e){return i(t,e)},currentLanguage:function(){return e||"en-US"},setLanguage:function(n,r,a){var i=!1;if(r||"en-US"===n||Date.CultureStrings&&Date.CultureStrings[n])e=n,Date.CultureStrings=Date.CultureStrings||{},Date.CultureStrings.lang=n,Date.CultureInfo=new u;else if(!Date.CultureStrings||!Date.CultureStrings[n])if("undefined"!=typeof exports&&this.exports!==exports)try{require("../i18n/"+n+".js"),e=n,Date.CultureStrings.lang=n,Date.CultureInfo=new u}catch(o){throw new Error("The DateJS IETF language tag '"+n+"' could not be loaded by Node. It likely does not exist.")}else Date.Config&&Date.Config.i18n?(i=!0,s(n).done(function(){e=n,Date.CultureStrings=Date.CultureStrings||{},Date.CultureStrings.lang=n,Date.CultureInfo=new u,t.Parsing.Normalizer.buildReplaceData(),t.Grammar&&t.Grammar.buildGrammarFormats(),a&&setTimeout(a,0)})):Date.console.error("The DateJS IETF language tag '"+n+"' is not available and has not been loaded.");t.Parsing.Normalizer.buildReplaceData(),t.Grammar&&t.Grammar.buildGrammarFormats(),!i&&a&&setTimeout(a,0)},getLoggedKeys:function(){return n},updateCultureInfo:function(){Date.CultureInfo=new u}},t.i18n.updateCultureInfo()}(),function(){var t=Date,e=t.prototype,n=function(t,e){return e||(e=2),("000"+t).slice(-1*e)};t.console="undefined"!=typeof window&&"undefined"!=typeof window.console&&"undefined"!=typeof window.console.log?console:{log:function(){},error:function(){}},t.Config=t.Config||{},t.initOverloads=function(){t.now?t._now||(t._now=t.now):t._now=function(){return(new Date).getTime()},t.now=function(e){return e?t.present():t._now()},e.toISOString||(e.toISOString=function(){return this.getUTCFullYear()+"-"+n(this.getUTCMonth()+1)+"-"+n(this.getUTCDate())+"T"+n(this.getUTCHours())+":"+n(this.getUTCMinutes())+":"+n(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}),void 0===e._toString&&(e._toString=e.toString)},t.initOverloads(),e.clearTime=function(){return this.setHours(0),this.setMinutes(0),this.setSeconds(0),this.setMilliseconds(0),this},e.setTimeToNow=function(){var t=new Date;return this.setHours(t.getHours()),this.setMinutes(t.getMinutes()),this.setSeconds(t.getSeconds()),this.setMilliseconds(t.getMilliseconds()),this},t.today=function(){return(new Date).clearTime()},t.present=function(){return new Date},t.compare=function(t,e){if(isNaN(t)||isNaN(e))throw new Error(t+" - "+e);if(t instanceof Date&&e instanceof Date)return e>t?-1:t>e?1:0;throw new TypeError(t+" - "+e)},t.equals=function(t,e){return 0===t.compareTo(e)},t.getDayName=function(t){return Date.CultureInfo.dayNames[t]},t.getDayNumberFromName=function(t){for(var e=Date.CultureInfo.dayNames,n=Date.CultureInfo.abbreviatedDayNames,r=Date.CultureInfo.shortestDayNames,a=t.toLowerCase(),i=0;i<e.length;i++)if(e[i].toLowerCase()===a||n[i].toLowerCase()===a||r[i].toLowerCase()===a)return i;return-1},t.getMonthNumberFromName=function(t){for(var e=Date.CultureInfo.monthNames,n=Date.CultureInfo.abbreviatedMonthNames,r=t.toLowerCase(),a=0;a<e.length;a++)if(e[a].toLowerCase()===r||n[a].toLowerCase()===r)return a;return-1},t.getMonthName=function(t){return Date.CultureInfo.monthNames[t]},t.isLeapYear=function(t){return t%4===0&&t%100!==0||t%400===0},t.getDaysInMonth=function(e,n){return!n&&t.validateMonth(e)&&(n=e,e=Date.today().getFullYear()),[31,t.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][n]},e.getDaysInMonth=function(){return t.getDaysInMonth(this.getFullYear(),this.getMonth())},t.getTimezoneAbbreviation=function(t,e){var n,r=e?Date.CultureInfo.abbreviatedTimeZoneDST:Date.CultureInfo.abbreviatedTimeZoneStandard;for(n in r)if(r.hasOwnProperty(n)&&r[n]===t)return n;return null},t.getTimezoneOffset=function(t,e){var n,r=[],a=Date.CultureInfo.timezones;for(t||(t=(new Date).getTimezone()),n=0;n<a.length;n++)a[n].name===t.toUpperCase()&&r.push(n);if(!a[r[0]])return null;if(1===r.length||!e)return a[r[0]].offset;for(n=0;n<r.length;n++)if(a[r[n]].dst)return a[r[n]].offset},t.getQuarter=function(t){t=t||new Date;var e=[1,2,3,4];return e[Math.floor(t.getMonth()/3)]},t.getDaysLeftInQuarter=function(t){t=t||new Date;var e=new Date(t);return e.setMonth(e.getMonth()+3-e.getMonth()%3,0),Math.floor((e-t)/864e5)},e.clone=function(){var t=new Date(this.getTime());return t._explicitTime=this._explicitTime,t},e.compareTo=function(t){return Date.compare(this,t)},e.equals=function(t){return Date.equals(this,void 0!==t?t:new Date)},e.between=function(t,e){return this.getTime()>=t.getTime()&&this.getTime()<=e.getTime()},e.isAfter=function(t){return 1===this.compareTo(t||new Date)},e.isBefore=function(t){return-1===this.compareTo(t||new Date)},e.isToday=e.isSameDay=function(t){return this.clone().clearTime().equals((t||new Date).clone().clearTime())},e.addMilliseconds=function(t){return t?(this.setTime(this.getTime()+1*t),this):this},e.addSeconds=function(t){return t?this.addMilliseconds(1e3*t):this},e.addMinutes=function(t){return t?this.addMilliseconds(6e4*t):this},e.addHours=function(t){return t?this.addMilliseconds(36e5*t):this},e.addDays=function(t){return t?(this.setDate(this.getDate()+1*t),this):this},e.addWeekdays=function(t){if(!t)return this;var e=this.getDay(),n=Math.ceil(Math.abs(t)/7);if((0===e||6===e)&&t>0&&(this.next().monday(),this.addDays(-1)),0>t){for(;0>t;)this.addDays(-1),e=this.getDay(),0!==e&&6!==e&&t++;return this}return(t>5||t>=6-e)&&(t+=2*n),this.addDays(t)},e.addWeeks=function(t){return t?this.addDays(7*t):this},e.addMonths=function(e){if(!e)return this;var n=this.getDate();return this.setDate(1),this.setMonth(this.getMonth()+1*e),this.setDate(Math.min(n,t.getDaysInMonth(this.getFullYear(),this.getMonth()))),this},e.addQuarters=function(t){return t?this.addMonths(3*t):this},e.addYears=function(t){return t?this.addMonths(12*t):this},e.add=function(t){if("number"==typeof t)return this._orient=t,this;var e=t;return e.day&&e.day-this.getDate()!==0&&this.setDate(e.day),e.milliseconds&&this.addMilliseconds(e.milliseconds),e.seconds&&this.addSeconds(e.seconds),e.minutes&&this.addMinutes(e.minutes),e.hours&&this.addHours(e.hours),e.weeks&&this.addWeeks(e.weeks),e.months&&this.addMonths(e.months),e.years&&this.addYears(e.years),e.days&&this.addDays(e.days),e.setExplicitTime&&(this._explicitTime=!0),this},e.getWeek=function(t){var e,n=new Date(this.valueOf());t?(n.addMinutes(n.getTimezoneOffset()),e=n.clone()):e=this;var r=(e.getDay()+6)%7;n.setDate(n.getDate()-r+3);var a=n.valueOf();return n.setMonth(0,1),4!==n.getDay()&&n.setMonth(0,1+(4-n.getDay()+7)%7),1+Math.ceil((a-n)/6048e5)},e.getISOWeek=function(){return n(this.getWeek(!0))},e.setWeek=function(t){return t-this.getWeek()===0?1!==this.getDay()?this.moveToDayOfWeek(1,this.getDay()>1?-1:1):this:this.moveToDayOfWeek(1,this.getDay()>1?-1:1).addWeeks(t-this.getWeek())},e.setQuarter=function(t){var e=Math.abs(3*(t-1)+1);return this.setMonth(e,1)},e.getQuarter=function(){return Date.getQuarter(this)},e.getDaysLeftInQuarter=function(){return Date.getDaysLeftInQuarter(this)};var r=function(t,e,n,r){if(r=r?r:"Object","undefined"==typeof t)return!1;if("number"!=typeof t)throw new TypeError(t+" is not a Number.");return e>t||t>n?!1:!0};t.validateMillisecond=function(t){return r(t,0,999,"millisecond")},t.validateSecond=function(t){return r(t,0,59,"second")},t.validateMinute=function(t){return r(t,0,59,"minute")},t.validateHour=function(t){return r(t,0,23,"hour")},t.validateDay=function(e,n,a){return void 0===n||null===n||void 0===a||null===a?!1:r(e,1,t.getDaysInMonth(n,a),"day")},t.validateWeek=function(t){return r(t,0,53,"week")},t.validateMonth=function(t){return r(t,0,11,"month")},t.validateYear=function(t){return r(t,-271822,275760,"year")},t.validateTimezone=function(t){var e={ACDT:1,ACST:1,ACT:1,ADT:1,AEDT:1,AEST:1,AFT:1,AKDT:1,AKST:1,AMST:1,AMT:1,ART:1,AST:1,AWDT:1,AWST:1,AZOST:1,AZT:1,BDT:1,BIOT:1,BIT:1,BOT:1,BRT:1,BST:1,BTT:1,CAT:1,CCT:1,CDT:1,CEDT:1,CEST:1,CET:1,CHADT:1,CHAST:1,CHOT:1,ChST:1,CHUT:1,CIST:1,CIT:1,CKT:1,CLST:1,CLT:1,COST:1,COT:1,CST:1,CT:1,CVT:1,CWST:1,CXT:1,DAVT:1,DDUT:1,DFT:1,EASST:1,EAST:1,EAT:1,ECT:1,EDT:1,EEDT:1,EEST:1,EET:1,EGST:1,EGT:1,EIT:1,EST:1,FET:1,FJT:1,FKST:1,FKT:1,FNT:1,GALT:1,GAMT:1,GET:1,GFT:1,GILT:1,GIT:1,GMT:1,GST:1,GYT:1,HADT:1,HAEC:1,HAST:1,HKT:1,HMT:1,HOVT:1,HST:1,ICT:1,IDT:1,IOT:1,IRDT:1,IRKT:1,IRST:1,IST:1,JST:1,KGT:1,KOST:1,KRAT:1,KST:1,LHST:1,LINT:1,MAGT:1,MART:1,MAWT:1,MDT:1,MET:1,MEST:1,MHT:1,MIST:1,MIT:1,MMT:1,MSK:1,MST:1,MUT:1,MVT:1,MYT:1,NCT:1,NDT:1,NFT:1,NPT:1,NST:1,NT:1,NUT:1,NZDT:1,NZST:1,OMST:1,ORAT:1,PDT:1,PET:1,PETT:1,PGT:1,PHOT:1,PHT:1,PKT:1,PMDT:1,PMST:1,PONT:1,PST:1,PYST:1,PYT:1,RET:1,ROTT:1,SAKT:1,SAMT:1,SAST:1,SBT:1,SCT:1,SGT:1,SLST:1,SRT:1,SST:1,SYOT:1,TAHT:1,THA:1,TFT:1,TJT:1,TKT:1,TLT:1,TMT:1,TOT:1,TVT:1,UCT:1,ULAT:1,UTC:1,UYST:1,UYT:1,UZT:1,VET:1,VLAT:1,VOLT:1,VOST:1,VUT:1,WAKT:1,WAST:1,WAT:1,WEDT:1,WEST:1,WET:1,WST:1,YAKT:1,YEKT:1,Z:1};return 1===e[t]},t.validateTimezoneOffset=function(t){return t>-841&&721>t},t.validateSetExplicitTime=function(){return!0};var a=function(e){var n,r,a={},i=this;r=function(n,r,a){if("day"===n){var s=void 0!==e.month?e.month-i.getMonth():i.getMonth(),o=void 0!==e.year?e.year-i.getFullYear():i.getFullYear();return t[r](a,o,s)}return t[r](a)};for(n in e)if(hasOwnProperty.call(e,n)){var s="validate"+n.charAt(0).toUpperCase()+n.slice(1);t[s]&&null!==e[n]&&r(n,s,e[n])&&(a[n]=e[n])}return a};e.set=function(t){t=a.call(this,t);var e;for(e in t)if(hasOwnProperty.call(t,e)){var n,r,i=e.charAt(0).toUpperCase()+e.slice(1);"week"!==e&&"month"!==e&&"timezone"!==e&&"timezoneOffset"!==e&&(i+="s"),n="add"+i,r="get"+i,"month"===e?n+="s":"year"===e&&(r="getFullYear"),"day"!==e&&"timezone"!==e&&"timezoneOffset"!==e&&"week"!==e&&"setExplicitTime"!==e?this[n](t[e]-this[r]()):("timezone"===e||"timezoneOffset"===e||"week"===e)&&this["set"+i](t[e])}return t.day&&this.addDays(t.day-this.getDate()),t.setExplicitTime&&(this._explicitTime=!0),this},e.moveToFirstDayOfMonth=function(){return this.set({day:1})},e.moveToLastDayOfMonth=function(){return this.set({day:t.getDaysInMonth(this.getFullYear(),this.getMonth())})},e.moveToNthOccurrence=function(t,e){if("Weekday"===t){if(e>0)this.moveToFirstDayOfMonth(),this.is().weekday()&&(e-=1);else{if(!(0>e))return this;this.moveToLastDayOfMonth(),this.is().weekday()&&(e+=1)}return this.addWeekdays(e)}var n=0;if(e>0)n=e-1;else if(-1===e)return this.moveToLastDayOfMonth(),this.getDay()!==t&&this.moveToDayOfWeek(t,-1),this;return this.moveToFirstDayOfMonth().addDays(-1).moveToDayOfWeek(t,1).addWeeks(n)};var i=function(t,e,n){return function(r,a){var i=(r-this[t]()+n*(a||1))%n;return this[e](0===i?i+=n*(a||1):i)}};e.moveToDayOfWeek=i("getDay","addDays",7),e.moveToMonth=i("getMonth","addMonths",12),e.getOrdinate=function(){var t=this.getDate();return s(t)},e.getOrdinalNumber=function(){return Math.ceil((this.clone().clearTime()-new Date(this.getFullYear(),0,1))/864e5)+1},e.getTimezone=function(){return t.getTimezoneAbbreviation(this.getUTCOffset(),this.isDaylightSavingTime())},e.setTimezoneOffset=function(t){var e=this.getTimezoneOffset(),n=-6*Number(t)/10;return n||0===n?this.addMinutes(n-e):this},e.setTimezone=function(e){return this.setTimezoneOffset(t.getTimezoneOffset(e))},e.hasDaylightSavingTime=function(){return Date.today().set({month:0,day:1}).getTimezoneOffset()!==Date.today().set({month:6,day:1}).getTimezoneOffset()},e.isDaylightSavingTime=function(){return Date.today().set({month:0,day:1}).getTimezoneOffset()!==this.getTimezoneOffset()},e.getUTCOffset=function(t){var e,n=-10*(t||this.getTimezoneOffset())/6;return 0>n?(e=(n-1e4).toString(),e.charAt(0)+e.substr(2)):(e=(n+1e4).toString(),"+"+e.substr(1))},e.getElapsed=function(t){return(t||new Date)-this};var s=function(t){switch(1*t){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},o=function(t){var e,n=Date.CultureInfo.formatPatterns;switch(t){case"d":return this.toString(n.shortDate);case"D":return this.toString(n.longDate);case"F":return this.toString(n.fullDateTime);case"m":return this.toString(n.monthDay);case"r":case"R":return e=this.clone().addMinutes(this.getTimezoneOffset()),e.toString(n.rfc1123)+" GMT";case"s":return this.toString(n.sortableDateTime);case"t":return this.toString(n.shortTime);case"T":return this.toString(n.longTime);case"u":return e=this.clone().addMinutes(this.getTimezoneOffset()),e.toString(n.universalSortableDateTime);case"y":return this.toString(n.yearMonth);default:return!1}},u=function(t){return function(e){if("\\"===e.charAt(0))return e.replace("\\","");switch(e){case"hh":return n(t.getHours()<13?0===t.getHours()?12:t.getHours():t.getHours()-12);case"h":return t.getHours()<13?0===t.getHours()?12:t.getHours():t.getHours()-12;case"HH":return n(t.getHours());case"H":return t.getHours();case"mm":return n(t.getMinutes());case"m":return t.getMinutes();case"ss":return n(t.getSeconds());case"s":return t.getSeconds();case"yyyy":return n(t.getFullYear(),4);case"yy":return n(t.getFullYear());case"y":return t.getFullYear();case"dddd":return Date.CultureInfo.dayNames[t.getDay()];case"ddd":return Date.CultureInfo.abbreviatedDayNames[t.getDay()];case"dd":return n(t.getDate());case"d":return t.getDate();case"MMMM":return Date.CultureInfo.monthNames[t.getMonth()];case"MMM":return Date.CultureInfo.abbreviatedMonthNames[t.getMonth()];case"MM":return n(t.getMonth()+1);case"M":return t.getMonth()+1;case"t":return t.getHours()<12?Date.CultureInfo.amDesignator.substring(0,1):Date.CultureInfo.pmDesignator.substring(0,1);case"tt":return t.getHours()<12?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator;case"S":return s(t.getDate());case"W":return t.getWeek();case"WW":return t.getISOWeek();case"Q":return"Q"+t.getQuarter();case"q":return String(t.getQuarter());default:return e}}};e.toString=function(t,e){if(!e&&t&&1===t.length&&(output=o.call(this,t)))return output;var n=u(this);return t?t.replace(/((\\)?(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|S|q|Q|WW?W?W?)(?![^\[]*\]))/g,n).replace(/\[|\]/g,""):this._toString()}}(),function(){var t=Date,e=t.prototype,n=Number.prototype;e._orient=1,e._nth=null,e._is=!1,e._same=!1,e._explicitTime=!1,e._isSecond=!1,n._dateElement="days",e.next=function(){return this._move=!0,this._orient=1,this},t.next=function(){return t.today().next()},e.last=e.prev=e.previous=function(){return this._move=!0,this._orient=-1,this},t.last=t.prev=t.previous=function(){return t.today().last()},e.is=function(){return this._is=!0,this},e.same=function(){return this._same=!0,this._isSecond=!1,this},e.today=function(){return this.same().day()},e.weekday=function(){return this._nth?h("Weekday").call(this):this._move?this.addWeekdays(this._orient):this._is?(this._is=!1,!this.is().sat()&&!this.is().sun()):!1},e.weekend=function(){return this._is?(this._is=!1,this.is().sat()||this.is().sun()):!1},e.at=function(e){return"string"==typeof e?t.parse(this.toString("d")+" "+e):this.set(e)},n.fromNow=n.after=function(t){var e={};return e[this._dateElement]=this,(t?t.clone():new Date).add(e)},n.ago=n.before=function(t){var e={},n="s"!==this._dateElement[this._dateElement.length-1]?this._dateElement+"s":this._dateElement;return e[n]=-1*this,(t?t.clone():new Date).add(e)};var r,a="sunday monday tuesday wednesday thursday friday saturday".split(/\s/),i="january february march april may june july august september october november december".split(/\s/),s=[],o=[],u="final first second third fourth fifth".split(/\s/);e.toObject=function(){for(var t={},e=0;e<s.length;e++)this["get"+o[e]]&&(t[s[e].toLowerCase()]=this["get"+o[e]]());return t},t.fromObject=function(t){return t.week=null,Date.today().set(t)};var h=function(e){return function(){if(this._is)return this._is=!1,this.getDay()===e;if(this._move&&(this._move=null),null!==this._nth){this._isSecond&&this.addSeconds(-1*this._orient),this._isSecond=!1;var n=this._nth;this._nth=null;var r=this.clone().moveToLastDayOfMonth();if(this.moveToNthOccurrence(e,n),this>r)throw new RangeError(t.getDayName(e)+" does not occur "+n+" times in the month of "+t.getMonthName(r.getMonth())+" "+r.getFullYear()+".");return this}return this.moveToDayOfWeek(e,this._orient)}},c=function(e){return function(){var n=t.today(),r=e-n.getDay();return(0===e&&1===Date.CultureInfo.firstDayOfWeek&&0!==n.getDay()||0>r)&&(r+=7),n.addDays(r)}},l=function(t){return function(){return this._is?(this._is=!1,this.getMonth()===t):this.moveToMonth(t,this._orient)}},d=function(e){return function(){return t.today().set({month:e,day:1})}},f=function(n,r,a){for(var i=0;i<n.length;i++)t[n[i].toUpperCase()]=t[n[i].toUpperCase().substring(0,3)]=i,t[n[i]]=t[n[i].substring(0,3)]=r(i),e[n[i]]=e[n[i].substring(0,3)]=a(i)};f(a,c,h),f(i,d,l);for(var g=function(t){return function(){if(this._isSecond)return this._isSecond=!1,this;if(this._same){this._same=this._is=!1;var e=this.toObject(),n=(arguments[0]||new Date).toObject(),r="",a=t.toLowerCase();a="s"===a[a.length-1]?a.substring(0,a.length-1):a;for(var i=s.length-1;i>-1;i--){if(r=s[i].toLowerCase(),e[r]!==n[r])return!1;if(a===r)break}return!0}return"s"!==t.substring(t.length-1)&&(t+="s"),this._move&&(this._move=null),this["add"+t](this._orient)}},m=function(t){return function(){return this._dateElement=t,this}},y=0;y<s.length;y++)r=s[y].toLowerCase(),"weekday"!==r&&(e[r]=e[r+"s"]=g(s[y]),n[r]=n[r+"s"]=m(r+"s"));e._ss=g("Second");for(var T=function(t){return function(e){return this._same?this._ss(arguments[0]):e||0===e?this.moveToNthOccurrence(e,t):(this._nth=t,2!==t||void 0!==e&&null!==e?this:(this._isSecond=!0,this.addSeconds(this._orient)))}},p=0;p<u.length;p++)e[u[p]]=T(0===p?-1:p)}(),function(){Date.Parsing={Exception:function(t){this.message="Parse error at '"+t.substring(0,10)+" ...'"}};var t=Date.Parsing,e={standard:[0,31,59,90,120,151,181,212,243,273,304,334],leap:[0,31,60,91,121,152,182,213,244,274,305,335]};t.isLeapYear=function(t){return t%4===0&&t%100!==0||t%400===0};var n={multiReplace:function(t,e){var n;for(n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r;"function"==typeof e[n]||(r=e[n]instanceof RegExp?e[n]:new RegExp(e[n],"g")),t=t.replace(r,n)}return t},getDayOfYearFromWeek:function(t){var e,n,r;return t.weekDay=t.weekDay||0===t.weekDay?t.weekDay:1,e=new Date(t.year,0,4),n=0===e.getDay()?7:e.getDay(),r=n+3,t.dayOfYear=7*t.week+(0===t.weekDay?7:t.weekDay)-r,t},getDayOfYear:function(t,e){t.dayOfYear||(t=n.getDayOfYearFromWeek(t));for(var r=0;r<=e.length;r++){if(t.dayOfYear<e[r]||r===e.length){t.day=t.day?t.day:t.dayOfYear-e[r-1];break}t.month=r}return t},adjustForTimeZone:function(t,e){var n;return"Z"===t.zone.toUpperCase()||0===t.zone_hours&&0===t.zone_minutes?n=-e.getTimezoneOffset():(n=60*t.zone_hours+(t.zone_minutes||0),"+"===t.zone_sign&&(n*=-1),n-=e.getTimezoneOffset()),e.setMinutes(e.getMinutes()+n),e},setDefaults:function(t){return t.year=t.year||Date.today().getFullYear(),t.hours=t.hours||0,t.minutes=t.minutes||0,t.seconds=t.seconds||0,t.milliseconds=t.milliseconds||0,(t.month||!t.week&&!t.dayOfYear)&&(t.month=t.month||0,t.day=t.day||1),t},dataNum:function(t,e,n,r){var a=1*t;return e?r?t?1*e(t):t:t?e(a):t:n?t&&"undefined"!=typeof t?a:t:t?a:t},timeDataProcess:function(t){var e={};for(var r in t.data)t.data.hasOwnProperty(r)&&(e[r]=t.ignore[r]?t.data[r]:n.dataNum(t.data[r],t.mods[r],t.explict[r],t.postProcess[r]));return t.data.secmins&&(t.data.secmins=60*t.data.secmins.replace(",","."),e.minutes?e.seconds||(e.seconds=t.data.secmins):e.minutes=t.data.secmins,delete t.secmins),e},buildTimeObjectFromData:function(t){var e=n.timeDataProcess({data:{year:t[1],month:t[5],day:t[7],week:t[8],dayOfYear:t[10],hours:t[15],zone_hours:t[23],zone_minutes:t[24],zone:t[21],zone_sign:t[22],weekDay:t[9],minutes:t[16],seconds:t[19],milliseconds:t[20],secmins:t[18]},mods:{month:function(t){return t-1},weekDay:function(t){return t=Math.abs(t),7===t?0:t},minutes:function(t){return t.replace(":","")},seconds:function(t){return Math.floor(1*t.replace(":","").replace(",","."))},milliseconds:function(t){return 1e3*t.replace(",",".")}},postProcess:{minutes:!0,seconds:!0,milliseconds:!0},explict:{zone_hours:!0,zone_minutes:!0},ignore:{zone:!0,zone_sign:!0,secmins:!0}});return e},addToHash:function(t,e,n){e=e,n=n;for(var r=e.length,a=0;r>a;a++)t[e[a]]=n[a];return t},combineRegex:function(t,e){return new RegExp("(("+t.source+")\\s("+e.source+"))")},getDateNthString:function(t,e,n){return t?Date.today().addDays(n).toString("d"):e?Date.today().last()[n]().toString("d"):void 0},buildRegexData:function(t){for(var e=[],n=t.length,r=0;n>r;r++)e.push(Array.isArray(t[r])?this.combineRegex(t[r][0],t[r][1]):t[r]);return e}};t.processTimeObject=function(r){var a,i;return n.setDefaults(r),i=t.isLeapYear(r.year)?e.leap:e.standard,r.month||!r.week&&!r.dayOfYear?r.dayOfYear=i[r.month]+r.day:n.getDayOfYear(r,i),a=new Date(r.year,r.month,r.day,r.hours,r.minutes,r.seconds,r.milliseconds),r.zone&&n.adjustForTimeZone(r,a),a},t.ISO={regex:/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-3])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-4])((:?)[0-5]\d)?|24\:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?\s?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,parse:function(e){var r,a=e.match(this.regex);return a&&a.length?(r=n.buildTimeObjectFromData(a),r.year&&(r.year||r.month||r.day||r.week||r.dayOfYear)?t.processTimeObject(r):null):null}},t.Numeric={isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},regex:/\b([0-1]?[0-9])([0-3]?[0-9])([0-2]?[0-9]?[0-9][0-9])\b/i,parse:function(e){var n,r,a={},i=Date.CultureInfo.dateElementOrder.split("");if(!this.isNumeric(e)||"+"===e[0]&&"-"===e[0])return null;if(e.length<5)return a.year=e,t.processTimeObject(a);if(n=e.match(this.regex),!n||!n.length)return null;for(r=0;r<i.length;r++)switch(i[r]){case"d":a.day=n[r+1];break;case"m":a.month=n[r+1]-1;break;case"y":a.year=n[r+1]}return t.processTimeObject(a)}},t.Normalizer={regexData:function(){var t=Date.CultureInfo.regexPatterns;return n.buildRegexData([t.tomorrow,t.yesterday,[t.past,t.mon],[t.past,t.tue],[t.past,t.wed],[t.past,t.thu],[t.past,t.fri],[t.past,t.sat],[t.past,t.sun]])},basicReplaceHash:function(){var t=Date.CultureInfo.regexPatterns;return{January:t.jan.source,February:t.feb,March:t.mar,April:t.apr,May:t.may,June:t.jun,July:t.jul,August:t.aug,September:t.sep,October:t.oct,November:t.nov,December:t.dec,"":/\bat\b/gi," ":/\s{2,}/,am:t.inTheMorning,"9am":t.thisMorning,pm:t.inTheEvening,"7pm":t.thisEvening}},keys:function(){return[n.getDateNthString(!0,!1,1),n.getDateNthString(!0,!1,-1),n.getDateNthString(!1,!0,"monday"),n.getDateNthString(!1,!0,"tuesday"),n.getDateNthString(!1,!0,"wednesday"),n.getDateNthString(!1,!0,"thursday"),n.getDateNthString(!1,!0,"friday"),n.getDateNthString(!1,!0,"saturday"),n.getDateNthString(!1,!0,"sunday")]},buildRegexFunctions:function(){var t=Date.CultureInfo.regexPatterns,e=Date.i18n.__,n=new RegExp("(\\b\\d\\d?("+e("AM")+"|"+e("PM")+")? )("+t.tomorrow.source.slice(1)+")","i");this.replaceFuncs=[[n,function(t,e){var n=Date.today().addDays(1).toString("d");return n+" "+e}],[t.amThisMorning,function(t,e){return e}],[t.pmThisEvening,function(t,e){return e}]]},buildReplaceData:function(){this.buildRegexFunctions(),this.replaceHash=n.addToHash(this.basicReplaceHash(),this.keys(),this.regexData())},stringReplaceFuncs:function(t){for(var e=0;e<this.replaceFuncs.length;e++)t=t.replace(this.replaceFuncs[e][0],this.replaceFuncs[e][1]);return t},parse:function(e){e=this.stringReplaceFuncs(e),e=n.multiReplace(e,this.replaceHash);try{var r=e.split(/([\s\-\.\,\/\x27]+)/);3===r.length&&t.Numeric.isNumeric(r[0])&&t.Numeric.isNumeric(r[2])&&r[2].length>=4&&"d"===Date.CultureInfo.dateElementOrder[0]&&(e="1/"+r[0]+"/"+r[2])}catch(a){}return e}},t.Normalizer.buildReplaceData()}(),function(){for(var t=Date.Parsing,e=t.Operators={rtoken:function(e){return function(n){var r=n.match(e);if(r)return[r[0],n.substring(r[0].length)];throw new t.Exception(n)}},token:function(){return function(t){return e.rtoken(new RegExp("^\\s*"+t+"\\s*"))(t)}},stoken:function(t){return e.rtoken(new RegExp("^"+t))},until:function(t){return function(e){for(var n=[],r=null;e.length;){try{r=t.call(this,e)}catch(a){n.push(r[0]),e=r[1];continue}break}return[n,e]}},many:function(t){return function(e){for(var n=[],r=null;e.length;){try{r=t.call(this,e)}catch(a){return[n,e]}n.push(r[0]),e=r[1]}return[n,e]}},optional:function(t){return function(e){var n=null;try{n=t.call(this,e)}catch(r){return[null,e]}return[n[0],n[1]]}},not:function(e){return function(n){try{e.call(this,n)}catch(r){return[null,n]}throw new t.Exception(n)}},ignore:function(t){return t?function(e){var n=null;return n=t.call(this,e),[null,n[1]]}:null},product:function(){for(var t=arguments[0],n=Array.prototype.slice.call(arguments,1),r=[],a=0;a<t.length;a++)r.push(e.each(t[a],n));return r},cache:function(e){var n={},r=null;return function(a){try{r=n[a]=n[a]||e.call(this,a)}catch(i){r=n[a]=i}if(r instanceof t.Exception)throw r;return r}},any:function(){var e=arguments;return function(n){for(var r=null,a=0;a<e.length;a++)if(null!=e[a]){try{r=e[a].call(this,n)}catch(i){r=null}if(r)return r}throw new t.Exception(n)}},each:function(){var e=arguments;return function(n){for(var r=[],a=null,i=0;i<e.length;i++)if(null!=e[i]){try{a=e[i].call(this,n)}catch(s){throw new t.Exception(n)}r.push(a[0]),n=a[1]}return[r,n]}},all:function(){var t=arguments,e=e;return e.each(e.optional(t))},sequence:function(n,r,a){return r=r||e.rtoken(/^\s*/),a=a||null,1===n.length?n[0]:function(e){for(var i=null,s=null,o=[],u=0;u<n.length;u++){try{i=n[u].call(this,e)}catch(h){break}o.push(i[0]);try{s=r.call(this,i[1])}catch(c){s=null;break}e=s[1]}if(!i)throw new t.Exception(e);if(s)throw new t.Exception(s[1]);if(a)try{i=a.call(this,i[1])}catch(l){throw new t.Exception(i[1])}return[o,i?i[1]:e]}},between:function(t,n,a){a=a||t;var i=e.each(e.ignore(t),n,e.ignore(a));return function(t){var e=i.call(this,t);return[[e[0][0],r[0][2]],e[1]]}},list:function(t,n,r){return n=n||e.rtoken(/^\s*/),r=r||null,t instanceof Array?e.each(e.product(t.slice(0,-1),e.ignore(n)),t.slice(-1),e.ignore(r)):e.each(e.many(e.each(t,e.ignore(n))),px,e.ignore(r))
},set:function(n,r,a){return r=r||e.rtoken(/^\s*/),a=a||null,function(i){for(var s=null,o=null,u=null,h=null,c=[[],i],l=!1,d=0;d<n.length;d++){u=null,o=null,s=null,l=1===n.length;try{s=n[d].call(this,i)}catch(f){continue}if(h=[[s[0]],s[1]],s[1].length>0&&!l)try{u=r.call(this,s[1])}catch(g){l=!0}else l=!0;if(l||0!==u[1].length||(l=!0),!l){for(var m=[],y=0;y<n.length;y++)d!==y&&m.push(n[y]);o=e.set(m,r).call(this,u[1]),o[0].length>0&&(h[0]=h[0].concat(o[0]),h[1]=o[1])}if(h[1].length<c[1].length&&(c=h),0===c[1].length)break}if(0===c[0].length)return c;if(a){try{u=a.call(this,c[1])}catch(T){throw new t.Exception(c[1])}c[1]=u[1]}return c}},forward:function(t,e){return function(n){return t[e].call(this,n)}},replace:function(t,e){return function(n){var r=t.call(this,n);return[e,r[1]]}},process:function(t,e){return function(n){var r=t.call(this,n);return[e.call(this,r[0]),r[1]]}},min:function(e,n){return function(r){var a=n.call(this,r);if(a[0].length<e)throw new t.Exception(r);return a}}},n=function(t){function e(){var e,n,r=null,a=[];return arguments.length>1?r=Array.prototype.slice.call(arguments):arguments[0]instanceof Array&&(r=arguments[0]),r?(e=r.shift(),e.length>0?(r.unshift(e[n]),a.push(t.apply(null,r)),r.shift(),a):void 0):t.apply(null,arguments)}return e},a="optional not ignore cache".split(/\s/),i=0;i<a.length;i++)e[a[i]]=n(e[a[i]]);for(var s=function(t){return function(){return arguments[0]instanceof Array?t.apply(null,arguments[0]):t.apply(null,arguments)}},o="each any all".split(/\s/),u=0;u<o.length;u++)e[o[u]]=s(e[o[u]])}(),function(){var t=Date,e=function(t){for(var n=[],r=0;r<t.length;r++)t[r]instanceof Array?n=n.concat(e(t[r])):t[r]&&n.push(t[r]);return n},n=function(){if(this.meridian&&(this.hour||0===this.hour)){if("a"===this.meridian&&this.hour>11&&Date.Config.strict24hr)throw"Invalid hour and meridian combination";if("p"===this.meridian&&this.hour<12&&Date.Config.strict24hr)throw"Invalid hour and meridian combination";"p"===this.meridian&&this.hour<12?this.hour=this.hour+12:"a"===this.meridian&&12===this.hour&&(this.hour=0)}},r=function(){var t=new Date;!this.hour&&!this.minute||this.month||this.year||this.day||(this.day=t.getDate()),this.year||(this.year=t.getFullYear(),this.month<t.getMonth()&&this.year++),this.month||0===this.month||(this.month=t.getMonth()),this.day||(this.day=1),this.hour||(this.hour=0),this.minute||(this.minute=0),this.second||(this.second=0),this.millisecond||(this.millisecond=0)},a={getToday:function(){return this.now||-1!=="hour minute second".indexOf(this.unit)?new Date:t.today()},setDaysFromWeekday:function(e){var n;return this.unit="day",n=t.getDayNumberFromName(this.weekday)-e.getDay(),this.days=n?(n+7*orient)%7:7*orient,this},setMonthsFromMonth:function(t,e){var n;return this.unit="month",n=this.month-t.getMonth(),this.months=n?(n+12*e)%12:12*e,this.month=null,this},setDMYFromWeekday:function(){var t=Date[this.weekday]();return this.day=t.getDate(),this.month||(this.month=t.getMonth()),this.year=t.getFullYear(),this},setUnitValue:function(t){!this.value&&this.operator&&null!==this.operator&&this[this.unit+"s"]&&null!==this[this.unit+"s"]?this[this.unit+"s"]=this[this.unit+"s"]+("add"===this.operator?1:-1)+(this.value||0)*t:(null==this[this.unit+"s"]||null!=this.operator)&&(this.value||(this.value=1),this[this.unit+"s"]=this.value*t)},generateDateFromWeeks:function(){var t=void 0!==this.weekday?this.weekday:"today",e=Date[t]().addWeeks(this.weeks);return this.now&&e.setTimeToNow(),e}};t.Translator={hour:function(t){return function(){this.hour=Number(t),this.setExplicitTime=!0}},minute:function(t){return function(){this.minute=Number(t),this.setExplicitTime=!0}},second:function(t){return function(){this.second=Number(t),this.setExplicitTime=!0}},secondAndMillisecond:function(t){return function(){var e=t.match(/^([0-5][0-9])\.([0-9]{1,3})/);this.second=Number(e[1]),this.millisecond=Number(e[2]),this.setExplicitTime=!0}},meridian:function(t){return function(){this.meridian=t.slice(0,1).toLowerCase(),this.setExplicitTime=!0}},timezone:function(t){return function(){var e=t.replace(/[^\d\+\-]/g,"");e.length?this.timezoneOffset=Number(e):this.timezone=t.toLowerCase()}},day:function(t){var e=t[0];return function(){if(this.day=Number(e.match(/\d+/)[0]),this.day<1)throw"invalid day"}},month:function(t){return function(){if(this.month=3===t.length?"jan feb mar apr may jun jul aug sep oct nov dec".indexOf(t)/4:Number(t)-1,this.month<0)throw"invalid month"}},year:function(t){return function(){var e=Number(t);this.year=t.length>2?e:e+(e+2e3<Date.CultureInfo.twoDigitYearMax?2e3:1900)}},rday:function(t){return function(){switch(t){case"yesterday":this.days=-1;break;case"later":this.days=5;break;case"soon":this.days=2;break;case"tomorrow":this.days=1;break;case"today":this.days=0;break;case"now":this.days=0,this.now=!0}}},finishExact:function(e){var a;e=e instanceof Array?e:[e];for(var i=0;i<e.length;i++)e[i]&&e[i].call(this);if(r.call(this),n.call(this),this.day>t.getDaysInMonth(this.year,this.month))throw new RangeError(this.day+" is not a valid value for days.");return a=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second),a._explicitTime=this.setExplicitTime,this.year<100&&a.setFullYear(this.year),this.timezone?a.set({timezone:this.timezone}):this.timezoneOffset&&a.set({timezoneOffset:this.timezoneOffset}),a},finish:function(t){var r,i,s,o;if(t=t instanceof Array?e(t):[t],0===t.length)return null;for(var u=0;u<t.length;u++)"function"==typeof t[u]&&t[u].call(this);return!this.now||this.unit||this.operator?(r=a.getToday.call(this),givenYear=!!this.year,i=!!(this.days&&null!==this.days||this.orient||this.operator),s="past"===this.orient||"subtract"===this.operator?-1:1,this.month&&"week"===this.unit&&(this.value=this.month+1,delete this.month,delete this.day),!this.month&&0!==this.month||-1==="year day hour minute second".indexOf(this.unit)||(this.value||(this.value=this.month+1),this.month=null,i=!0),i||!this.weekday||this.day||this.days||a.setDMYFromWeekday.call(this),!this.weekday||"week"===this.unit||this.day||this.days||(o=Date[this.weekday](),this.day=o.getDate(),o.getMonth()!==r.getMonth()&&(this.month=o.getMonth())),i&&this.weekday&&"month"!==this.unit&&"week"!==this.unit&&a.setDaysFromWeekday.call(this,r),this.month&&"day"===this.unit&&this.operator&&(this.value||(this.value=this.month+1),this.month=null),null!=this.value&&null!=this.month&&null!=this.year&&(this.day=1*this.value),this.month&&!this.day&&this.value&&(r.set({day:1*this.value}),i||(this.day=1*this.value)),this.month||!this.value||"month"!==this.unit||this.now||(this.month=this.value,i=!0),i&&(this.month||0===this.month)&&"year"!==this.unit&&a.setMonthsFromMonth.call(this,r,s),this.unit||(this.unit="day"),a.setUnitValue.call(this,s),n.call(this),!this.month&&0!==this.month||this.day||(this.day=1),this.orient||this.operator||"week"!==this.unit||!this.value||this.day||this.month?"week"!==this.unit||!this.weeks||this.day||this.month?(i&&this.timezone&&this.day&&this.days&&(this.day=this.days),!givenYear&&this.month<r.getMonth()&&(this.year=r.getFullYear()+1),this._explicitTime=this.setExplicitTime,i?r.add(this):r.set(this)):a.generateDateFromWeeks.call(this):Date.today().setWeek(this.value)):new Date}}}(),function(){var t=Date;t.Grammar={};var e,n=t.Parsing.Operators,r=t.Grammar,a=t.Translator;r.datePartDelimiter=n.rtoken(/^([\s\-\.\,\/\x27]+)/),r.timePartDelimiter=n.stoken(":"),r.whiteSpace=n.rtoken(/^\s*/),r.generalDelimiter=n.rtoken(/^(([\s\,]|at|@|on)+)/);var i={};r.ctoken=function(t){var e=i[t];if(!e){for(var r=Date.CultureInfo.regexPatterns,a=t.split(/\s+/),s=[],o=0;o<a.length;o++)s.push(n.replace(n.rtoken(r[a[o]]),a[o]));e=i[t]=n.any.apply(null,s)}return e},r.ctoken2=function(t){return n.rtoken(Date.CultureInfo.regexPatterns[t])};var s=function(t,e,a){return n.cache(a?n.process(n.each(n.rtoken(t),n.optional(r.ctoken2(a))),e):n.process(n.rtoken(t),e))},o={},u=function(t){return o[t]=o[t]||r.format(t)[0],o[t]};r.allformats=function(t){var e=[];if(t instanceof Array)for(var n=0;n<t.length;n++)e.push(u(t[n]));else e.push(u(t));return e},r.formats=function(t){if(t instanceof Array){for(var e=[],r=0;r<t.length;r++)e.push(u(t[r]));return n.any.apply(null,e)}return u(t)};var h={timeFormats:function(){r.h=s(/^(0[0-9]|1[0-2]|[1-9])/,a.hour),r.hh=s(/^(0[0-9]|1[0-2])/,a.hour),r.H=s(/^([0-1][0-9]|2[0-3]|[0-9])/,a.hour),r.HH=s(/^([0-1][0-9]|2[0-3])/,a.hour),r.m=s(/^([0-5][0-9]|[0-9])/,a.minute),r.mm=s(/^[0-5][0-9]/,a.minute),r.s=s(/^([0-5][0-9]|[0-9])/,a.second),r.ss=s(/^[0-5][0-9]/,a.second),r["ss.s"]=s(/^[0-5][0-9]\.[0-9]{1,3}/,a.secondAndMillisecond),r.hms=n.cache(n.sequence([r.H,r.m,r.s],r.timePartDelimiter)),r.t=n.cache(n.process(r.ctoken2("shortMeridian"),a.meridian)),r.tt=n.cache(n.process(r.ctoken2("longMeridian"),a.meridian)),r.z=s(/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/,a.timezone),r.zz=s(/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/,a.timezone),r.zzz=n.cache(n.process(r.ctoken2("timezone"),a.timezone)),r.timeSuffix=n.each(n.ignore(r.whiteSpace),n.set([r.tt,r.zzz])),r.time=n.each(n.optional(n.ignore(n.stoken("T"))),r.hms,r.timeSuffix)},dateFormats:function(){e=function(){return n.each(n.any.apply(null,arguments),n.not(r.ctoken2("timeContext")))},r.d=s(/^([0-2]\d|3[0-1]|\d)/,a.day,"ordinalSuffix"),r.dd=s(/^([0-2]\d|3[0-1])/,a.day,"ordinalSuffix"),r.rday=n.cache(n.process(r.ctoken("yesterday tomorrow soon later today now"),a.rday)),r.ddd=r.dddd=n.cache(n.process(r.ctoken("sun mon tue wed thu fri sat"),function(t){return function(){this.weekday=t}})),r.M=s(/^(1[0-2]|0\d|\d)/,a.month),r.MM=s(/^(1[0-2]|0\d)/,a.month),r.MMM=r.MMMM=n.cache(n.process(r.ctoken("jan feb mar apr may jun jul aug sep oct nov dec"),a.month)),r.y=s(/^(\d+)/,a.year),r.yy=s(/^(\d\d)/,a.year),r.yyy=s(/^(\d\d?\d?\d?)/,a.year),r.yyyy=s(/^(\d\d\d\d)/,a.year),r.day=e(r.d,r.dd,r.rday),r.month=e(r.M,r.MMM),r.year=e(r.yyyy,r.yy),_setfn=function(){return n.set(arguments,r.datePartDelimiter)},r.mdy=_setfn(r.ddd,r.month,r.day,r.year),r.ymd=_setfn(r.ddd,r.year,r.month,r.day),r.dmy=_setfn(r.ddd,r.day,r.month,r.year),r.date=function(t){return(r[Date.CultureInfo.dateElementOrder]||r.mdy).call(this,t)}},relative:function(){r.orientation=n.process(r.ctoken("past future"),function(t){return function(){this.orient=t}}),r.operator=n.process(r.ctoken("add subtract"),function(t){return function(){this.operator=t}})}};r.buildGrammarFormats=function(){i={},h.timeFormats(),h.dateFormats(),h.relative(),r.value=n.process(n.rtoken(/^([-+]?\d+)?(st|nd|rd|th)?/),function(t){return function(){this.value=t.replace(/\D/g,"")}}),r.expression=n.set([r.rday,r.value,r.orientation,r.ddd,r.MMM]),r.format=n.process(n.many(n.any(n.process(n.rtoken(/^(dd?d?d?(?!e)|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/),function(e){if(r[e])return r[e];throw t.Parsing.Exception(e)}),n.process(n.rtoken(/^[^dMyhHmstz]+/),function(t){return n.ignore(n.stoken(t))}))),function(t){return n.process(n.each.apply(null,t),a.finishExact)}),r._start=n.process(n.set([r.date,r.time,r.expression],r.generalDelimiter,r.whiteSpace),a.finish)},r.buildGrammarFormats(),r._formats=r.formats(["M-d H","MMddyyyy","ddMMyyyy","Mddyyyy","ddMyyyy","Mdyyyy","dMyyyy","yyyy","Mdyy","dMyy"]),r.start=function(t){try{var e=r._formats.call({},t);if(0===e[1].length)return e}catch(n){}return r._start.call({},t)}}(),function(){function t(t){var r;return t?t instanceof Date?t.clone():(t.length>=4&&"0"!==t.charAt(0)&&"+"!==t.charAt(0)&&"-"!==t.charAt(0)&&(r=e.Parsing.ISO.parse(t)||e.Parsing.Numeric.parse(t)),r instanceof Date&&!isNaN(r.getTime())?r:(t=e.Parsing.Normalizer.parse(n.removeOrds(t)),r=n.grammarParser(t),null!==r?r:n.nativeFallback(t))):null}var e=Date,n={removeOrds:function(t){return ords=t.match(/\b(\d+)(?:st|nd|rd|th)\b/),t=ords&&2===ords.length?t.replace(ords[0],ords[1]):t},grammarParser:function(t){var n=null;try{n=e.Grammar.start.call({},t.replace(/^\s*(\S*(\s+\S+)*)\s*$/,"$1"))}catch(r){return null}return 0===n[1].length?n[0]:null},nativeFallback:function(t){var e;try{return e=Date._parse(t),e||0===e?new Date(e):null}catch(n){return null}}};e._parse||(e._parse=e.parse),e.parse=t,Date.getParseFunction=function(t){var e=Date.Grammar.allformats(t);return function(t){for(var n=null,r=0;r<e.length;r++){try{n=e[r].call({},t)}catch(a){continue}if(0===n[1].length)return n[0]}return null}},e.parseExact=function(t,n){return e.getParseFunction(n)(t)}}(),function(){var e=Date,n=e.prototype,r=function(t,e){return e||(e=2),("000"+t).slice(-1*e)},a=function(n){var a;switch(n){case"d":case"%d":a="dd";break;case"D":case"%a":a="ddd";break;case"j":case"l":case"%A":a="dddd";break;case"N":case"%u":return x.getDay()+1;case"S":a="S";break;case"w":case"%w":return x.getDay();case"z":return x.getOrdinalNumber();case"%j":return r(x.getOrdinalNumber(),3);case"%U":var i=x.clone().set({month:0,day:1}).addDays(-1).moveToDayOfWeek(0),s=x.clone().addDays(1).moveToDayOfWeek(0,-1);return i>s?"00":r((s.getOrdinalNumber()-i.getOrdinalNumber())/7+1);case"W":case"%V":return x.getISOWeek();case"%W":return r(x.getWeek());case"F":case"%B":a="MMMM";break;case"m":case"%m":a="MM";break;case"M":case"%b":case"%h":a="MMM";break;case"n":a="M";break;case"t":return e.getDaysInMonth(x.getFullYear(),x.getMonth());case"L":return e.isLeapYear(x.getFullYear())?1:0;case"o":case"%G":return x.setWeek(x.getISOWeek()).toString("yyyy");case"%g":return x._format("%G").slice(-2);case"Y":case"%Y":a="yyyy";break;case"y":case"%y":a="yy";break;case"a":case"%p":return t("tt").toLowerCase();case"A":return t("tt").toUpperCase();case"g":case"%I":a="h";break;case"G":a="H";break;case"h":a="hh";break;case"H":case"%H":a="HH";break;case"i":case"%M":a="mm";break;case"s":case"%S":a="ss";break;case"u":return r(x.getMilliseconds(),3);case"I":return x.isDaylightSavingTime()?1:0;case"O":return x.getUTCOffset();case"P":return y=x.getUTCOffset(),y.substring(0,y.length-2)+":"+y.substring(y.length-2);case"e":case"T":case"%z":case"%Z":return x.getTimezone();case"Z":return-60*x.getTimezoneOffset();case"B":var o=new Date;return Math.floor((3600*o.getHours()+60*o.getMinutes()+o.getSeconds()+60*(o.getTimezoneOffset()+60))/86.4);case"c":return x.toISOString().replace(/\"/g,"");case"U":return e.strtotime("now");case"%c":return t("d")+" "+t("t");case"%C":return Math.floor(x.getFullYear()/100+1);case"%D":a="MM/dd/yy";break;case"%n":return"\\n";case"%t":return"\\t";case"%r":a="hh:mm tt";break;case"%R":a="H:mm";break;case"%T":a="H:mm:ss";break;case"%e":a="d",override=!0;break;case"%x":override=!1;break;case"%X":a="t";break;default:return n}return a?a:void 0};e.normalizeFormat=function(t){return t.replace(/(%|\\)?.|%%/g,a)},e.strftime=function(t,e){return new Date(1e3*e)._format(t)},e.strtotime=function(t){var n=e.parse(t);return n.addMinutes(-1*n.getTimezoneOffset()),Math.round(e.UTC(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds())/1e3)};var i=function(t){var n=t,r=function(t,e){return n.toString(t,e)};return function(t){var n,a=!1;return"\\"===t.charAt(0)||"%%"===t.substring(0,2)?t.replace("\\","").replace("%%","%"):(n=e.normalizeFormat(t),n?r(n,a):void 0)}};n._format=function(t){var e=i(this);return t?t.replace(/(%|\\)?.|%%/g,e):this._toString()},n.format||(n.format=n._format)}(),function(){var t=function(t){return function(){return this[t]}},e=function(t){return function(e){return this[t]=e,this}},n=["years","months","days","hours","minutes","seconds","milliseconds"],r=function(n,r){for(var a=0;a<r.length;a++){var i=r[a],s=i.slice(0,1).toUpperCase()+i.slice(1);n.prototype[i]=0,n.prototype["get"+s]=t(i),n.prototype["set"+s]=e(i)}},a=function(t,e,n,r,i){if(1===arguments.length&&"number"==typeof t){var s=0>t?-1:1,o=Math.abs(t);this.setDays(Math.floor(o/864e5)*s),o%=864e5,this.setHours(Math.floor(o/36e5)*s),o%=36e5,this.setMinutes(Math.floor(o/6e4)*s),o%=6e4,this.setSeconds(Math.floor(o/1e3)*s),o%=1e3,this.setMilliseconds(o*s)}else this.set(t,e,n,r,i);return this.getTotalMilliseconds=function(){return 864e5*this.getDays()+36e5*this.getHours()+6e4*this.getMinutes()+1e3*this.getSeconds()},this.compareTo=function(t){var e,n=new Date(1970,1,1,this.getHours(),this.getMinutes(),this.getSeconds());return e=null===t?new Date(1970,1,1,0,0,0):new Date(1970,1,1,t.getHours(),t.getMinutes(),t.getSeconds()),e>n?-1:n>e?1:0},this.equals=function(t){return 0===this.compareTo(t)},this.add=function(t){return null===t?this:this.addSeconds(t.getTotalMilliseconds()/1e3)},this.subtract=function(t){return null===t?this:this.addSeconds(-t.getTotalMilliseconds()/1e3)},this.addDays=function(t){return new a(this.getTotalMilliseconds()+864e5*t)},this.addHours=function(t){return new a(this.getTotalMilliseconds()+36e5*t)},this.addMinutes=function(t){return new a(this.getTotalMilliseconds()+6e4*t)},this.addSeconds=function(t){return new a(this.getTotalMilliseconds()+1e3*t)},this.addMilliseconds=function(t){return new a(this.getTotalMilliseconds()+t)},this.get12HourHour=function(){return this.getHours()>12?this.getHours()-12:0===this.getHours()?12:this.getHours()},this.getDesignator=function(){return this.getHours()<12?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator},this.toString=function(t){this._toString=function(){return null!==this.getDays()&&this.getDays()>0?this.getDays()+"."+this.getHours()+":"+this.p(this.getMinutes())+":"+this.p(this.getSeconds()):this.getHours()+":"+this.p(this.getMinutes())+":"+this.p(this.getSeconds())},this.p=function(t){return t.toString().length<2?"0"+t:t};var e=this;return t?t.replace(/dd?|HH?|hh?|mm?|ss?|tt?/g,function(t){switch(t){case"d":return e.getDays();case"dd":return e.p(e.getDays());case"H":return e.getHours();case"HH":return e.p(e.getHours());case"h":return e.get12HourHour();case"hh":return e.p(e.get12HourHour());case"m":return e.getMinutes();case"mm":return e.p(e.getMinutes());case"s":return e.getSeconds();case"ss":return e.p(e.getSeconds());case"t":return(e.getHours()<12?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator).substring(0,1);case"tt":return e.getHours()<12?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator}}):this._toString()},this};r(a,n.slice(2)),a.prototype.set=function(t,e,n,r,a){this.setDays(t||this.getDays()),this.setHours(e||this.getHours()),this.setMinutes(n||this.getMinutes()),this.setSeconds(r||this.getSeconds()),this.setMilliseconds(a||this.getMilliseconds())},Date.prototype.getTimeOfDay=function(){return new a(0,this.getHours(),this.getMinutes(),this.getSeconds(),this.getMilliseconds())},Date.TimeSpan=a,"undefined"!=typeof window&&(window.TimeSpan=a)}(),function(){var t=["years","months","days","hours","minutes","seconds","milliseconds"],e=function(t){return function(){return this[t]}},n=function(t){return function(e){return this[t]=e,this}},r=function(t,r){for(var a=0;a<r.length;a++){var i=r[a],s=i.slice(0,1).toUpperCase()+i.slice(1);t.prototype[i]=0,t.prototype["get"+s]=e(i),t.prototype["set"+s]=n(i)}},a=function(t,e,n,r){function a(){e.addMonths(-t),r.months++,12===r.months&&(r.years++,r.months=0)}if(1===t)for(;e>n;)a();else for(;n>e;)a();r.months--,r.months*=t,r.years*=t},i=function(t,e,n){var r=!1==(e.isDaylightSavingTime()===n.isDaylightSavingTime());r&&1===t?e.addHours(-1):r&&e.addHours(1)},s=function(t,e,n,r,s,o,u){if(7===arguments.length)this.set(t,e,n,r,s,o,u);else if(2===arguments.length&&arguments[0]instanceof Date&&arguments[1]instanceof Date){var h=arguments[0].clone(),c=arguments[1].clone(),l=h>c?1:-1;this.dates={start:arguments[0].clone(),end:arguments[1].clone()},a(l,h,c,this),i(l,h,c);var d=c-h;if(0!==d){var f=new TimeSpan(d);this.set(this.years,this.months,f.getDays(),f.getHours(),f.getMinutes(),f.getSeconds(),f.getMilliseconds())}}return this};r(s,t),s.prototype.set=function(t,e,n,r,a,i,s){this.setYears(t||this.getYears()),this.setMonths(e||this.getMonths()),this.setDays(n||this.getDays()),this.setHours(r||this.getHours()),this.setMinutes(a||this.getMinutes()),this.setSeconds(i||this.getSeconds()),this.setMilliseconds(s||this.getMilliseconds())},Date.TimePeriod=s,"undefined"!=typeof window&&(window.TimePeriod=s)}()}function DuchessHelpersWrapper(t){function e(t,e){for(var n in t)if(t[n]==e)return n;return null}function n(t){return String(t).replace(/[&\"<>]/g,function(t){return h[t]})}function r(t){var e=t.replace(/[:,\.\'\"\)\]]$/g,"");return e}var a=!1;this.helperLibLoaded=!0;var i="@",s="+",o={None:0,Local:1,Remote:2,Auto:3},u=-1==navigator.userAgent.indexOf("Mac")?"ctrl":"";String.prototype.insertTag=function(t,e,n,r){return this.substr(0,t)+e+this.substr(t,n)+r+this.substr(t+n)},"function"!=typeof String.prototype.startsWith&&(String.prototype.startsWith=function(t){return 0===this.lastIndexOf(t,0)});var h={"&":"&amp;",'"':"&quot;","<":"&lt;",">":"&gt;"},c=["YESTERDAY","TODAY","TOMORROW","MONDAY","TUESDAY","WEDNESDAY","THURSDAY","FRIDAY","SATURDAY","SUNDAY"],l=/(^#|[\(\s]#)([^\s\),]+)/g,d=/(?:^@|[\(\s]@)([^\s\)]{2,})(\s[^\s\)@]{1,})?(\s[^\s\)@]{2,})?/g,f=/\b((?:https?:\/\/|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?]))/g,g=/(?:^|[\s\(\[])([^\(\[@\s]+\.(?:com|org|net|io))($|\s)/gi;t.parseText=function(e,a,o,h){var c=!1,m=e,y=[];if(!e||0===e.length)return{parsedText:void 0};var T=e,p=!1,D=e.length;e=n(e),D!==e.length&&(p=!0);var v,M,S,b=[];if(h&&h.___info___.count>0&&e.indexOf(s)>=0&&e.indexOf(s)>=0){for(var w=e.split(" "),k=0,C=0;C<w.length;C++){if(0===w[C].indexOf(s)){for(var O=void 0,x=w[C].substring(1),_=1;5>_;_++){var A=r(x);if(""===h[A]&&(O=A),!(C+_<w.length))break;x+=" "+w[C+_]}O&&y.push({name:O,lineIndex:k})}k+=w[C].length+1}if(y.length>0)for(var C=y.length-1;C>=0;C--)e=e.insertTag(y[C].lineIndex,'<p class="contact">',y[C].name.length+1,"</p>"),p=!0}for(l.lastIndex=0;v=l.exec(e);){var N=v.index+v[1].length-1,H=v[2].length+1;":"==v[2].charAt(v[2].length-1)&&H--,e=e.insertTag(N,'<p class="tag" title="'+u+'+click to search">',H,"</p>"),p=!0}for(d.lastIndex=0;v=d.exec(e);){for(var E,F=v[0].indexOf(i),I=!1,C=1;C<v.length&&v[C];++C)if(I)v[C]=void 0;else{var W=v[C][v[C].length-1];(":"===W||","===W||"."===W)&&(v[C]=v[C].slice(0,-1),I=!0)}E=v[1]+(v[2]?v[2]:"")+(v[3]?v[3]:"");var z=Date.parse(E);if(!z&&v[3]&&(E=v[1]+(v[2]?v[2]:""),z=Date.parse(E)),!z&&v[2]&&(E=v[1],z=Date.parse(E)),z){var Y=t.computeDateInfo(a,o,z,E);if(Y.replacedDate){dateLength=Y.text.length+1;var P=v.index+F+1;e=e.substr(0,P)+Y.text+e.substr(P+E.length),e=e.insertTag(v.index+F,'<p class="date">',dateLength,"</p>");var L=m.indexOf(E);m=m.substr(0,L)+Y.text+m.substr(L+E.length),c=!0,b.push({date:Y.date,text:Y.text,explicitTime:z._explicitTime})}else dateLength=E.length+1,e=e.insertTag(v.index+F,'<p class="date">',dateLength,"</p>"),b.push({date:Y.date,text:E,explicitTime:z._explicitTime});p=!0;break}}if(f.lastIndex=0,v=f.exec(e)){var R=v[0].startsWith("http")?v[0]:"http://"+v[0];M="<a target='_blank' href='"+R+"' title='"+u+"+click to navigate'>",S="</a>",e=e.insertTag(v.index,M,v[0].length,S),p=!0}else if(g.lastIndex=0,v=g.exec(e)){var F=v[0].length-v[1].length,R=v[1].startsWith("http")?v[1]:"http://"+v[1];M="<a target='_blank' href='"+R+"' title='"+u+"+click to navigate'>",S="</a>",e=e.insertTag(v.index+F,M,v[1].length,S),p=!0}return{text:T,styledText:e,parsedText:c?m:void 0,dates:b,hasStyle:p,numContacts:y.length}};var m=864e5;t.computeDateInfo=function(t,n,r,i){function s(t){return 0>l?l>=-m?"yesterday":t.toString(Date.CultureInfo.formatPatterns.shortDate):m>=l&&t.isToday()?"today":2*m>l?"tomorrow":void 0}var u=new Date(t).clearTime(),h=(new Date).clearTime(),l=u-h;a&&(log("Prev Date Time: ",u),log("Curr Date Time: ",h),log("RawDiff: ",l),log("DiffDays: ",l/m));var d,f=i,g=!1;if(n===o.Auto||n===o.Remote)if(d=new Date(t),void 0!==t&&r.getTime()!==t||l>=0&&2*m>l)for(var y=0;y<c.length;++y){var T=i.toUpperCase();if(T.indexOf(c[y])>=0){var p=s(d);if(p&&p.toUpperCase()!==c[y]){var D=T.indexOf(c[y]);f=i.substr(0,D)+p+i.substr(D+c[y].length),g=!0}break}}else void 0===t&&(d=r);else n===o.Local?d=r:(log("Invalid ChageType for dates: "+n),d=r);return a&&(log(">>> Date Rollver <<<"),log(">>> Change Type:  ",e(o,n)),log(">>> Prev Date:    ",new Date(t)),log(">>> New Date:     ",d),log(">>> Prev String:  ",i),log(">>> Trans String: ",p),log(">>> New String:   ",f),log("--------------------")),{text:f,date:d,replacedDate:g}}}function parseWorkerWrapper(){DuchessHelpersWrapper&&!this.helperLibLoaded&&DuchessHelpersWrapper(this.DuchessHelpers=this.DuchessHelpers||{}),dateWrapper&&!this.dateLibLoaded&&dateWrapper(),log=postMessage;var t;onmessage=function(e){if(e.data.contacts&&(t=e.data.contacts),e.data.items){for(var n=Date.now(),r=new Array(e.data.items.length),a=0;a<e.data.items.length;a++){var i=e.data.items[a];r[a]=DuchessHelpers.parseText(i.text,i.prevDate,i.changeType,t)}postMessage({id:e.data.id,styles:r,done:!0,start:n,end:Date.now()})}else postMessage({id:e.data.id,done:!1,msg:"ERROR: No items passed to the worker"})}}this.document&&(window.dateWrapper=dateWrapper),this.dateLibLoaded||this.document&&dateWrapper(),this.document&&(window.helperWrapper=DuchessHelpersWrapper),this.helperLibLoaded||DuchessHelpersWrapper(this.DuchessHelpers=this.DuchessHelpers||{}),!this.document,this.document?window.parseWorkerWrapper=parseWorkerWrapper:parseWorkerWrapper();
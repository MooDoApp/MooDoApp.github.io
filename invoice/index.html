<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="robots" content="noindex, nofollow"><link rel="stylesheet" media="screen" href="/css/invoice_screen.css"><link rel="stylesheet" media="all" href="/css/invoice_all.css"><link rel="stylesheet" media="print" href="/css/invoice_print.css"><title>Moo.do Invoice</title></head><body id="home"><div class="container_12" id="wrapper"><div id="content" class="grid_10 prefix_1 suffix_1 center"><h2 class="receipt">
  Transaction <span id="id" class="hostedField"><span></h2><a class="btn btn_primary" href="javascript:window.print();">Print</a><div class="block"><h3>Transaction Information</h3><dl class="detail_list long"><dt>Merchant</dt><dd>Moo.do</dd><dt>Amount</dt><dd class="amount_positive"><span id="amount" class="hostedField"></span><span id="currency" class="hostedField"></span></dd><dt>Transaction Date</dt><dd><span id="date" class="hostedField"><span></dd><dt>Status</dt><dd class="positive"><span id="status" class="hostedField"></span></dd></dl></div><div class="block"><h3>Customer Information</h3><dl class="detail_list"><dt>Email</dt><dd><span id="email" class="hostedField"></span></dd></dl></div></div><div class="clear"></div></div><script>
    function getURLHashParam(key)
    {
        var queryString = window.location.hash.substring(1);

        var regex = /([^&=]+)=([^&]*)/g;
        var m;

        while (m = regex.exec(queryString))
        {
            if (decodeURIComponent(m[1]) === key)
            {
                return decodeURIComponent(m[2]);
            }
        }

        return undefined;
    }

    function runPage()
    {
        var invoiceData = JSON.parse(window.atob(getURLHashParam('d')));

        var hostedFields = document.getElementsByClassName('hostedField');

        for (var i = 0; i < hostedFields.length; ++i)
        {
            var fieldEle = hostedFields[i];

            fieldEle.textContent = invoiceData[fieldEle.id];
        }
    }

    if (document.readyState === 'interactive' || document.readyState === 'complete')
    {
        runPage();
    }
    else
    {
        document.addEventListener('DOMContentLoaded', runPage, false);
    }
</script></body></html>

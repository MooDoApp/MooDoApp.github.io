"use strict";(self.webpackChunkLegend=self.webpackChunkLegend||[]).push([[866],{20693:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(19955),o=c(r),i=c(n(45697)),l=c(n(18354)),s=n(20286);function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleKeyUp=n.handleKeyUp.bind(n),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"shouldComponentUpdate",value:function(e){return e.locale!==this.props.locale||e.classNames!==this.props.classNames||e.date.getMonth()!==this.props.date.getMonth()||e.date.getFullYear()!==this.props.date.getFullYear()}},{key:"handleKeyUp",value:function(e){e.keyCode===s.ENTER&&this.props.onClick(e)}},{key:"render",value:function(){var e=this.props,t=e.classNames,n=e.date,a=e.months,r=e.locale,i=e.localeUtils,l=e.onClick;return o.default.createElement("div",{className:t.caption,role:"heading"},o.default.createElement("div",{onClick:l,onKeyUp:this.handleKeyUp},a?a[n.getMonth()]+" "+n.getFullYear():i.formatMonthTitle(n,r)))}}]),t}(r.Component);u.propTypes={date:i.default.instanceOf(Date),months:i.default.arrayOf(i.default.string),locale:i.default.string,localeUtils:i.default.object,onClick:i.default.func,classNames:i.default.shape({caption:i.default.string.isRequired}).isRequired},u.defaultProps={localeUtils:l.default},t.default=u},16689:(e,t)=>{function n(e){return new Date(e.getTime())}function a(e){return e instanceof Date&&!isNaN(e.valueOf())}function r(e,t){var a=n(e);return a.setMonth(e.getMonth()+t),a}function o(e,t){return!(!e||!t)&&(e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear())}function i(e,t){return!(!e||!t)&&(e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear())}function l(e,t){return n(e).setHours(0,0,0,0)<n(t).setHours(0,0,0,0)}function s(e,t){return n(e).setHours(0,0,0,0)>n(t).setHours(0,0,0,0)}function c(e){var t=new Date;return t.setHours(0,0,0,0),l(e,t)}function u(e){var t=new Date((new Date).getTime()+864e5);return t.setHours(0,0,0,0),e>=t}function d(e,t,a){var r=n(e);return r.setHours(0,0,0,0),s(r,t)&&l(r,a)||s(r,a)&&l(r,t)}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{from:null,to:null},n=t.from,a=t.to;return n?n&&a&&o(n,a)&&o(e,n)?(n=null,a=null):a&&l(e,n)?n=e:a&&o(e,a)?(n=e,a=e):l(a=e,n)&&(a=n,n=e):n=e,{from:n,to:a}}function f(e,t){var n=t.from,a=t.to;return n&&o(e,n)||a&&o(e,a)||n&&a&&d(e,n,a)}function p(e){var t=n(e);return t.setHours(0,0,0),t.setDate(t.getDate()+4-(t.getDay()||7)),Math.ceil(((t-new Date(t.getFullYear(),0,1))/864e5+1)/7)}Object.defineProperty(t,"__esModule",{value:!0}),t.clone=n,t.isDate=a,t.addMonths=r,t.isSameDay=o,t.isSameMonth=i,t.isDayBefore=l,t.isDayAfter=s,t.isPastDay=c,t.isFutureDay=u,t.isDayBetween=d,t.addDayToRange=m,t.isDayInRange=f,t.getWeekNumber=p,t.default={addDayToRange:m,addMonths:r,clone:n,getWeekNumber:p,isDate:a,isDayAfter:s,isDayBefore:l,isDayBetween:d,isDayInRange:f,isFutureDay:u,isPastDay:c,isSameDay:o,isSameMonth:i}},79459:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(19955),i=d(o),l=d(n(45697)),s=n(16689),c=n(62273),u=d(n(56989));function d(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t,n){if(e)return function(a){a.persist(),e(t,n,a)}}var h=function(e){function t(){return m(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"shouldComponentUpdate",value:function(e){var t=this,n=Object.keys(this.props),a=Object.keys(e);return n.length!==a.length||n.some((function(n){if("modifiers"===n||"modifiersStyles"===n||"classNames"===n){var a=t.props[n],r=e[n],o=Object.keys(a),i=Object.keys(r);return o.length!==i.length||o.some((function(e){return!(0,c.hasOwnProp)(r,e)||a[e]!==r[e]}))}return"day"===n?!(0,s.isSameDay)(t.props[n],e[n]):!(0,c.hasOwnProp)(e,n)||t.props[n]!==e[n]}))}},{key:"render",value:function(){var e=this.props,t=e.classNames,n=e.modifiersStyles,r=e.day,o=e.tabIndex,l=e.empty,s=e.modifiers,c=e.onMouseEnter,d=e.onMouseLeave,m=e.onMouseUp,f=e.onMouseDown,h=e.onClick,g=e.onKeyDown,y=e.onTouchStart,v=e.onTouchEnd,E=e.onFocus,A=e.ariaLabel,C=e.ariaDisabled,_=e.ariaSelected,k=e.children,b=t.day;t!==u.default?b+=" "+Object.keys(s).join(" "):b+=Object.keys(s).map((function(e){return" "+b+"--"+e})).join("");var x=void 0;return n&&Object.keys(s).filter((function(e){return!!n[e]})).forEach((function(e){x=a({},x,n[e])})),l?i.default.createElement("div",{"aria-disabled":!0,className:b,style:x}):i.default.createElement("div",{className:b,tabIndex:o,style:x,role:"gridcell","aria-label":A,"aria-disabled":C,"aria-selected":_,onClick:p(h,r,s),onKeyDown:p(g,r,s),onMouseEnter:p(c,r,s),onMouseLeave:p(d,r,s),onMouseUp:p(m,r,s),onMouseDown:p(f,r,s),onTouchEnd:p(v,r,s),onTouchStart:p(y,r,s),onFocus:p(E,r,s)},k)}}]),t}(o.Component);h.propTypes={classNames:l.default.shape({day:l.default.string.isRequired}).isRequired,day:l.default.instanceOf(Date).isRequired,children:l.default.node.isRequired,ariaDisabled:l.default.bool,ariaLabel:l.default.string,ariaSelected:l.default.bool,empty:l.default.bool,modifiers:l.default.object,modifiersStyles:l.default.object,onClick:l.default.func,onKeyDown:l.default.func,onMouseEnter:l.default.func,onMouseLeave:l.default.func,onMouseDown:l.default.func,onMouseUp:l.default.func,onTouchEnd:l.default.func,onTouchStart:l.default.func,onFocus:l.default.func,tabIndex:l.default.number},h.defaultProps={tabIndex:-1},h.defaultProps={modifiers:{},modifiersStyles:{},empty:!1},t.default=h},27847:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ModifiersUtils=t.LocaleUtils=t.DateUtils=t.DayPicker=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(19955),i=E(o),l=E(n(45697)),s=E(n(20693)),c=E(n(47872)),u=E(n(84076)),d=E(n(11995)),m=v(n(62273)),f=v(n(16689)),p=v(n(18354)),h=v(n(35948)),g=E(n(56989)),y=n(20286);function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}var A=t.DayPicker=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.dayPicker=null,n.showNextMonth=function(e){if(n.allowNextMonth()){var t=n.props.pagedNavigation?n.props.numberOfMonths:1,a=f.addMonths(n.state.currentMonth,t);n.showMonth(a,e)}},n.showPreviousMonth=function(e){if(n.allowPreviousMonth()){var t=n.props.pagedNavigation?n.props.numberOfMonths:1,a=f.addMonths(n.state.currentMonth,-t);n.showMonth(a,e)}},n.handleKeyDown=function(e){switch(e.persist(),e.keyCode){case y.LEFT:"rtl"===n.props.dir?n.showNextMonth():n.showPreviousMonth(),m.cancelEvent(e);break;case y.RIGHT:"rtl"===n.props.dir?n.showPreviousMonth():n.showNextMonth(),m.cancelEvent(e);break;case y.UP:n.showPreviousYear(),m.cancelEvent(e);break;case y.DOWN:n.showNextYear(),m.cancelEvent(e)}n.props.onKeyDown&&n.props.onKeyDown(e)},n.handleDayKeyDown=function(e,t,a){switch(a.persist(),a.keyCode){case y.LEFT:m.cancelEvent(a),"rtl"===n.props.dir?n.focusNextDay(a.target):n.focusPreviousDay(a.target);break;case y.RIGHT:m.cancelEvent(a),"rtl"===n.props.dir?n.focusPreviousDay(a.target):n.focusNextDay(a.target);break;case y.UP:m.cancelEvent(a),n.focusPreviousWeek(a.target);break;case y.DOWN:m.cancelEvent(a),n.focusNextWeek(a.target);break;case y.ENTER:case y.SPACE:m.cancelEvent(a),n.props.onDayClick&&n.handleDayClick(e,t,a)}n.props.onDayKeyDown&&n.props.onDayKeyDown(e,t,a)},n.handleDayClick=function(e,t,a){a.persist(),t[n.props.classNames.outside]&&n.props.enableOutsideDaysClick&&n.handleOutsideDayClick(e),n.props.onDayClick&&n.props.onDayClick(e,t,a)},n.handleTodayButtonClick=function(e){var t=new Date,a=new Date(t.getFullYear(),t.getMonth());n.showMonth(a),e.target.blur(),n.props.onTodayButtonClick&&(e.persist(),n.props.onTodayButtonClick(new Date(t.getFullYear(),t.getMonth(),t.getDate()),h.getModifiersForDay(t,n.props.modifiers),e))};var a=n.getCurrentMonthFromProps(e);return n.state={currentMonth:a},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidUpdate",value:function(e){if(e.month!==this.props.month&&!f.isSameMonth(e.month,this.props.month)){var t=this.getCurrentMonthFromProps(this.props);this.setState({currentMonth:t})}}},{key:"getCurrentMonthFromProps",value:function(e){var t=m.startOfMonth(e.month||e.initialMonth||new Date);if(e.pagedNavigation&&e.numberOfMonths>1&&e.fromMonth){var n=m.startOfMonth(e.fromMonth),a=m.getMonthsDiff(n,t);t=f.addMonths(n,Math.floor(a/e.numberOfMonths)*e.numberOfMonths)}else e.toMonth&&e.numberOfMonths>1&&m.getMonthsDiff(t,e.toMonth)<=0&&(t=f.addMonths(m.startOfMonth(e.toMonth),1-this.props.numberOfMonths));return t}},{key:"getNextNavigableMonth",value:function(){return f.addMonths(this.state.currentMonth,this.props.numberOfMonths)}},{key:"getPreviousNavigableMonth",value:function(){return f.addMonths(this.state.currentMonth,-1)}},{key:"allowPreviousMonth",value:function(){var e=f.addMonths(this.state.currentMonth,-1);return this.allowMonth(e)}},{key:"allowNextMonth",value:function(){var e=f.addMonths(this.state.currentMonth,this.props.numberOfMonths);return this.allowMonth(e)}},{key:"allowMonth",value:function(e){var t=this.props,n=t.fromMonth,a=t.toMonth;return!(!t.canChangeMonth||n&&m.getMonthsDiff(n,e)<0||a&&m.getMonthsDiff(a,e)>0)}},{key:"allowYearChange",value:function(){return this.props.canChangeMonth}},{key:"showMonth",value:function(e,t){var n=this;this.allowMonth(e)&&this.setState({currentMonth:m.startOfMonth(e)},(function(){t&&t(),n.props.onMonthChange&&n.props.onMonthChange(n.state.currentMonth)}))}},{key:"showNextYear",value:function(){if(this.allowYearChange()){var e=f.addMonths(this.state.currentMonth,12);this.showMonth(e)}}},{key:"showPreviousYear",value:function(){if(this.allowYearChange()){var e=f.addMonths(this.state.currentMonth,-12);this.showMonth(e)}}},{key:"focus",value:function(){this.wrapper.focus()}},{key:"focusFirstDayOfMonth",value:function(){m.getDayNodes(this.dayPicker,this.props.classNames)[0].focus()}},{key:"focusLastDayOfMonth",value:function(){var e=m.getDayNodes(this.dayPicker,this.props.classNames);e[e.length-1].focus()}},{key:"focusPreviousDay",value:function(e){var t=this,n=m.getDayNodes(this.dayPicker,this.props.classNames),a=m.nodeListToArray(n).indexOf(e);-1!==a&&(0===a?this.showPreviousMonth((function(){return t.focusLastDayOfMonth()})):n[a-1].focus())}},{key:"focusNextDay",value:function(e){var t=this,n=m.getDayNodes(this.dayPicker,this.props.classNames),a=m.nodeListToArray(n).indexOf(e);-1!==a&&(a===n.length-1?this.showNextMonth((function(){return t.focusFirstDayOfMonth()})):n[a+1].focus())}},{key:"focusNextWeek",value:function(e){var t=this,n=m.getDayNodes(this.dayPicker,this.props.classNames),a=m.nodeListToArray(n).indexOf(e);a>n.length-8?this.showNextMonth((function(){var e=7-(n.length-a);m.getDayNodes(t.dayPicker,t.props.classNames)[e].focus()})):n[a+7].focus()}},{key:"focusPreviousWeek",value:function(e){var t=this,n=m.getDayNodes(this.dayPicker,this.props.classNames),a=m.nodeListToArray(n).indexOf(e);a<=6?this.showPreviousMonth((function(){var e=m.getDayNodes(t.dayPicker,t.props.classNames);e[e.length-7+a].focus()})):n[a-7].focus()}},{key:"handleOutsideDayClick",value:function(e){var t=this.state.currentMonth,n=this.props.numberOfMonths,a=m.getMonthsDiff(t,e);a>0&&a>=n?this.showNextMonth():a<0&&this.showPreviousMonth()}},{key:"renderNavbar",value:function(){var e=this.props,t=e.labels,n=e.locale,a=e.localeUtils,r=e.canChangeMonth,o=e.navbarElement,l=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["labels","locale","localeUtils","canChangeMonth","navbarElement"]);if(!r)return null;var s={month:this.state.currentMonth,classNames:this.props.classNames,className:this.props.classNames.navBar,nextMonth:this.getNextNavigableMonth(),previousMonth:this.getPreviousNavigableMonth(),showPreviousButton:this.allowPreviousMonth(),showNextButton:this.allowNextMonth(),onNextClick:this.showNextMonth,onPreviousClick:this.showPreviousMonth,dir:l.dir,labels:t,locale:n,localeUtils:a};return i.default.isValidElement(o)?i.default.cloneElement(o,s):i.default.createElement(o,s)}},{key:"renderMonths",value:function(){for(var e=[],t=m.getFirstDayOfWeekFromProps(this.props),n=0;n<this.props.numberOfMonths;n+=1){var r=f.addMonths(this.state.currentMonth,n);e.push(i.default.createElement(u.default,a({key:n},this.props,{month:r,firstDayOfWeek:t,onDayKeyDown:this.handleDayKeyDown,onDayClick:this.handleDayClick})))}return this.props.reverseMonths&&e.reverse(),e}},{key:"renderFooter",value:function(){return this.props.todayButton?i.default.createElement("div",{className:this.props.classNames.footer},this.renderTodayButton()):null}},{key:"renderTodayButton",value:function(){return i.default.createElement("button",{type:"button",tabIndex:0,className:this.props.classNames.todayButton,"aria-label":this.props.todayButton,onClick:this.handleTodayButtonClick},this.props.todayButton)}},{key:"render",value:function(){var e=this,t=this.props.classNames.container;return this.props.onDayClick||(t=t+" "+this.props.classNames.interactionDisabled),this.props.className&&(t=t+" "+this.props.className),i.default.createElement("div",a({},this.props.containerProps,{className:t,ref:function(t){return e.dayPicker=t},lang:this.props.locale}),i.default.createElement("div",{className:this.props.classNames.wrapper,ref:function(t){return e.wrapper=t},tabIndex:this.props.canChangeMonth&&"undefined"!==typeof this.props.tabIndex?this.props.tabIndex:-1,onKeyDown:this.handleKeyDown,onFocus:this.props.onFocus,onBlur:this.props.onBlur},this.renderNavbar(),i.default.createElement("div",{className:this.props.classNames.months},this.renderMonths()),this.renderFooter()))}}]),t}(o.Component);A.propTypes={initialMonth:l.default.instanceOf(Date),month:l.default.instanceOf(Date),numberOfMonths:l.default.number,fromMonth:l.default.instanceOf(Date),toMonth:l.default.instanceOf(Date),canChangeMonth:l.default.bool,reverseMonths:l.default.bool,pagedNavigation:l.default.bool,todayButton:l.default.string,showWeekNumbers:l.default.bool,showWeekDays:l.default.bool,selectedDays:l.default.oneOfType([l.default.object,l.default.func,l.default.array]),disabledDays:l.default.oneOfType([l.default.object,l.default.func,l.default.array]),modifiers:l.default.object,modifiersStyles:l.default.object,dir:l.default.string,firstDayOfWeek:l.default.oneOf([0,1,2,3,4,5,6]),labels:l.default.shape({nextMonth:l.default.string.isRequired,previousMonth:l.default.string.isRequired}),locale:l.default.string,localeUtils:l.default.shape({formatMonthTitle:l.default.func,formatWeekdayShort:l.default.func,formatWeekdayLong:l.default.func,getFirstDayOfWeek:l.default.func}),months:l.default.arrayOf(l.default.string),weekdaysLong:l.default.arrayOf(l.default.string),weekdaysShort:l.default.arrayOf(l.default.string),showOutsideDays:l.default.bool,enableOutsideDaysClick:l.default.bool,fixedWeeks:l.default.bool,classNames:l.default.shape({body:l.default.string,container:l.default.string,day:l.default.string.isRequired,disabled:l.default.string.isRequired,footer:l.default.string,interactionDisabled:l.default.string,months:l.default.string,month:l.default.string,navBar:l.default.string,outside:l.default.string.isRequired,selected:l.default.string.isRequired,today:l.default.string.isRequired,todayButton:l.default.string,week:l.default.string,wrapper:l.default.string}),className:l.default.string,containerProps:l.default.object,tabIndex:l.default.number,renderDay:l.default.func,renderWeek:l.default.func,weekdayElement:l.default.oneOfType([l.default.element,l.default.func,l.default.instanceOf(o.Component)]),navbarElement:l.default.oneOfType([l.default.element,l.default.func,l.default.instanceOf(o.Component)]),captionElement:l.default.oneOfType([l.default.element,l.default.func,l.default.instanceOf(o.Component)]),onBlur:l.default.func,onFocus:l.default.func,onKeyDown:l.default.func,onDayClick:l.default.func,onDayKeyDown:l.default.func,onDayMouseEnter:l.default.func,onDayMouseLeave:l.default.func,onDayMouseDown:l.default.func,onDayMouseUp:l.default.func,onDayTouchStart:l.default.func,onDayTouchEnd:l.default.func,onDayFocus:l.default.func,onMonthChange:l.default.func,onCaptionClick:l.default.func,onWeekClick:l.default.func,onTodayButtonClick:l.default.func},A.defaultProps={classNames:g.default,tabIndex:0,numberOfMonths:1,labels:{previousMonth:"Previous Month",nextMonth:"Next Month"},locale:"en",localeUtils:p,showOutsideDays:!1,enableOutsideDaysClick:!0,fixedWeeks:!1,canChangeMonth:!0,reverseMonths:!1,pagedNavigation:!1,showWeekNumbers:!1,showWeekDays:!0,renderDay:function(e){return e.getDate()},renderWeek:function(e){return e},weekdayElement:i.default.createElement(d.default,null),navbarElement:i.default.createElement(c.default,{classNames:g.default}),captionElement:i.default.createElement(s.default,{classNames:g.default})},A.VERSION="7.4.8",A.DateUtils=f,A.LocaleUtils=p,A.ModifiersUtils=h,t.DateUtils=f,t.LocaleUtils=p,t.ModifiersUtils=h,t.default=A},62273:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.cancelEvent=function(e){e.preventDefault(),e.stopPropagation()},t.getFirstDayOfMonth=c,t.getDaysInMonth=u,t.getModifiersFromProps=function(e){var t=a({},e.modifiers);e.selectedDays&&(t[e.classNames.selected]=e.selectedDays);e.disabledDays&&(t[e.classNames.disabled]=e.disabledDays);return t},t.getFirstDayOfWeekFromProps=function(e){var t=e.firstDayOfWeek,n=e.locale,a=void 0===n?"en":n,r=e.localeUtils,o=void 0===r?{}:r;if(!isNaN(t))return t;if(o.getFirstDayOfWeek)return o.getFirstDayOfWeek(a);return 0},t.isRangeOfDates=function(e){return!!(e&&e.from&&e.to)},t.getMonthsDiff=function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())},t.getWeekArray=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,i.getFirstDayOfWeek)(),n=arguments[2],a=u(e),r=[],l=[],s=[],c=1;c<=a;c+=1)r.push(new Date(e.getFullYear(),e.getMonth(),c,12));r.forEach((function(e){l.length>0&&e.getDay()===t&&(s.push(l),l=[]),l.push(e),r.indexOf(e)===r.length-1&&s.push(l)}));for(var d=s[0],m=7-d.length;m>0;m-=1){var f=(0,o.clone)(d[0]);f.setDate(d[0].getDate()-1),d.unshift(f)}for(var p=s[s.length-1],h=p.length;h<7;h+=1){var g=(0,o.clone)(p[p.length-1]);g.setDate(p[p.length-1].getDate()+1),p.push(g)}if(n&&s.length<6)for(var y=void 0,v=s.length;v<6;v+=1){for(var E=(y=s[s.length-1])[y.length-1],A=[],C=0;C<7;C+=1){var _=(0,o.clone)(E);_.setDate(E.getDate()+C+1),A.push(_)}s.push(A)}return s},t.startOfMonth=function(e){var t=(0,o.clone)(e);return t.setDate(1),t.setHours(12,0,0,0),t},t.getDayNodes=function(e,t){var n=void 0;n=t===s.default?t.day+"--"+t.outside:""+t.outside;var a=t.day.replace(/ /g,"."),r=n.replace(/ /g,"."),o="."+a+":not(."+r+")";return e.querySelectorAll(o)},t.nodeListToArray=function(e){return Array.prototype.slice.call(e,0)},t.hasOwnProp=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};var r,o=n(16689),i=n(18354),l=n(56989),s=(r=l)&&r.__esModule?r:{default:r};function c(e){return new Date(e.getFullYear(),e.getMonth(),1,12)}function u(e){var t=c(e);return t.setMonth(t.getMonth()+1),t.setDate(t.getDate()-1),t.getDate()}},18354:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.formatDay=o,t.formatMonthTitle=i,t.formatWeekdayShort=l,t.formatWeekdayLong=s,t.getFirstDayOfWeek=c,t.getMonths=u;var n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a=["Su","Mo","Tu","We","Th","Fr","Sa"],r=["January","February","March","April","May","June","July","August","September","October","November","December"];function o(e){return e.toDateString()}function i(e){return r[e.getMonth()]+" "+e.getFullYear()}function l(e){return a[e]}function s(e){return n[e]}function c(){return 0}function u(){return r}t.default={formatDay:o,formatMonthTitle:i,formatWeekdayShort:l,formatWeekdayLong:s,getFirstDayOfWeek:c,getMonths:u}},35948:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.dayMatchesModifier=o,t.getModifiersForDay=i;var a=n(16689),r=n(62273);function o(e,t){return!!t&&(Array.isArray(t)?t:[t]).some((function(t){return!!t&&(t instanceof Date?(0,a.isSameDay)(e,t):(0,r.isRangeOfDates)(t)?(0,a.isDayInRange)(e,t):t.after&&t.before&&(0,a.isDayAfter)(t.before,t.after)?(0,a.isDayAfter)(e,t.after)&&(0,a.isDayBefore)(e,t.before):t.after&&t.before&&((0,a.isDayAfter)(t.after,t.before)||(0,a.isSameDay)(t.after,t.before))?(0,a.isDayAfter)(e,t.after)||(0,a.isDayBefore)(e,t.before):t.after?(0,a.isDayAfter)(e,t.after):t.before?(0,a.isDayBefore)(e,t.before):t.daysOfWeek?t.daysOfWeek.some((function(t){return e.getDay()===t})):"function"===typeof t&&t(e))}))}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).reduce((function(n,a){var r=t[a];return o(e,r)&&n.push(a),n}),[])}t.default={dayMatchesModifier:o,getModifiersForDay:i}},84076:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(19955),o=p(r),i=p(n(45697)),l=p(n(49392)),s=p(n(79459)),c=n(20286),u=f(n(35948)),d=f(n(62273)),m=f(n(16689));function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var y=function(e){function t(){var e,n,a;h(this,t);for(var r=arguments.length,i=Array(r),l=0;l<r;l++)i[l]=arguments[l];return n=a=g(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),a.renderDay=function(e){var t=a.props.month.getMonth(),n=d.getModifiersFromProps(a.props),r=u.getModifiersForDay(e,n);m.isSameDay(e,new Date)&&!Object.prototype.hasOwnProperty.call(n,a.props.classNames.today)&&r.push(a.props.classNames.today),e.getMonth()!==t&&r.push(a.props.classNames.outside);var i=e.getMonth()!==t,l=-1;a.props.onDayClick&&!i&&1===e.getDate()&&(l=a.props.tabIndex);var c=""+e.getFullYear()+e.getMonth()+e.getDate(),f={};return r.forEach((function(e){f[e]=!0})),o.default.createElement(s.default,{key:(i?"outside-":"")+c,classNames:a.props.classNames,day:e,modifiers:f,modifiersStyles:a.props.modifiersStyles,empty:i&&!a.props.showOutsideDays&&!a.props.fixedWeeks,tabIndex:l,ariaLabel:a.props.localeUtils.formatDay(e,a.props.locale),ariaDisabled:i||r.indexOf(a.props.classNames.disabled)>-1,ariaSelected:r.indexOf(a.props.classNames.selected)>-1,onClick:a.props.onDayClick,onFocus:a.props.onDayFocus,onKeyDown:a.props.onDayKeyDown,onMouseEnter:a.props.onDayMouseEnter,onMouseLeave:a.props.onDayMouseLeave,onMouseDown:a.props.onDayMouseDown,onMouseUp:a.props.onDayMouseUp,onTouchEnd:a.props.onDayTouchEnd,onTouchStart:a.props.onDayTouchStart},a.props.renderDay(e,f))},g(a,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classNames,a=t.month,r=t.months,i=t.fixedWeeks,s=t.captionElement,u=t.weekdayElement,f=t.locale,p=t.localeUtils,h=t.weekdaysLong,g=t.weekdaysShort,y=t.firstDayOfWeek,v=t.onCaptionClick,E=t.showWeekNumbers,A=t.showWeekDays,C=t.onWeekClick,_={date:a,classNames:n,months:r,localeUtils:p,locale:f,onClick:v?function(e){return v(a,e)}:void 0},k=o.default.isValidElement(s)?o.default.cloneElement(s,_):o.default.createElement(s,_),b=d.getWeekArray(a,y,i);return o.default.createElement("div",{className:n.month,role:"grid"},k,A&&o.default.createElement(l.default,{classNames:n,weekdaysShort:g,weekdaysLong:h,firstDayOfWeek:y,showWeekNumbers:E,locale:f,localeUtils:p,weekdayElement:u}),o.default.createElement("div",{className:n.body,role:"rowgroup"},b.map((function(t){var r=void 0;return E&&(r=m.getWeekNumber(t[6])),o.default.createElement("div",{key:t[0].getTime(),className:n.week,role:"row"},E&&o.default.createElement("div",{className:n.weekNumber,tabIndex:C?0:-1,role:"gridcell",onClick:C?function(e){return C(r,t,e)}:void 0,onKeyUp:C?function(e){return e.keyCode===c.ENTER&&C(r,t,e)}:void 0},e.props.renderWeek(r,t,a)),t.map(e.renderDay))}))))}}]),t}(r.Component);y.propTypes={classNames:i.default.shape({body:i.default.string.isRequired,month:i.default.string.isRequired,outside:i.default.string.isRequired,today:i.default.string.isRequired,week:i.default.string.isRequired,weekNumber:i.default.string.isRequired,disabled:i.default.string.isRequired,selected:i.default.string.isRequired}).isRequired,tabIndex:i.default.number,month:i.default.instanceOf(Date).isRequired,months:i.default.arrayOf(i.default.string),modifiersStyles:i.default.object,showWeekDays:i.default.bool,showOutsideDays:i.default.bool,renderDay:i.default.func.isRequired,renderWeek:i.default.func.isRequired,captionElement:i.default.oneOfType([i.default.element,i.default.func,i.default.instanceOf(o.default.Component)]).isRequired,weekdayElement:i.default.oneOfType([i.default.element,i.default.func,i.default.instanceOf(o.default.Component)]),fixedWeeks:i.default.bool,showWeekNumbers:i.default.bool,locale:i.default.string.isRequired,localeUtils:i.default.object.isRequired,weekdaysLong:i.default.arrayOf(i.default.string),weekdaysShort:i.default.arrayOf(i.default.string),firstDayOfWeek:i.default.number.isRequired,onCaptionClick:i.default.func,onDayClick:i.default.func,onDayFocus:i.default.func,onDayKeyDown:i.default.func,onDayMouseEnter:i.default.func,onDayMouseLeave:i.default.func,onDayMouseDown:i.default.func,onDayMouseUp:i.default.func,onDayTouchEnd:i.default.func,onDayTouchStart:i.default.func,onWeekClick:i.default.func},t.default=y},47872:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(19955),o=c(r),i=c(n(45697)),l=c(n(56989)),s=n(20286);function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var m=function(e){function t(){var e,n,a;u(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.handleNextClick=function(){a.props.onNextClick&&a.props.onNextClick()},a.handlePreviousClick=function(){a.props.onPreviousClick&&a.props.onPreviousClick()},a.handleNextKeyDown=function(e){e.keyCode!==s.ENTER&&e.keyCode!==s.SPACE||(e.preventDefault(),a.handleNextClick())},a.handlePreviousKeyDown=function(e){e.keyCode!==s.ENTER&&e.keyCode!==s.SPACE||(e.preventDefault(),a.handlePreviousClick())},d(a,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"shouldComponentUpdate",value:function(e){return e.labels!==this.props.labels||e.dir!==this.props.dir||this.props.showPreviousButton!==e.showPreviousButton||this.props.showNextButton!==e.showNextButton}},{key:"render",value:function(){var e=this.props,t=e.classNames,n=e.className,a=e.showPreviousButton,r=e.showNextButton,i=e.labels,l=e.dir,s=void 0,c=void 0,u=void 0,d=void 0,m=void 0,f=void 0;"rtl"===l?(s=this.handleNextClick,c=this.handlePreviousClick,u=this.handleNextKeyDown,d=this.handlePreviousKeyDown,f=a,m=r):(s=this.handlePreviousClick,c=this.handleNextClick,u=this.handlePreviousKeyDown,d=this.handleNextKeyDown,f=r,m=a);var p=m?t.navButtonPrev:t.navButtonPrev+" "+t.navButtonInteractionDisabled,h=f?t.navButtonNext:t.navButtonNext+" "+t.navButtonInteractionDisabled,g=o.default.createElement("span",{tabIndex:"0",role:"button","aria-label":i.previousMonth,key:"previous",className:p,onKeyDown:m?u:void 0,onClick:m?s:void 0}),y=o.default.createElement("span",{tabIndex:"0",role:"button","aria-label":i.nextMonth,key:"right",className:h,onKeyDown:f?d:void 0,onClick:f?c:void 0});return o.default.createElement("div",{className:n||t.navBar},"rtl"===l?[y,g]:[g,y])}}]),t}(r.Component);m.propTypes={classNames:i.default.shape({navBar:i.default.string.isRequired,navButtonPrev:i.default.string.isRequired,navButtonNext:i.default.string.isRequired,navButtonInteractionDisabled:i.default.string.isRequired}),className:i.default.string,showPreviousButton:i.default.bool,showNextButton:i.default.bool,onPreviousClick:i.default.func,onNextClick:i.default.func,dir:i.default.string,labels:i.default.shape({previousMonth:i.default.string.isRequired,nextMonth:i.default.string.isRequired})},m.defaultProps={classNames:l.default,dir:"ltr",labels:{previousMonth:"Previous Month",nextMonth:"Next Month"},showPreviousButton:!0,showNextButton:!0},t.default=m},11995:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(19955),o=l(r),i=l(n(45697));function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var u=function(e){function t(){return s(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"shouldComponentUpdate",value:function(e){return this.props!==e}},{key:"render",value:function(){var e=this.props,t=e.weekday,n=e.className,a=e.weekdaysLong,r=e.weekdaysShort,i=e.localeUtils,l=e.locale,s=void 0;s=a?a[t]:i.formatWeekdayLong(t,l);var c=void 0;return c=r?r[t]:i.formatWeekdayShort(t,l),o.default.createElement("div",{className:n,role:"columnheader"},o.default.createElement("abbr",{title:s},c))}}]),t}(r.Component);u.propTypes={weekday:i.default.number,className:i.default.string,locale:i.default.string,localeUtils:i.default.object,weekdaysLong:i.default.arrayOf(i.default.string),weekdaysShort:i.default.arrayOf(i.default.string)},t.default=u},49392:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(19955),o=l(r),i=l(n(45697));function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var u=function(e){function t(){return s(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"shouldComponentUpdate",value:function(e){return this.props!==e}},{key:"render",value:function(){for(var e=this.props,t=e.classNames,n=e.firstDayOfWeek,a=e.showWeekNumbers,r=e.weekdaysLong,i=e.weekdaysShort,l=e.locale,s=e.localeUtils,c=e.weekdayElement,u=[],d=0;d<7;d+=1){var m=(d+n)%7,f={key:d,className:t.weekday,weekday:m,weekdaysLong:r,weekdaysShort:i,localeUtils:s,locale:l},p=o.default.isValidElement(c)?o.default.cloneElement(c,f):o.default.createElement(c,f);u.push(p)}return o.default.createElement("div",{className:t.weekdays,role:"rowgroup"},o.default.createElement("div",{className:t.weekdaysRow,role:"row"},a&&o.default.createElement("div",{className:t.weekday}),u))}}]),t}(r.Component);u.propTypes={classNames:i.default.shape({weekday:i.default.string.isRequired,weekdays:i.default.string.isRequired,weekdaysRow:i.default.string.isRequired}).isRequired,firstDayOfWeek:i.default.number.isRequired,weekdaysLong:i.default.arrayOf(i.default.string),weekdaysShort:i.default.arrayOf(i.default.string),showWeekNumbers:i.default.bool,locale:i.default.string.isRequired,localeUtils:i.default.object.isRequired,weekdayElement:i.default.oneOfType([i.default.element,i.default.func,i.default.instanceOf(o.default.Component)])},t.default=u},56989:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default={container:"DayPicker",wrapper:"DayPicker-wrapper",interactionDisabled:"DayPicker--interactionDisabled",months:"DayPicker-Months",month:"DayPicker-Month",navBar:"DayPicker-NavBar",navButtonPrev:"DayPicker-NavButton DayPicker-NavButton--prev",navButtonNext:"DayPicker-NavButton DayPicker-NavButton--next",navButtonInteractionDisabled:"DayPicker-NavButton--interactionDisabled",caption:"DayPicker-Caption",weekdays:"DayPicker-Weekdays",weekdaysRow:"DayPicker-WeekdaysRow",weekday:"DayPicker-Weekday",body:"DayPicker-Body",week:"DayPicker-Week",weekNumber:"DayPicker-WeekNumber",day:"DayPicker-Day",footer:"DayPicker-Footer",todayButton:"DayPicker-TodayButton",today:"today",selected:"selected",disabled:"disabled",outside:"outside"}},13687:(e,t,n)=>{var a=n(27847);Object.defineProperty(t,"ZP",{enumerable:!0,get:function(){return l(a).default}});var r=n(16689);var o=n(18354);var i=n(35948);function l(e){return e&&e.__esModule?e:{default:e}}},20286:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.LEFT=37,t.UP=38,t.RIGHT=39,t.DOWN=40,t.ENTER=13,t.SPACE=32,t.ESC=27,t.TAB=9},52005:(e,t,n)=>{n.d(t,{Z:()=>p});var a=n(94015),r=n.n(a),o=n(23645),i=n.n(o),l=n(61667),s=n.n(l),c=new URL(n(44774),n.b),u=new URL(n(39072),n.b),d=i()(r()),m=s()(c),f=s()(u);d.push([e.id,"/* DayPicker styles */\n\n.DayPicker {\n  display: inline-block;\n  font-size: 1rem;\n}\n\n.DayPicker-wrapper {\n  position: relative;\n\n  flex-direction: row;\n  padding-bottom: 1em;\n\n  -webkit-user-select: none;\n\n     -moz-user-select: none;\n\n      -ms-user-select: none;\n\n          user-select: none;\n}\n\n.DayPicker-Months {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n}\n\n.DayPicker-Month {\n  display: table;\n  margin: 0 1em;\n  margin-top: 1em;\n  border-spacing: 0;\n  border-collapse: collapse;\n\n  -webkit-user-select: none;\n\n     -moz-user-select: none;\n\n      -ms-user-select: none;\n\n          user-select: none;\n}\n\n.DayPicker-NavBar {\n}\n\n.DayPicker-NavButton {\n  position: absolute;\n  top: 1em;\n  right: 1.5em;\n  left: auto;\n\n  display: inline-block;\n  margin-top: 2px;\n  width: 1.25em;\n  height: 1.25em;\n  background-position: center;\n  background-size: 50%;\n  background-repeat: no-repeat;\n  color: #8B9898;\n  cursor: pointer;\n}\n\n.DayPicker-NavButton:hover {\n  opacity: 0.8;\n}\n\n.DayPicker-NavButton--prev {\n  margin-right: 1.5em;\n  background-image: url("+m+");\n}\n\n.DayPicker-NavButton--next {\n  background-image: url("+f+");\n}\n\n.DayPicker-NavButton--interactionDisabled {\n  display: none;\n}\n\n.DayPicker-Caption {\n  display: table-caption;\n  margin-bottom: 0.5em;\n  padding: 0 0.5em;\n  text-align: left;\n}\n\n.DayPicker-Caption > div {\n  font-weight: 500;\n  font-size: 1.15em;\n}\n\n.DayPicker-Weekdays {\n  display: table-header-group;\n  margin-top: 1em;\n}\n\n.DayPicker-WeekdaysRow {\n  display: table-row;\n}\n\n.DayPicker-Weekday {\n  display: table-cell;\n  padding: 0.5em;\n  color: #8B9898;\n  text-align: center;\n  font-size: 0.875em;\n}\n\n.DayPicker-Weekday abbr[title] {\n  border-bottom: none;\n  text-decoration: none;\n}\n\n.DayPicker-Body {\n  display: table-row-group;\n}\n\n.DayPicker-Week {\n  display: table-row;\n}\n\n.DayPicker-Day {\n  display: table-cell;\n  padding: 0.5em;\n  border-radius: 50%;\n  vertical-align: middle;\n  text-align: center;\n  cursor: pointer;\n}\n\n.DayPicker-WeekNumber {\n  display: table-cell;\n  padding: 0.5em;\n  min-width: 1em;\n  border-right: 1px solid #EAECEC;\n  color: #8B9898;\n  vertical-align: middle;\n  text-align: right;\n  font-size: 0.75em;\n  cursor: pointer;\n}\n\n.DayPicker--interactionDisabled .DayPicker-Day {\n  cursor: default;\n}\n\n.DayPicker-Footer {\n  padding-top: 0.5em;\n}\n\n.DayPicker-TodayButton {\n  border: none;\n  background-color: transparent;\n  background-image: none;\n  box-shadow: none;\n  color: #4A90E2;\n  font-size: 0.875em;\n  cursor: pointer;\n}\n\n/* Default modifiers */\n\n.DayPicker-Day--today {\n  color: #D0021B;\n  font-weight: 700;\n}\n\n.DayPicker-Day--outside {\n  color: #8B9898;\n  cursor: default;\n}\n\n.DayPicker-Day--disabled {\n  color: #DCE0E0;\n  cursor: default;\n  /* background-color: #eff1f1; */\n}\n\n/* Example modifiers */\n\n.DayPicker-Day--sunday {\n  background-color: #F7F8F8;\n}\n\n.DayPicker-Day--sunday:not(.DayPicker-Day--today) {\n  color: #DCE0E0;\n}\n\n.DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside) {\n  position: relative;\n\n  background-color: #4A90E2;\n  color: #F0F8FF;\n}\n\n.DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside):hover {\n  background-color: #51A0FA;\n}\n\n.DayPicker:not(.DayPicker--interactionDisabled)\n  .DayPicker-Day:not(.DayPicker-Day--disabled):not(.DayPicker-Day--selected):not(.DayPicker-Day--outside):hover {\n  background-color: #F0F8FF;\n}\n\n/* DayPickerInput */\n\n.DayPickerInput {\n  display: inline-block;\n}\n\n.DayPickerInput-OverlayWrapper {\n  position: relative;\n}\n\n.DayPickerInput-Overlay {\n  position: absolute;\n  left: 0;\n  z-index: 1;\n\n  background: white;\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.15);\n}\n","",{version:3,sources:["webpack://./node_modules/react-day-picker/lib/style.css"],names:[],mappings:"AAAA,qBAAqB;;AAErB;EACE,qBAAqB;EACrB,eAAe;AACjB;;AAEA;EACE,kBAAkB;;EAElB,mBAAmB;EACnB,mBAAmB;;EAEnB,yBAAyB;;KAEtB,sBAAsB;;MAErB,qBAAqB;;UAEjB,iBAAiB;AAC3B;;AAEA;EACE,aAAa;EACb,eAAe;EACf,uBAAuB;AACzB;;AAEA;EACE,cAAc;EACd,aAAa;EACb,eAAe;EACf,iBAAiB;EACjB,yBAAyB;;EAEzB,yBAAyB;;KAEtB,sBAAsB;;MAErB,qBAAqB;;UAEjB,iBAAiB;AAC3B;;AAEA;AACA;;AAEA;EACE,kBAAkB;EAClB,QAAQ;EACR,YAAY;EACZ,UAAU;;EAEV,qBAAqB;EACrB,eAAe;EACf,aAAa;EACb,cAAc;EACd,2BAA2B;EAC3B,oBAAoB;EACpB,4BAA4B;EAC5B,cAAc;EACd,eAAe;AACjB;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,mBAAmB;EACnB,yDAAulB;AACzlB;;AAEA;EACE,yDAAmoB;AACroB;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,sBAAsB;EACtB,oBAAoB;EACpB,gBAAgB;EAChB,gBAAgB;AAClB;;AAEA;EACE,gBAAgB;EAChB,iBAAiB;AACnB;;AAEA;EACE,2BAA2B;EAC3B,eAAe;AACjB;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,mBAAmB;EACnB,cAAc;EACd,cAAc;EACd,kBAAkB;EAClB,kBAAkB;AACpB;;AAEA;EACE,mBAAmB;EACnB,qBAAqB;AACvB;;AAEA;EACE,wBAAwB;AAC1B;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,mBAAmB;EACnB,cAAc;EACd,kBAAkB;EAClB,sBAAsB;EACtB,kBAAkB;EAClB,eAAe;AACjB;;AAEA;EACE,mBAAmB;EACnB,cAAc;EACd,cAAc;EACd,+BAA+B;EAC/B,cAAc;EACd,sBAAsB;EACtB,iBAAiB;EACjB,iBAAiB;EACjB,eAAe;AACjB;;AAEA;EACE,eAAe;AACjB;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,YAAY;EACZ,6BAA6B;EAC7B,sBAAsB;EACtB,gBAAgB;EAChB,cAAc;EACd,kBAAkB;EAClB,eAAe;AACjB;;AAEA,sBAAsB;;AAEtB;EACE,cAAc;EACd,gBAAgB;AAClB;;AAEA;EACE,cAAc;EACd,eAAe;AACjB;;AAEA;EACE,cAAc;EACd,eAAe;EACf,+BAA+B;AACjC;;AAEA,sBAAsB;;AAEtB;EACE,yBAAyB;AAC3B;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,kBAAkB;;EAElB,yBAAyB;EACzB,cAAc;AAChB;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;;EAEE,yBAAyB;AAC3B;;AAEA,mBAAmB;;AAEnB;EACE,qBAAqB;AACvB;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,kBAAkB;EAClB,OAAO;EACP,UAAU;;EAEV,iBAAiB;EACjB,yCAAyC;AAC3C",sourcesContent:["/* DayPicker styles */\n\n.DayPicker {\n  display: inline-block;\n  font-size: 1rem;\n}\n\n.DayPicker-wrapper {\n  position: relative;\n\n  flex-direction: row;\n  padding-bottom: 1em;\n\n  -webkit-user-select: none;\n\n     -moz-user-select: none;\n\n      -ms-user-select: none;\n\n          user-select: none;\n}\n\n.DayPicker-Months {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n}\n\n.DayPicker-Month {\n  display: table;\n  margin: 0 1em;\n  margin-top: 1em;\n  border-spacing: 0;\n  border-collapse: collapse;\n\n  -webkit-user-select: none;\n\n     -moz-user-select: none;\n\n      -ms-user-select: none;\n\n          user-select: none;\n}\n\n.DayPicker-NavBar {\n}\n\n.DayPicker-NavButton {\n  position: absolute;\n  top: 1em;\n  right: 1.5em;\n  left: auto;\n\n  display: inline-block;\n  margin-top: 2px;\n  width: 1.25em;\n  height: 1.25em;\n  background-position: center;\n  background-size: 50%;\n  background-repeat: no-repeat;\n  color: #8B9898;\n  cursor: pointer;\n}\n\n.DayPicker-NavButton:hover {\n  opacity: 0.8;\n}\n\n.DayPicker-NavButton--prev {\n  margin-right: 1.5em;\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAwCAYAAAB5R9gVAAAABGdBTUEAALGPC/xhBQAAAVVJREFUWAnN2G0KgjAYwPHpGfRkaZeqvgQaK+hY3SUHrk1YzNLay/OiEFp92I+/Mp2F2Mh2lLISWnflFjzH263RQjzMZ19wgs73ez0o1WmtW+dgA01VxrE3p6l2GLsnBy1VYQOtVSEH/atCCgqpQgKKqYIOiq2CBkqtggLKqQIKgqgCBjpJ2Y5CdJ+zrT9A7HHSTA1dxUdHgzCqJIEwq0SDsKsEg6iqBIEoq/wEcVRZBXFV+QJxV5mBtlDFB5VjYTaGZ2sf4R9PM7U9ZU+lLuaetPP/5Die3ToO1+u+MKtHs06qODB2zBnI/jBd4MPQm1VkY79Tb18gB+C62FdBFsZR6yeIo1YQiLJWMIiqVjQIu1YSCLNWFgijVjYIuhYYCKoWKAiiFgoopxYaKLUWOii2FgkophYp6F3r42W5A9s9OcgNvva8xQaysKXlFytoqdYmQH6tF3toSUo0INq9AAAAAElFTkSuQmCC');\n}\n\n.DayPicker-NavButton--next {\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAwCAYAAAB5R9gVAAAABGdBTUEAALGPC/xhBQAAAXRJREFUWAnN119ugjAcwPHWzJ1gnmxzB/BBE0n24m4xfNkTaOL7wOtsl3AXMMb+Vjaa1BG00N8fSEibPpAP3xAKKs2yjzTPH9RAjhEo9WzPr/Vm8zgE0+gXATAxxuxtqeJ9t5tIwv5AtQAApsfT6TPdbp+kUBcgVwvO51KqVhMkXKsVJFXrOkigVhCIs1Y4iKlWZxB1rX4gwlpRIIpa8SDkWmggrFq4IIRaJKCYWnSgnrXIQV1r8YD+1Vrn+bReagysIFfLABRt31v8oBu1xEBttfRbltmfjgEcWh9snUS2kNdBK6WN1vrOWxObWsz+fjxevsxmB1GQDfINWiev83nhaoiB/CoOU438oPrhXS0WpQ9xc1ZQWxWHqUYe0I0qrKCQKjygDlXIQV2r0IF6ViEBxVTBBSFUQQNhVYkHIVeJAtkNsbQ7c1LtzP6FsObhb2rCKv7NBIGoq4SDmKoEgTirXAcJVGkFSVVpgoSrXICGUMUH/QBZNSUy5XWUhwAAAABJRU5ErkJggg==');\n}\n\n.DayPicker-NavButton--interactionDisabled {\n  display: none;\n}\n\n.DayPicker-Caption {\n  display: table-caption;\n  margin-bottom: 0.5em;\n  padding: 0 0.5em;\n  text-align: left;\n}\n\n.DayPicker-Caption > div {\n  font-weight: 500;\n  font-size: 1.15em;\n}\n\n.DayPicker-Weekdays {\n  display: table-header-group;\n  margin-top: 1em;\n}\n\n.DayPicker-WeekdaysRow {\n  display: table-row;\n}\n\n.DayPicker-Weekday {\n  display: table-cell;\n  padding: 0.5em;\n  color: #8B9898;\n  text-align: center;\n  font-size: 0.875em;\n}\n\n.DayPicker-Weekday abbr[title] {\n  border-bottom: none;\n  text-decoration: none;\n}\n\n.DayPicker-Body {\n  display: table-row-group;\n}\n\n.DayPicker-Week {\n  display: table-row;\n}\n\n.DayPicker-Day {\n  display: table-cell;\n  padding: 0.5em;\n  border-radius: 50%;\n  vertical-align: middle;\n  text-align: center;\n  cursor: pointer;\n}\n\n.DayPicker-WeekNumber {\n  display: table-cell;\n  padding: 0.5em;\n  min-width: 1em;\n  border-right: 1px solid #EAECEC;\n  color: #8B9898;\n  vertical-align: middle;\n  text-align: right;\n  font-size: 0.75em;\n  cursor: pointer;\n}\n\n.DayPicker--interactionDisabled .DayPicker-Day {\n  cursor: default;\n}\n\n.DayPicker-Footer {\n  padding-top: 0.5em;\n}\n\n.DayPicker-TodayButton {\n  border: none;\n  background-color: transparent;\n  background-image: none;\n  box-shadow: none;\n  color: #4A90E2;\n  font-size: 0.875em;\n  cursor: pointer;\n}\n\n/* Default modifiers */\n\n.DayPicker-Day--today {\n  color: #D0021B;\n  font-weight: 700;\n}\n\n.DayPicker-Day--outside {\n  color: #8B9898;\n  cursor: default;\n}\n\n.DayPicker-Day--disabled {\n  color: #DCE0E0;\n  cursor: default;\n  /* background-color: #eff1f1; */\n}\n\n/* Example modifiers */\n\n.DayPicker-Day--sunday {\n  background-color: #F7F8F8;\n}\n\n.DayPicker-Day--sunday:not(.DayPicker-Day--today) {\n  color: #DCE0E0;\n}\n\n.DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside) {\n  position: relative;\n\n  background-color: #4A90E2;\n  color: #F0F8FF;\n}\n\n.DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside):hover {\n  background-color: #51A0FA;\n}\n\n.DayPicker:not(.DayPicker--interactionDisabled)\n  .DayPicker-Day:not(.DayPicker-Day--disabled):not(.DayPicker-Day--selected):not(.DayPicker-Day--outside):hover {\n  background-color: #F0F8FF;\n}\n\n/* DayPickerInput */\n\n.DayPickerInput {\n  display: inline-block;\n}\n\n.DayPickerInput-OverlayWrapper {\n  position: relative;\n}\n\n.DayPickerInput-Overlay {\n  position: absolute;\n  left: 0;\n  z-index: 1;\n\n  background: white;\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.15);\n}\n"],sourceRoot:""}]);const p=d},35740:(e,t,n)=>{n.d(t,{Z:()=>l});var a=n(94015),r=n.n(a),o=n(23645),i=n.n(o)()(r());i.push([e.id,".Cal__Day__root {\n  display: inline-block;\n  box-sizing: border-box;\n  width: 14.28571%;\n  list-style: none;\n  font-size: 16px;\n  text-align: center;\n  cursor: pointer;\n  user-select: none; }\n  .Cal__Day__root.Cal__Day__enabled.Cal__Day__highlighted, .Cal__Day__root.Cal__Day__enabled:active, .Cal__Day__root.Cal__Day__enabled:hover {\n    position: relative;\n    z-index: 1; }\n    .Cal__Day__root.Cal__Day__enabled.Cal__Day__highlighted:before, .Cal__Day__root.Cal__Day__enabled:active:before, .Cal__Day__root.Cal__Day__enabled:hover:before {\n      content: '';\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      width: 52px;\n      height: 52px;\n      margin-top: -26px;\n      margin-left: -26px;\n      border-radius: 50%;\n      background-color: #EFEFEF;\n      z-index: -1; }\n  .Cal__Day__root.Cal__Day__enabled:hover:before {\n    opacity: 0.5; }\n  .Cal__Day__root.Cal__Day__enabled.Cal__Day__highlighted:before, .Cal__Day__root.Cal__Day__enabled:active:before {\n    opacity: 1; }\n  .Cal__Day__root:first-child {\n    position: relative; }\n  .Cal__Day__root.Cal__Day__today {\n    position: relative;\n    z-index: 2; }\n    .Cal__Day__root.Cal__Day__today > span {\n      color: #3d3d3d; }\n    .Cal__Day__root.Cal__Day__today.Cal__Day__disabled > span {\n      color: #AAA; }\n    .Cal__Day__root.Cal__Day__today:before {\n      content: '';\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      width: 52px;\n      height: 52px;\n      margin-top: -26px;\n      margin-left: -26px;\n      border-radius: 50%;\n      box-shadow: inset 0 0 0 1px;\n      z-index: -1; }\n    .Cal__Day__root.Cal__Day__today.Cal__Day__disabled:before {\n      box-shadow: inset 0 0 0 1px #BBB; }\n  .Cal__Day__root.Cal__Day__selected {\n    position: relative; }\n    .Cal__Day__root.Cal__Day__selected > .Cal__Day__month, .Cal__Day__root.Cal__Day__selected > .Cal__Day__year {\n      display: none; }\n    .Cal__Day__root.Cal__Day__selected:before {\n      display: none; }\n    .Cal__Day__root.Cal__Day__selected .Cal__Day__selection {\n      content: '';\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      width: 52px;\n      height: 52px;\n      margin-top: -26px;\n      margin-left: -26px;\n      border-radius: 50%;\n      line-height: 56px;\n      z-index: 2; }\n      .Cal__Day__root.Cal__Day__selected .Cal__Day__selection .Cal__Day__month {\n        top: 9px; }\n      .Cal__Day__root.Cal__Day__selected .Cal__Day__selection .Cal__Day__day {\n        position: relative;\n        top: 5px;\n        font-weight: bold;\n        font-size: 18px; }\n  .Cal__Day__root.Cal__Day__disabled {\n    color: #AAA;\n    cursor: not-allowed; }\n\n.Cal__Day__month, .Cal__Day__year {\n  position: absolute;\n  left: 0;\n  right: 0;\n  font-size: 12px;\n  line-height: 12px;\n  text-transform: capitalize; }\n\n.Cal__Day__month {\n  top: 5px; }\n\n.Cal__Day__year {\n  bottom: 5px; }\n\n/*\n * Range selection styles\n */\n.Cal__Day__range.Cal__Day__selected.Cal__Day__start:after, .Cal__Day__range.Cal__Day__selected.Cal__Day__end:after {\n  content: '';\n  position: absolute;\n  top: 50%;\n  width: 50%;\n  height: 52px;\n  margin-top: -26px;\n  box-shadow: inset 56px 56px; }\n\n.Cal__Day__range.Cal__Day__selected.Cal__Day__disabled .Cal__Day__selection.Cal__Day__selection {\n  background-color: #EEE !important; }\n  .Cal__Day__range.Cal__Day__selected.Cal__Day__disabled .Cal__Day__selection.Cal__Day__selection .Cal__Day__day, .Cal__Day__range.Cal__Day__selected.Cal__Day__disabled .Cal__Day__selection.Cal__Day__selection .Cal__Day__month {\n    color: #AAA;\n    font-weight: 300; }\n\n.Cal__Day__range.Cal__Day__selected.Cal__Day__start .Cal__Day__selection {\n  border-top-left-radius: 50%;\n  border-bottom-left-radius: 50%; }\n\n.Cal__Day__range.Cal__Day__selected.Cal__Day__start:after {\n  right: 0; }\n\n.Cal__Day__range.Cal__Day__selected.Cal__Day__start.Cal__Day__end:after {\n  display: none; }\n\n.Cal__Day__range.Cal__Day__selected.Cal__Day__betweenRange .Cal__Day__selection {\n  left: 0;\n  right: 0;\n  width: 100%;\n  margin-left: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 0; }\n\n.Cal__Day__range.Cal__Day__selected.Cal__Day__betweenRange .Cal__Day__day {\n  top: 0;\n  font-size: 16px; }\n\n.Cal__Day__range.Cal__Day__selected.Cal__Day__betweenRange .Cal__Day__month {\n  display: none; }\n\n.Cal__Day__range.Cal__Day__selected.Cal__Day__end:after {\n  left: 0; }\n\n.Cal__Day__range.Cal__Day__selected.Cal__Day__end .Cal__Day__selection {\n  border-top-right-radius: 50%;\n  border-bottom-right-radius: 50%;\n  color: inherit !important;\n  background-color: #FFF !important;\n  border: 2px solid;\n  box-sizing: border-box; }\n  .Cal__Day__range.Cal__Day__selected.Cal__Day__end .Cal__Day__selection .Cal__Day__day {\n    top: 4px; }\n.Cal__Container__root {\n  position: relative;\n  display: table;\n  z-index: 1;\n  font: 14px 'Helvetica Neue', Helvetica, Arial, sans-serif;\n  line-height: 1.4em;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  font-weight: 300;\n  outline: none;\n  text-align: left; }\n  .Cal__Container__root.Cal__Container__landscape {\n    display: flex;\n    flex-direction: row; }\n    .Cal__Container__root.Cal__Container__landscape .Cal__Container__wrapper {\n      position: relative;\n      flex-grow: 1;\n      overflow: hidden;\n      z-index: 1;\n      border-top-right-radius: 3px;\n      border-bottom-right-radius: 3px; }\n\n.Cal__Container__listWrapper {\n  position: relative;\n  overflow: hidden;\n  background-color: #FFF; }\n.Cal__Header__root {\n  position: relative;\n  display: flex;\n  align-items: center;\n  box-sizing: border-box;\n  overflow: hidden;\n  min-height: 98px;\n  padding: 20px;\n  line-height: 1.3;\n  font-weight: 400;\n  border-top-left-radius: 3px;\n  border-top-right-radius: 3px; }\n  .Cal__Header__root.Cal__Header__landscape {\n    align-items: flex-start;\n    min-width: 200px;\n    border-top-right-radius: 0;\n    border-bottom-left-radius: 3px; }\n    .Cal__Header__root.Cal__Header__landscape .Cal__Header__dateWrapper.Cal__Header__day {\n      flex-grow: 1;\n      height: 76px; }\n\n.Cal__Header__wrapper {\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n  cursor: pointer; }\n  .Cal__Header__wrapper.Cal__Header__blank {\n    height: 58px;\n    line-height: 58px;\n    color: rgba(255, 255, 255, 0.5);\n    font-size: 18px;\n    cursor: default; }\n\n.Cal__Header__dateWrapper {\n  position: relative;\n  display: block;\n  overflow: hidden;\n  color: rgba(255, 255, 255, 0.5);\n  transition: color 0.3s ease; }\n  .Cal__Header__dateWrapper.Cal__Header__active {\n    color: white; }\n  .Cal__Header__dateWrapper.Cal__Header__day {\n    height: 38px;\n    font-size: 36px;\n    line-height: 36px;\n    text-transform: capitalize; }\n  .Cal__Header__dateWrapper.Cal__Header__year {\n    height: 20px;\n    font-size: 18px;\n    line-height: 18px; }\n\n.Cal__Header__date {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0; }\n\n.Cal__Header__range {\n  display: flex;\n  flex-grow: 1; }\n  .Cal__Header__range .Cal__Header__dateWrapper {\n    overflow: visible; }\n  .Cal__Header__range .Cal__Header__wrapper:first-child:before, .Cal__Header__range .Cal__Header__wrapper:first-child:after {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 50%;\n    width: 0;\n    height: 0;\n    margin-top: -50px;\n    margin-left: -50px;\n    border-top: 100px solid transparent;\n    border-bottom: 100px solid transparent;\n    border-left: 60px solid; }\n  .Cal__Header__range .Cal__Header__wrapper:first-child:before {\n    color: rgba(255, 255, 255, 0.15);\n    transform: translateX(1px); }\n  .Cal__Header__range .Cal__Header__wrapper:last-child {\n    margin-left: 60px; }\n  .Cal__Header__range .Cal__Header__wrapper .Cal__Header__date {\n    white-space: nowrap;\n    z-index: 1; }\n.Cal__Today__root {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 32px;\n  padding: 6px;\n  box-sizing: border-box;\n  transform: translate3d(0, -100%, 0);\n  font-weight: 500;\n  line-height: 0;\n  z-index: 10;\n  cursor: pointer;\n  transition: transform 0.3s ease;\n  transition-delay: 0.3s; }\n  .Cal__Today__root.Cal__Today__show {\n    transform: translate3d(0, 0, 0);\n    transition-delay: 0s; }\n    .Cal__Today__root.Cal__Today__show .Cal__Today__chevron {\n      transition: transform 0.3s ease; }\n  .Cal__Today__root .Cal__Today__chevron {\n    position: absolute;\n    top: 50%;\n    margin-top: -6px;\n    margin-left: 5px;\n    transform: rotate(270deg);\n    transition: transform 0.3s ease; }\n  .Cal__Today__root.Cal__Today__chevronUp .Cal__Today__chevron {\n    transform: rotate(180deg); }\n  .Cal__Today__root.Cal__Today__chevronDown .Cal__Today__chevron {\n    transform: rotate(360deg); }\n.Cal__MonthList__root {\n  width: 100% !important;\n  background-color: #FFF;\n  -webkit-overflow-scrolling: touch; }\n  .Cal__MonthList__root.Cal__MonthList__scrolling > div {\n    pointer-events: none; }\n  .Cal__MonthList__root.Cal__MonthList__scrolling label {\n    opacity: 1; }\n.Cal__Weekdays__root {\n  position: relative;\n  z-index: 5;\n  display: flex;\n  padding: 0;\n  margin: 0;\n  list-style: none;\n  box-shadow: inset 0 -1px rgba(0, 0, 0, 0.04); }\n\n.Cal__Weekdays__day {\n  padding: 15px 0;\n  flex-basis: 14.28571%;\n  flex-grow: 1;\n  font-weight: 500;\n  text-align: center; }\n.Cal__Years__root {\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 10;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: #F9F9F9; }\n  .Cal__Years__root:before, .Cal__Years__root:after {\n    content: '';\n    position: absolute;\n    left: 0;\n    right: 0;\n    height: 50px;\n    pointer-events: none;\n    z-index: 1; }\n  .Cal__Years__root:before {\n    top: 0;\n    background: linear-gradient(to bottom, rgba(255, 255, 255, 0.8) 0%, rgba(255, 255, 255, 0) 100%); }\n  .Cal__Years__root:after {\n    bottom: 0;\n    background: linear-gradient(to bottom, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.8) 100%); }\n\n.Cal__Years__list {\n  box-sizing: border-box; }\n  .Cal__Years__list.Cal__Years__center {\n    display: flex;\n    align-items: center;\n    justify-content: center; }\n\n.Cal__Years__year {\n  display: flex;\n  padding: 0 20px;\n  height: 100%;\n  align-items: center;\n  justify-content: center;\n  font-size: 18px;\n  font-weight: 500;\n  text-align: center;\n  cursor: pointer;\n  -webkit-user-select: none;\n  box-sizing: border-box; }\n  .Cal__Years__year.Cal__Years__withMonths {\n    border-bottom: 1px solid #E9E9E9; }\n    .Cal__Years__year.Cal__Years__withMonths label {\n      height: 88px;\n      padding-top: 12px;\n      box-sizing: border-box; }\n  .Cal__Years__year label {\n    flex-basis: 42%; }\n    .Cal__Years__year label span {\n      flex-shrink: 0;\n      color: #333; }\n  .Cal__Years__year ol {\n    display: flex;\n    flex-wrap: wrap;\n    margin: 0;\n    padding: 0;\n    font-size: 14px; }\n    .Cal__Years__year ol li {\n      display: flex;\n      width: 44px;\n      height: 44px;\n      flex-shrink: 0;\n      align-items: center;\n      justify-content: center;\n      list-style: none;\n      border-radius: 50%;\n      box-sizing: border-box;\n      color: #444;\n      font-weight: 400;\n      text-transform: capitalize; }\n      .Cal__Years__year ol li.Cal__Years__currentMonth {\n        border: 1px solid; }\n      .Cal__Years__year ol li.Cal__Years__selected {\n        position: relative;\n        z-index: 1;\n        background-color: blue;\n        color: #FFF !important;\n        border: 0; }\n      .Cal__Years__year ol li.Cal__Years__disabled {\n        cursor: not-allowed;\n        color: #AAA; }\n        .Cal__Years__year ol li.Cal__Years__disabled:hover {\n          background-color: inherit; }\n      .Cal__Years__year ol li:hover {\n        background-color: #EFEFEF; }\n  .Cal__Years__year:hover label > span, .Cal__Years__year.Cal__Years__active label > span {\n    color: inherit; }\n  .Cal__Years__year:hover, .Cal__Years__year.Cal__Years__active {\n    position: relative;\n    z-index: 2; }\n  .Cal__Years__year.Cal__Years__active {\n    font-size: 32px; }\n  .Cal__Years__year.Cal__Years__currentYear {\n    position: relative; }\n    .Cal__Years__year.Cal__Years__currentYear label > span {\n      min-width: 50px;\n      padding-bottom: 5px;\n      border-bottom: 3px solid; }\n    .Cal__Years__year.Cal__Years__currentYear.Cal__Years__active label > span {\n      min-width: 85px; }\n  .Cal__Years__year.Cal__Years__first {\n    padding-top: 40px; }\n  .Cal__Years__year.Cal__Years__last {\n    padding-bottom: 40px; }\n.Cal__Animation__enter {\n  opacity: 0;\n  transform: translate3d(0, -100%, 0);\n  transition: 0.25s ease; }\n\n.Cal__Animation__enter.Cal__Animation__enterActive {\n  opacity: 1;\n  transform: translate3d(0, 0, 0); }\n\n.Cal__Animation__leave {\n  transform: translate3d(0, 0, 0);\n  transition: 0.25s ease; }\n\n.Cal__Animation__leave.Cal__Animation__leaveActive {\n  opacity: 0;\n  transform: translate3d(0, 100%, 0); }\n.Cal__Slider__root, .Cal__Slider__slide {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0; }\n\n.Cal__Slider__root {\n  overflow: hidden; }\n\n.Cal__Slider__slide {\n  padding: 20px 65px; }\n  .Cal__Slider__slide:first-child {\n    padding-left: 20px; }\n\n.Cal__Slider__wrapper {\n  height: 100%;\n  transition: transform 0.3s ease; }\n\n.Cal__Slider__arrow {\n  position: absolute;\n  top: 0;\n  z-index: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 40px;\n  height: 100%;\n  opacity: 0.7;\n  cursor: pointer;\n  border-left: 1px solid rgba(255, 255, 255, 0.1); }\n  .Cal__Slider__arrow svg {\n    width: 15px; }\n  .Cal__Slider__arrow:hover {\n    opacity: 1; }\n\n.Cal__Slider__arrowRight {\n  right: 0; }\n\n.Cal__Slider__arrowLeft {\n  left: 0;\n  transform: scaleX(-1); }\n.Cal__transition__enter {\n  opacity: 0; }\n\n.Cal__transition__enterActive {\n  opacity: 1;\n  transition: opacity 0.3s ease; }\n\n.Cal__transition__leave {\n  opacity: 1; }\n\n.Cal__transition__leaveActive {\n  opacity: 0;\n  transition: opacity 0.3s ease; }\n.Cal__Month__rows {\n  position: relative;\n  background: linear-gradient(to bottom, rgba(255, 255, 255, 0) 50%, rgba(0, 0, 0, 0.05) 100%); }\n\n.Cal__Month__row {\n  padding: 0;\n  margin: 0; }\n  .Cal__Month__row:first-child {\n    text-align: right; }\n    .Cal__Month__row:first-child li {\n      background-color: #FFF;\n      box-shadow: 0 -1px 0 #E9E9E9; }\n  .Cal__Month__row:nth-child(2) {\n    box-shadow: 0 -1px 0 #E9E9E9; }\n  .Cal__Month__row.Cal__Month__partial:first-child li:first-child {\n    box-shadow: 0px -1px 0 #E9E9E9, inset 1px 0 0 #E9E9E9; }\n  .Cal__Month__row.Cal__Month__partial:last-of-type li {\n    position: relative;\n    z-index: 1; }\n\n.Cal__Month__label {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  margin: 0;\n  font-size: 30px;\n  font-weight: 500;\n  z-index: 3;\n  pointer-events: none;\n  background-color: rgba(255, 255, 255, 0.6);\n  opacity: 0;\n  transition: opacity 0.3s ease; }\n  .Cal__Month__label > span {\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 56px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    text-transform: capitalize; }\n  .Cal__Month__label.Cal__Month__partialFirstRow {\n    top: 56px; }\n","",{version:3,sources:["webpack://./node_modules/react-infinite-calendar/styles.css"],names:[],mappings:"AAAA;EACE,qBAAqB;EACrB,sBAAsB;EACtB,gBAAgB;EAChB,gBAAgB;EAChB,eAAe;EACf,kBAAkB;EAClB,eAAe;EACf,iBAAiB,EAAE;EACnB;IACE,kBAAkB;IAClB,UAAU,EAAE;IACZ;MACE,WAAW;MACX,kBAAkB;MAClB,QAAQ;MACR,SAAS;MACT,WAAW;MACX,YAAY;MACZ,iBAAiB;MACjB,kBAAkB;MAClB,kBAAkB;MAClB,yBAAyB;MACzB,WAAW,EAAE;EACjB;IACE,YAAY,EAAE;EAChB;IACE,UAAU,EAAE;EACd;IACE,kBAAkB,EAAE;EACtB;IACE,kBAAkB;IAClB,UAAU,EAAE;IACZ;MACE,cAAc,EAAE;IAClB;MACE,WAAW,EAAE;IACf;MACE,WAAW;MACX,kBAAkB;MAClB,QAAQ;MACR,SAAS;MACT,WAAW;MACX,YAAY;MACZ,iBAAiB;MACjB,kBAAkB;MAClB,kBAAkB;MAClB,2BAA2B;MAC3B,WAAW,EAAE;IACf;MACE,gCAAgC,EAAE;EACtC;IACE,kBAAkB,EAAE;IACpB;MACE,aAAa,EAAE;IACjB;MACE,aAAa,EAAE;IACjB;MACE,WAAW;MACX,kBAAkB;MAClB,QAAQ;MACR,SAAS;MACT,WAAW;MACX,YAAY;MACZ,iBAAiB;MACjB,kBAAkB;MAClB,kBAAkB;MAClB,iBAAiB;MACjB,UAAU,EAAE;MACZ;QACE,QAAQ,EAAE;MACZ;QACE,kBAAkB;QAClB,QAAQ;QACR,iBAAiB;QACjB,eAAe,EAAE;EACvB;IACE,WAAW;IACX,mBAAmB,EAAE;;AAEzB;EACE,kBAAkB;EAClB,OAAO;EACP,QAAQ;EACR,eAAe;EACf,iBAAiB;EACjB,0BAA0B,EAAE;;AAE9B;EACE,QAAQ,EAAE;;AAEZ;EACE,WAAW,EAAE;;AAEf;;EAEE;AACF;EACE,WAAW;EACX,kBAAkB;EAClB,QAAQ;EACR,UAAU;EACV,YAAY;EACZ,iBAAiB;EACjB,2BAA2B,EAAE;;AAE/B;EACE,iCAAiC,EAAE;EACnC;IACE,WAAW;IACX,gBAAgB,EAAE;;AAEtB;EACE,2BAA2B;EAC3B,8BAA8B,EAAE;;AAElC;EACE,QAAQ,EAAE;;AAEZ;EACE,aAAa,EAAE;;AAEjB;EACE,OAAO;EACP,QAAQ;EACR,WAAW;EACX,cAAc;EACd,aAAa;EACb,uBAAuB;EACvB,mBAAmB;EACnB,gBAAgB,EAAE;;AAEpB;EACE,MAAM;EACN,eAAe,EAAE;;AAEnB;EACE,aAAa,EAAE;;AAEjB;EACE,OAAO,EAAE;;AAEX;EACE,4BAA4B;EAC5B,+BAA+B;EAC/B,yBAAyB;EACzB,iCAAiC;EACjC,iBAAiB;EACjB,sBAAsB,EAAE;EACxB;IACE,QAAQ,EAAE;AACd;EACE,kBAAkB;EAClB,cAAc;EACd,UAAU;EACV,yDAAyD;EACzD,kBAAkB;EAClB,mCAAmC;EACnC,kCAAkC;EAClC,gBAAgB;EAChB,aAAa;EACb,gBAAgB,EAAE;EAClB;IACE,aAAa;IACb,mBAAmB,EAAE;IACrB;MACE,kBAAkB;MAClB,YAAY;MACZ,gBAAgB;MAChB,UAAU;MACV,4BAA4B;MAC5B,+BAA+B,EAAE;;AAEvC;EACE,kBAAkB;EAClB,gBAAgB;EAChB,sBAAsB,EAAE;AAC1B;EACE,kBAAkB;EAClB,aAAa;EACb,mBAAmB;EACnB,sBAAsB;EACtB,gBAAgB;EAChB,gBAAgB;EAChB,aAAa;EACb,gBAAgB;EAChB,gBAAgB;EAChB,2BAA2B;EAC3B,4BAA4B,EAAE;EAC9B;IACE,uBAAuB;IACvB,gBAAgB;IAChB,0BAA0B;IAC1B,8BAA8B,EAAE;IAChC;MACE,YAAY;MACZ,YAAY,EAAE;;AAEpB;EACE,aAAa;EACb,sBAAsB;EACtB,YAAY;EACZ,eAAe,EAAE;EACjB;IACE,YAAY;IACZ,iBAAiB;IACjB,+BAA+B;IAC/B,eAAe;IACf,eAAe,EAAE;;AAErB;EACE,kBAAkB;EAClB,cAAc;EACd,gBAAgB;EAChB,+BAA+B;EAC/B,2BAA2B,EAAE;EAC7B;IACE,YAAY,EAAE;EAChB;IACE,YAAY;IACZ,eAAe;IACf,iBAAiB;IACjB,0BAA0B,EAAE;EAC9B;IACE,YAAY;IACZ,eAAe;IACf,iBAAiB,EAAE;;AAEvB;EACE,kBAAkB;EAClB,MAAM;EACN,OAAO;EACP,QAAQ;EACR,SAAS,EAAE;;AAEb;EACE,aAAa;EACb,YAAY,EAAE;EACd;IACE,iBAAiB,EAAE;EACrB;IACE,WAAW;IACX,kBAAkB;IAClB,MAAM;IACN,SAAS;IACT,QAAQ;IACR,SAAS;IACT,iBAAiB;IACjB,kBAAkB;IAClB,mCAAmC;IACnC,sCAAsC;IACtC,uBAAuB,EAAE;EAC3B;IACE,gCAAgC;IAChC,0BAA0B,EAAE;EAC9B;IACE,iBAAiB,EAAE;EACrB;IACE,mBAAmB;IACnB,UAAU,EAAE;AAChB;EACE,kBAAkB;EAClB,MAAM;EACN,OAAO;EACP,QAAQ;EACR,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,YAAY;EACZ,YAAY;EACZ,sBAAsB;EACtB,mCAAmC;EACnC,gBAAgB;EAChB,cAAc;EACd,WAAW;EACX,eAAe;EACf,+BAA+B;EAC/B,sBAAsB,EAAE;EACxB;IACE,+BAA+B;IAC/B,oBAAoB,EAAE;IACtB;MACE,+BAA+B,EAAE;EACrC;IACE,kBAAkB;IAClB,QAAQ;IACR,gBAAgB;IAChB,gBAAgB;IAChB,yBAAyB;IACzB,+BAA+B,EAAE;EACnC;IACE,yBAAyB,EAAE;EAC7B;IACE,yBAAyB,EAAE;AAC/B;EACE,sBAAsB;EACtB,sBAAsB;EACtB,iCAAiC,EAAE;EACnC;IACE,oBAAoB,EAAE;EACxB;IACE,UAAU,EAAE;AAChB;EACE,kBAAkB;EAClB,UAAU;EACV,aAAa;EACb,UAAU;EACV,SAAS;EACT,gBAAgB;EAChB,4CAA4C,EAAE;;AAEhD;EACE,eAAe;EACf,qBAAqB;EACrB,YAAY;EACZ,gBAAgB;EAChB,kBAAkB,EAAE;AACtB;EACE,kBAAkB;EAClB,OAAO;EACP,QAAQ;EACR,SAAS;EACT,WAAW;EACX,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,yBAAyB,EAAE;EAC3B;IACE,WAAW;IACX,kBAAkB;IAClB,OAAO;IACP,QAAQ;IACR,YAAY;IACZ,oBAAoB;IACpB,UAAU,EAAE;EACd;IACE,MAAM;IACN,gGAAgG,EAAE;EACpG;IACE,SAAS;IACT,gGAAgG,EAAE;;AAEtG;EACE,sBAAsB,EAAE;EACxB;IACE,aAAa;IACb,mBAAmB;IACnB,uBAAuB,EAAE;;AAE7B;EACE,aAAa;EACb,eAAe;EACf,YAAY;EACZ,mBAAmB;EACnB,uBAAuB;EACvB,eAAe;EACf,gBAAgB;EAChB,kBAAkB;EAClB,eAAe;EACf,yBAAyB;EACzB,sBAAsB,EAAE;EACxB;IACE,gCAAgC,EAAE;IAClC;MACE,YAAY;MACZ,iBAAiB;MACjB,sBAAsB,EAAE;EAC5B;IACE,eAAe,EAAE;IACjB;MACE,cAAc;MACd,WAAW,EAAE;EACjB;IACE,aAAa;IACb,eAAe;IACf,SAAS;IACT,UAAU;IACV,eAAe,EAAE;IACjB;MACE,aAAa;MACb,WAAW;MACX,YAAY;MACZ,cAAc;MACd,mBAAmB;MACnB,uBAAuB;MACvB,gBAAgB;MAChB,kBAAkB;MAClB,sBAAsB;MACtB,WAAW;MACX,gBAAgB;MAChB,0BAA0B,EAAE;MAC5B;QACE,iBAAiB,EAAE;MACrB;QACE,kBAAkB;QAClB,UAAU;QACV,sBAAsB;QACtB,sBAAsB;QACtB,SAAS,EAAE;MACb;QACE,mBAAmB;QACnB,WAAW,EAAE;QACb;UACE,yBAAyB,EAAE;MAC/B;QACE,yBAAyB,EAAE;EACjC;IACE,cAAc,EAAE;EAClB;IACE,kBAAkB;IAClB,UAAU,EAAE;EACd;IACE,eAAe,EAAE;EACnB;IACE,kBAAkB,EAAE;IACpB;MACE,eAAe;MACf,mBAAmB;MACnB,wBAAwB,EAAE;IAC5B;MACE,eAAe,EAAE;EACrB;IACE,iBAAiB,EAAE;EACrB;IACE,oBAAoB,EAAE;AAC1B;EACE,UAAU;EACV,mCAAmC;EACnC,sBAAsB,EAAE;;AAE1B;EACE,UAAU;EACV,+BAA+B,EAAE;;AAEnC;EACE,+BAA+B;EAC/B,sBAAsB,EAAE;;AAE1B;EACE,UAAU;EACV,kCAAkC,EAAE;AACtC;EACE,kBAAkB;EAClB,MAAM;EACN,OAAO;EACP,QAAQ;EACR,SAAS,EAAE;;AAEb;EACE,gBAAgB,EAAE;;AAEpB;EACE,kBAAkB,EAAE;EACpB;IACE,kBAAkB,EAAE;;AAExB;EACE,YAAY;EACZ,+BAA+B,EAAE;;AAEnC;EACE,kBAAkB;EAClB,MAAM;EACN,UAAU;EACV,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,WAAW;EACX,YAAY;EACZ,YAAY;EACZ,eAAe;EACf,+CAA+C,EAAE;EACjD;IACE,WAAW,EAAE;EACf;IACE,UAAU,EAAE;;AAEhB;EACE,QAAQ,EAAE;;AAEZ;EACE,OAAO;EACP,qBAAqB,EAAE;AACzB;EACE,UAAU,EAAE;;AAEd;EACE,UAAU;EACV,6BAA6B,EAAE;;AAEjC;EACE,UAAU,EAAE;;AAEd;EACE,UAAU;EACV,6BAA6B,EAAE;AACjC;EACE,kBAAkB;EAClB,4FAA4F,EAAE;;AAEhG;EACE,UAAU;EACV,SAAS,EAAE;EACX;IACE,iBAAiB,EAAE;IACnB;MACE,sBAAsB;MACtB,4BAA4B,EAAE;EAClC;IACE,4BAA4B,EAAE;EAChC;IACE,qDAAqD,EAAE;EACzD;IACE,kBAAkB;IAClB,UAAU,EAAE;;AAEhB;EACE,kBAAkB;EAClB,MAAM;EACN,SAAS;EACT,OAAO;EACP,QAAQ;EACR,SAAS;EACT,eAAe;EACf,gBAAgB;EAChB,UAAU;EACV,oBAAoB;EACpB,0CAA0C;EAC1C,UAAU;EACV,6BAA6B,EAAE;EAC/B;IACE,kBAAkB;IAClB,OAAO;IACP,QAAQ;IACR,MAAM;IACN,YAAY;IACZ,aAAa;IACb,mBAAmB;IACnB,uBAAuB;IACvB,0BAA0B,EAAE;EAC9B;IACE,SAAS,EAAE",sourcesContent:[".Cal__Day__root {\n  display: inline-block;\n  box-sizing: border-box;\n  width: 14.28571%;\n  list-style: none;\n  font-size: 16px;\n  text-align: center;\n  cursor: pointer;\n  user-select: none; }\n  .Cal__Day__root.Cal__Day__enabled.Cal__Day__highlighted, .Cal__Day__root.Cal__Day__enabled:active, .Cal__Day__root.Cal__Day__enabled:hover {\n    position: relative;\n    z-index: 1; }\n    .Cal__Day__root.Cal__Day__enabled.Cal__Day__highlighted:before, .Cal__Day__root.Cal__Day__enabled:active:before, .Cal__Day__root.Cal__Day__enabled:hover:before {\n      content: '';\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      width: 52px;\n      height: 52px;\n      margin-top: -26px;\n      margin-left: -26px;\n      border-radius: 50%;\n      background-color: #EFEFEF;\n      z-index: -1; }\n  .Cal__Day__root.Cal__Day__enabled:hover:before {\n    opacity: 0.5; }\n  .Cal__Day__root.Cal__Day__enabled.Cal__Day__highlighted:before, .Cal__Day__root.Cal__Day__enabled:active:before {\n    opacity: 1; }\n  .Cal__Day__root:first-child {\n    position: relative; }\n  .Cal__Day__root.Cal__Day__today {\n    position: relative;\n    z-index: 2; }\n    .Cal__Day__root.Cal__Day__today > span {\n      color: #3d3d3d; }\n    .Cal__Day__root.Cal__Day__today.Cal__Day__disabled > span {\n      color: #AAA; }\n    .Cal__Day__root.Cal__Day__today:before {\n      content: '';\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      width: 52px;\n      height: 52px;\n      margin-top: -26px;\n      margin-left: -26px;\n      border-radius: 50%;\n      box-shadow: inset 0 0 0 1px;\n      z-index: -1; }\n    .Cal__Day__root.Cal__Day__today.Cal__Day__disabled:before {\n      box-shadow: inset 0 0 0 1px #BBB; }\n  .Cal__Day__root.Cal__Day__selected {\n    position: relative; }\n    .Cal__Day__root.Cal__Day__selected > .Cal__Day__month, .Cal__Day__root.Cal__Day__selected > .Cal__Day__year {\n      display: none; }\n    .Cal__Day__root.Cal__Day__selected:before {\n      display: none; }\n    .Cal__Day__root.Cal__Day__selected .Cal__Day__selection {\n      content: '';\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      width: 52px;\n      height: 52px;\n      margin-top: -26px;\n      margin-left: -26px;\n      border-radius: 50%;\n      line-height: 56px;\n      z-index: 2; }\n      .Cal__Day__root.Cal__Day__selected .Cal__Day__selection .Cal__Day__month {\n        top: 9px; }\n      .Cal__Day__root.Cal__Day__selected .Cal__Day__selection .Cal__Day__day {\n        position: relative;\n        top: 5px;\n        font-weight: bold;\n        font-size: 18px; }\n  .Cal__Day__root.Cal__Day__disabled {\n    color: #AAA;\n    cursor: not-allowed; }\n\n.Cal__Day__month, .Cal__Day__year {\n  position: absolute;\n  left: 0;\n  right: 0;\n  font-size: 12px;\n  line-height: 12px;\n  text-transform: capitalize; }\n\n.Cal__Day__month {\n  top: 5px; }\n\n.Cal__Day__year {\n  bottom: 5px; }\n\n/*\n * Range selection styles\n */\n.Cal__Day__range.Cal__Day__selected.Cal__Day__start:after, .Cal__Day__range.Cal__Day__selected.Cal__Day__end:after {\n  content: '';\n  position: absolute;\n  top: 50%;\n  width: 50%;\n  height: 52px;\n  margin-top: -26px;\n  box-shadow: inset 56px 56px; }\n\n.Cal__Day__range.Cal__Day__selected.Cal__Day__disabled .Cal__Day__selection.Cal__Day__selection {\n  background-color: #EEE !important; }\n  .Cal__Day__range.Cal__Day__selected.Cal__Day__disabled .Cal__Day__selection.Cal__Day__selection .Cal__Day__day, .Cal__Day__range.Cal__Day__selected.Cal__Day__disabled .Cal__Day__selection.Cal__Day__selection .Cal__Day__month {\n    color: #AAA;\n    font-weight: 300; }\n\n.Cal__Day__range.Cal__Day__selected.Cal__Day__start .Cal__Day__selection {\n  border-top-left-radius: 50%;\n  border-bottom-left-radius: 50%; }\n\n.Cal__Day__range.Cal__Day__selected.Cal__Day__start:after {\n  right: 0; }\n\n.Cal__Day__range.Cal__Day__selected.Cal__Day__start.Cal__Day__end:after {\n  display: none; }\n\n.Cal__Day__range.Cal__Day__selected.Cal__Day__betweenRange .Cal__Day__selection {\n  left: 0;\n  right: 0;\n  width: 100%;\n  margin-left: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 0; }\n\n.Cal__Day__range.Cal__Day__selected.Cal__Day__betweenRange .Cal__Day__day {\n  top: 0;\n  font-size: 16px; }\n\n.Cal__Day__range.Cal__Day__selected.Cal__Day__betweenRange .Cal__Day__month {\n  display: none; }\n\n.Cal__Day__range.Cal__Day__selected.Cal__Day__end:after {\n  left: 0; }\n\n.Cal__Day__range.Cal__Day__selected.Cal__Day__end .Cal__Day__selection {\n  border-top-right-radius: 50%;\n  border-bottom-right-radius: 50%;\n  color: inherit !important;\n  background-color: #FFF !important;\n  border: 2px solid;\n  box-sizing: border-box; }\n  .Cal__Day__range.Cal__Day__selected.Cal__Day__end .Cal__Day__selection .Cal__Day__day {\n    top: 4px; }\n.Cal__Container__root {\n  position: relative;\n  display: table;\n  z-index: 1;\n  font: 14px 'Helvetica Neue', Helvetica, Arial, sans-serif;\n  line-height: 1.4em;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  font-weight: 300;\n  outline: none;\n  text-align: left; }\n  .Cal__Container__root.Cal__Container__landscape {\n    display: flex;\n    flex-direction: row; }\n    .Cal__Container__root.Cal__Container__landscape .Cal__Container__wrapper {\n      position: relative;\n      flex-grow: 1;\n      overflow: hidden;\n      z-index: 1;\n      border-top-right-radius: 3px;\n      border-bottom-right-radius: 3px; }\n\n.Cal__Container__listWrapper {\n  position: relative;\n  overflow: hidden;\n  background-color: #FFF; }\n.Cal__Header__root {\n  position: relative;\n  display: flex;\n  align-items: center;\n  box-sizing: border-box;\n  overflow: hidden;\n  min-height: 98px;\n  padding: 20px;\n  line-height: 1.3;\n  font-weight: 400;\n  border-top-left-radius: 3px;\n  border-top-right-radius: 3px; }\n  .Cal__Header__root.Cal__Header__landscape {\n    align-items: flex-start;\n    min-width: 200px;\n    border-top-right-radius: 0;\n    border-bottom-left-radius: 3px; }\n    .Cal__Header__root.Cal__Header__landscape .Cal__Header__dateWrapper.Cal__Header__day {\n      flex-grow: 1;\n      height: 76px; }\n\n.Cal__Header__wrapper {\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n  cursor: pointer; }\n  .Cal__Header__wrapper.Cal__Header__blank {\n    height: 58px;\n    line-height: 58px;\n    color: rgba(255, 255, 255, 0.5);\n    font-size: 18px;\n    cursor: default; }\n\n.Cal__Header__dateWrapper {\n  position: relative;\n  display: block;\n  overflow: hidden;\n  color: rgba(255, 255, 255, 0.5);\n  transition: color 0.3s ease; }\n  .Cal__Header__dateWrapper.Cal__Header__active {\n    color: white; }\n  .Cal__Header__dateWrapper.Cal__Header__day {\n    height: 38px;\n    font-size: 36px;\n    line-height: 36px;\n    text-transform: capitalize; }\n  .Cal__Header__dateWrapper.Cal__Header__year {\n    height: 20px;\n    font-size: 18px;\n    line-height: 18px; }\n\n.Cal__Header__date {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0; }\n\n.Cal__Header__range {\n  display: flex;\n  flex-grow: 1; }\n  .Cal__Header__range .Cal__Header__dateWrapper {\n    overflow: visible; }\n  .Cal__Header__range .Cal__Header__wrapper:first-child:before, .Cal__Header__range .Cal__Header__wrapper:first-child:after {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 50%;\n    width: 0;\n    height: 0;\n    margin-top: -50px;\n    margin-left: -50px;\n    border-top: 100px solid transparent;\n    border-bottom: 100px solid transparent;\n    border-left: 60px solid; }\n  .Cal__Header__range .Cal__Header__wrapper:first-child:before {\n    color: rgba(255, 255, 255, 0.15);\n    transform: translateX(1px); }\n  .Cal__Header__range .Cal__Header__wrapper:last-child {\n    margin-left: 60px; }\n  .Cal__Header__range .Cal__Header__wrapper .Cal__Header__date {\n    white-space: nowrap;\n    z-index: 1; }\n.Cal__Today__root {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 32px;\n  padding: 6px;\n  box-sizing: border-box;\n  transform: translate3d(0, -100%, 0);\n  font-weight: 500;\n  line-height: 0;\n  z-index: 10;\n  cursor: pointer;\n  transition: transform 0.3s ease;\n  transition-delay: 0.3s; }\n  .Cal__Today__root.Cal__Today__show {\n    transform: translate3d(0, 0, 0);\n    transition-delay: 0s; }\n    .Cal__Today__root.Cal__Today__show .Cal__Today__chevron {\n      transition: transform 0.3s ease; }\n  .Cal__Today__root .Cal__Today__chevron {\n    position: absolute;\n    top: 50%;\n    margin-top: -6px;\n    margin-left: 5px;\n    transform: rotate(270deg);\n    transition: transform 0.3s ease; }\n  .Cal__Today__root.Cal__Today__chevronUp .Cal__Today__chevron {\n    transform: rotate(180deg); }\n  .Cal__Today__root.Cal__Today__chevronDown .Cal__Today__chevron {\n    transform: rotate(360deg); }\n.Cal__MonthList__root {\n  width: 100% !important;\n  background-color: #FFF;\n  -webkit-overflow-scrolling: touch; }\n  .Cal__MonthList__root.Cal__MonthList__scrolling > div {\n    pointer-events: none; }\n  .Cal__MonthList__root.Cal__MonthList__scrolling label {\n    opacity: 1; }\n.Cal__Weekdays__root {\n  position: relative;\n  z-index: 5;\n  display: flex;\n  padding: 0;\n  margin: 0;\n  list-style: none;\n  box-shadow: inset 0 -1px rgba(0, 0, 0, 0.04); }\n\n.Cal__Weekdays__day {\n  padding: 15px 0;\n  flex-basis: 14.28571%;\n  flex-grow: 1;\n  font-weight: 500;\n  text-align: center; }\n.Cal__Years__root {\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 10;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: #F9F9F9; }\n  .Cal__Years__root:before, .Cal__Years__root:after {\n    content: '';\n    position: absolute;\n    left: 0;\n    right: 0;\n    height: 50px;\n    pointer-events: none;\n    z-index: 1; }\n  .Cal__Years__root:before {\n    top: 0;\n    background: linear-gradient(to bottom, rgba(255, 255, 255, 0.8) 0%, rgba(255, 255, 255, 0) 100%); }\n  .Cal__Years__root:after {\n    bottom: 0;\n    background: linear-gradient(to bottom, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.8) 100%); }\n\n.Cal__Years__list {\n  box-sizing: border-box; }\n  .Cal__Years__list.Cal__Years__center {\n    display: flex;\n    align-items: center;\n    justify-content: center; }\n\n.Cal__Years__year {\n  display: flex;\n  padding: 0 20px;\n  height: 100%;\n  align-items: center;\n  justify-content: center;\n  font-size: 18px;\n  font-weight: 500;\n  text-align: center;\n  cursor: pointer;\n  -webkit-user-select: none;\n  box-sizing: border-box; }\n  .Cal__Years__year.Cal__Years__withMonths {\n    border-bottom: 1px solid #E9E9E9; }\n    .Cal__Years__year.Cal__Years__withMonths label {\n      height: 88px;\n      padding-top: 12px;\n      box-sizing: border-box; }\n  .Cal__Years__year label {\n    flex-basis: 42%; }\n    .Cal__Years__year label span {\n      flex-shrink: 0;\n      color: #333; }\n  .Cal__Years__year ol {\n    display: flex;\n    flex-wrap: wrap;\n    margin: 0;\n    padding: 0;\n    font-size: 14px; }\n    .Cal__Years__year ol li {\n      display: flex;\n      width: 44px;\n      height: 44px;\n      flex-shrink: 0;\n      align-items: center;\n      justify-content: center;\n      list-style: none;\n      border-radius: 50%;\n      box-sizing: border-box;\n      color: #444;\n      font-weight: 400;\n      text-transform: capitalize; }\n      .Cal__Years__year ol li.Cal__Years__currentMonth {\n        border: 1px solid; }\n      .Cal__Years__year ol li.Cal__Years__selected {\n        position: relative;\n        z-index: 1;\n        background-color: blue;\n        color: #FFF !important;\n        border: 0; }\n      .Cal__Years__year ol li.Cal__Years__disabled {\n        cursor: not-allowed;\n        color: #AAA; }\n        .Cal__Years__year ol li.Cal__Years__disabled:hover {\n          background-color: inherit; }\n      .Cal__Years__year ol li:hover {\n        background-color: #EFEFEF; }\n  .Cal__Years__year:hover label > span, .Cal__Years__year.Cal__Years__active label > span {\n    color: inherit; }\n  .Cal__Years__year:hover, .Cal__Years__year.Cal__Years__active {\n    position: relative;\n    z-index: 2; }\n  .Cal__Years__year.Cal__Years__active {\n    font-size: 32px; }\n  .Cal__Years__year.Cal__Years__currentYear {\n    position: relative; }\n    .Cal__Years__year.Cal__Years__currentYear label > span {\n      min-width: 50px;\n      padding-bottom: 5px;\n      border-bottom: 3px solid; }\n    .Cal__Years__year.Cal__Years__currentYear.Cal__Years__active label > span {\n      min-width: 85px; }\n  .Cal__Years__year.Cal__Years__first {\n    padding-top: 40px; }\n  .Cal__Years__year.Cal__Years__last {\n    padding-bottom: 40px; }\n.Cal__Animation__enter {\n  opacity: 0;\n  transform: translate3d(0, -100%, 0);\n  transition: 0.25s ease; }\n\n.Cal__Animation__enter.Cal__Animation__enterActive {\n  opacity: 1;\n  transform: translate3d(0, 0, 0); }\n\n.Cal__Animation__leave {\n  transform: translate3d(0, 0, 0);\n  transition: 0.25s ease; }\n\n.Cal__Animation__leave.Cal__Animation__leaveActive {\n  opacity: 0;\n  transform: translate3d(0, 100%, 0); }\n.Cal__Slider__root, .Cal__Slider__slide {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0; }\n\n.Cal__Slider__root {\n  overflow: hidden; }\n\n.Cal__Slider__slide {\n  padding: 20px 65px; }\n  .Cal__Slider__slide:first-child {\n    padding-left: 20px; }\n\n.Cal__Slider__wrapper {\n  height: 100%;\n  transition: transform 0.3s ease; }\n\n.Cal__Slider__arrow {\n  position: absolute;\n  top: 0;\n  z-index: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 40px;\n  height: 100%;\n  opacity: 0.7;\n  cursor: pointer;\n  border-left: 1px solid rgba(255, 255, 255, 0.1); }\n  .Cal__Slider__arrow svg {\n    width: 15px; }\n  .Cal__Slider__arrow:hover {\n    opacity: 1; }\n\n.Cal__Slider__arrowRight {\n  right: 0; }\n\n.Cal__Slider__arrowLeft {\n  left: 0;\n  transform: scaleX(-1); }\n.Cal__transition__enter {\n  opacity: 0; }\n\n.Cal__transition__enterActive {\n  opacity: 1;\n  transition: opacity 0.3s ease; }\n\n.Cal__transition__leave {\n  opacity: 1; }\n\n.Cal__transition__leaveActive {\n  opacity: 0;\n  transition: opacity 0.3s ease; }\n.Cal__Month__rows {\n  position: relative;\n  background: linear-gradient(to bottom, rgba(255, 255, 255, 0) 50%, rgba(0, 0, 0, 0.05) 100%); }\n\n.Cal__Month__row {\n  padding: 0;\n  margin: 0; }\n  .Cal__Month__row:first-child {\n    text-align: right; }\n    .Cal__Month__row:first-child li {\n      background-color: #FFF;\n      box-shadow: 0 -1px 0 #E9E9E9; }\n  .Cal__Month__row:nth-child(2) {\n    box-shadow: 0 -1px 0 #E9E9E9; }\n  .Cal__Month__row.Cal__Month__partial:first-child li:first-child {\n    box-shadow: 0px -1px 0 #E9E9E9, inset 1px 0 0 #E9E9E9; }\n  .Cal__Month__row.Cal__Month__partial:last-of-type li {\n    position: relative;\n    z-index: 1; }\n\n.Cal__Month__label {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  margin: 0;\n  font-size: 30px;\n  font-weight: 500;\n  z-index: 3;\n  pointer-events: none;\n  background-color: rgba(255, 255, 255, 0.6);\n  opacity: 0;\n  transition: opacity 0.3s ease; }\n  .Cal__Month__label > span {\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 56px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    text-transform: capitalize; }\n  .Cal__Month__label.Cal__Month__partialFirstRow {\n    top: 56px; }\n"],sourceRoot:""}]);const l=i},42994:(e,t,n)=>{n.d(t,{Z:()=>l});var a=n(94015),r=n.n(a),o=n(23645),i=n.n(o)()(r());i.push([e.id,".hPOLlAT6DEY0KfRc0bGM {\n    line-height: 18px;\n    font-size: 15px;\n}","",{version:3,sources:["webpack://./../src/web/Components/FancySettingSelect.css"],names:[],mappings:"AAAA;IACI,iBAAiB;IACjB,eAAe;AACnB",sourcesContent:[".title {\n    line-height: 18px;\n    font-size: 15px;\n}"],sourceRoot:""}]),i.locals={title:"hPOLlAT6DEY0KfRc0bGM"};const l=i},61667:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},15030:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(63038),r=n.n(a),o=n(87452),i=n(19955),l={};function s(e){var t=(0,i.useState)(e),n=r()(t,2),a=n[0],s=n[1],c=(0,i.useRef)(l);return c.current===l&&(c.current=o.Z.isFunction(e)?e():e),[a,(0,i.useCallback)((function(e){o.Z.isFunction(e)&&(e=e(c.current)),c.current=e,s(e)}),[]),c]}},77961:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(63038),r=n.n(a),o=n(19955),i=n(96214),l=n(4253);function s(e,t,n){var a=(0,o.useMemo)((function(){return new i.Z(e)}),[]);if(t){var s=(0,l.Z)(a),c=r()(s,1)[0];return e!==c&&(null===n||void 0===n||n(e)),[a,c]}return[a]}},54894:(e,t,n)=>{n.d(t,{Z:()=>k});var a=n(34575),r=n.n(a),o=n(93913),i=n.n(o),l=n(2205),s=n.n(l),c=n(78585),u=n.n(c),d=n(29754),m=n.n(d),f=n(35848),p=n(63319),h=n(87452),g=n(19955),y=n(61811),v=n(26975),E=n(39221),A=n(88194),C=n(27363);function _(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=m()(e);if(t){var r=m()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return u()(this,n)}}const k=function(e){s()(n,e);var t=_(n);function n(){return r()(this,n),t.apply(this,arguments)}return i()(n,[{key:"init",value:function(){this.refModal=g.createRef()}},{key:"close",value:function(e){this.props.onClose&&this.props.onClose(),y.default.menus.closeModal(this.props.modalID,e)}},{key:"onCloseButton",value:function(){this.props.onCloseButton?this.props.onCloseButton():this.close()}},{key:"onEscapeKey",value:function(){this.props.noCancel||this.close()}},{key:"getElement",value:function(){return this.refModal.current}},{key:"render",value:function(){var e,t=this.props,n=this.getChildByKey("sidebar"),a=this.getChildByKey("content"),r=this.getChildByKey("buttons"),o=Object.assign({maxHeight:"".concat(f.Z.ModalMaxHeightPerc,"%"),minWidth:t.minWidth,minHeight:t.minHeight,width:t.width||t.small&&400,height:t.height},t.style),i=h.Z.classNames("fancyModal c-bg-app popup c-shadow-popup flexbox flexvert max-h-full will-change-transform",t.className,{small:t.small},{hasSidebar:!!n},{hasButtons:!!r}),l=h.Z.classNames("fancyModalWrapper c-foreground fontPane",{"small flexbox":t.small}),s=h.Z.classNames("fancyModalContent c-border c-background f1",a.props.className),c=g.createElement(t.scrollable?E.Z:"div",{className:s,style:{padding:!1===t.padded?"0":void 0}},a.props.children||a);if(n){var u={width:t.sidebarWidth||180};e=g.createElement("div",{className:h.Z.classNames("fancyModalSidebar",n.props.className),style:u},n.props.children)}return g.createElement(C.Z,null,g.createElement("div",{className:l},!t.noBackdrop&&g.createElement(p.E.div,{className:"fixed inset-0 bg-black will-change-opacity",onClick:!1!==t.backdropClose?this.close.bind(this,!1):void 0,initial:{opacity:0},animate:{opacity:.8},transition:{duration:.25}}),g.createElement(p.E.div,{className:i,id:t.id,style:o,ref:this.refModal,initial:{scale:.85},animate:{scale:1},transition:f.Z.TransitionSpringMedium},t.title&&!1!==t.closeButton&&g.createElement(v.Z,{className:"fancyModalClose",icon:"icon-close",iconSize:20,width:36,height:36,onClick:this.onCloseButton,tooltip:"Close"}),t.title&&g.createElement("div",{className:"fancyModalTitle"},t.title),g.createElement("div",{className:"fancyModalInside flexbox flex1"},e,g.createElement("div",{className:"fancyModalContentArea c-border-light c-background flexbox flexvert f1"},c,r&&g.createElement("div",{className:h.Z.classNames("fancyModalButtons c-background")},r))))))}}]),n}(A.a)},98434:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(87452),r=n(19955);const o=(0,n(72475).Z)((function(e){var t=e.id,n=e.className,o=e.children,i=a.Z.classNames("fancyTable c-border",n);return r.createElement("div",{className:i,id:t},o)}))},3214:(e,t,n)=>{n.d(t,{zt:()=>l,C3:()=>s,eM:()=>c});var a=n(87452),r=n(19955),o=n(72475),i=r.createContext([]),l=(0,o.Z)((function(e){var t=e.className,n=e.columnOptions,o=e.header,i=e.borderLeft,l=e.borderRight,s=e.children,c=a.Z.classNames(t,"border-b c-border-heavy borderBox",{"border-l":i},{"border-r":l},{f1:n.flex}),u={minWidth:n.width||n.minWidth,maxWidth:n.width};return(o||n.padded)&&(u.paddingLeft=12,u.paddingRight=12),r.createElement("div",{className:c,style:u},s)})),s=(0,o.c)((0,r.forwardRef)((function(e,t){var n=e.className,o=e.header,s=e.children,c=(0,r.useContext)(i),u=a.Z.classNames("flex",n),d=r.Children.toArray(s);return r.createElement("div",{className:u,ref:t},c.map((function(e,t){return d[t]?r.cloneElement(d[t],Object.assign({borderLeft:t>0,borderRight:d.length>1&&t<c.length-1,columnOptions:e,header:o},d[t].props)):r.createElement(l,{key:t,columnOptions:e})})))}))),c=(0,o.Z)((function(e){var t=e.className,n=e.style,o=e.columnOptions,l=e.children,s=a.Z.classNames(t,"c-border-heavy");return r.createElement(i.Provider,{value:o},r.createElement("div",{className:s,style:n},l))}))},47628:(e,t,n)=>{n.d(t,{Z:()=>v});var a=n(34575),r=n.n(a),o=n(93913),i=n.n(o),l=n(2205),s=n.n(l),c=n(78585),u=n.n(c),d=n(29754),m=n.n(d),f=n(87452),p=n(19955),h=n(88194),g=n(61811);function y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=m()(e);if(t){var r=m()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return u()(this,n)}}const v=function(e){s()(n,e);var t=y(n);function n(){return r()(this,n),t.apply(this,arguments)}return i()(n,[{key:"init",value:function(){this.createObservables({isFocused:this.props.focused||!1})}},{key:"onMount",value:function(){var e=this,t=this.refs.input;this.props.value&&(t.value=this.props.value),this.props.focused&&requestAnimationFrame((function(){t&&(t.focus(),void 0!==e.props.selectionStart&&(t.selectionStart=e.props.selectionStart),void 0!==e.props.selectionEnd&&(t.selectionEnd=e.props.selectionEnd),t.scrollTop=0)}))}},{key:"onUnmount",value:function(){this.isFocused.get()&&this.onBlur()}},{key:"focus",value:function(){this.refs.input.focus()}},{key:"blur",value:function(){this.refs.input.blur()}},{key:"getValue",value:function(){return this.refs.input.value}},{key:"setValue",value:function(e){this.refs.input.value=e}},{key:"getSelectionStart",value:function(){return this.refs.input.selectionStart}},{key:"getSelectionEnd",value:function(){return this.refs.input.selectionEnd}},{key:"onFocus",value:function(e){this.isFocused.set(!0),this.props.onEscape&&(this.__hotkeyEscape=g.default.hotkeys.pushStackEscape(this.handleEscapeKey)),this.props.onFocus&&this.props.onFocus(e)}},{key:"onBlur",value:function(e){this.isFocused.set(!1),this.__hotkeyEscape&&(g.default.hotkeys.popStack(this.__hotkeyEscape),this.__hotkeyEscape=void 0),this.props.onBlur&&this.props.onBlur(e)}},{key:"onKeyPress",value:function(e){this.props.onKeyPress&&this.props.onKeyPress(e)}},{key:"handleEscapeKey",value:function(){this.props.onEscape&&this.props.onEscape()}},{key:"render",value:function(){var e=this.props,t=f.Z.classNames("fancyTextarea c-background c-foreground",e.className),n=!!e.spellCheck||null,a={fontSize:e.fontSize,height:e.height||150,margin:void 0!==e.margin?e.margin:"16px 0",overflow:e.height<=34&&"hidden"};return p.createElement("textarea",{className:t,style:a,ref:"input",readOnly:!!e.isReadOnly,spellCheck:n,onClick:e.onClick,onChange:e.onChange,onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:e.onKeyDown,onKeyPress:e.onKeyPress,placeholder:e.placeholder,tabIndex:e.tabIndex})}}]),n}(h.a)},1604:(e,t,n)=>{n.r(t),n.d(t,{default:()=>l});var a=n(61811),r=n(19955),o=n(54894),i=n(35848);const l=(0,n(72475).Z)((function(){var e=(0,r.useRef)();return(0,r.useEffect)((function(){e.current.addEventListener("ipc-message",(function(e){var t=e.channel,n=e.args;if("signedIn"===t){var r=n[0];a.default.menus.closeModal(i.Z.Modals.GmailAuth,r)}}))}),[]),r.createElement(o.Z,{id:"modalGmailAuth",modalID:i.Z.Modals.GmailAuth,width:800,height:800,padded:!1},r.createElement("div",{key:"content",className:"flex flex-col"},r.createElement("webview",{src:"https://accounts.google.com/AddSession?hl=en&continue=https://mail.google.com/mail&service=mail",className:"flex-1",preload:"file:authgmail.js",ref:e})))}))},66613:(e,t,n)=>{n.r(t),n.d(t,{default:()=>m});var a=n(63038),r=n.n(a),o=n(35848),i=n(19955),l=n(61811),s=n(54894),c=n(72475),u=n(4253),d=function e(t){var n=Math.floor(1e3*Math.random())+1;return t.some((function(e){return"o"===e.s&&e.n===n}))?e(t):n};const m=(0,c.Z)((function(e){var t=e.business,n=e.account,a=(0,i.useRef)(),c=t?"https://outlook.office.com/":"https://login.live.com/login.srf",m=(0,u.Z)(l.default.settings.emailViewAccounts),f=r()(m,1)[0],p=n?n.n:(0,i.useMemo)((function(){return d(f)}),[f]);return(0,i.useEffect)((function(){a.current.addEventListener("ipc-message",(function(e){var t=e.channel,n=e.args;if("signedIn"===t){var a=n[0];l.default.menus.closeModal(o.Z.Modals.OutlookAuth,{accountID:a,num:p})}}))}),[]),i.createElement(s.Z,{id:"modalOutlookAuth",modalID:o.Z.Modals.OutlookAuth,width:800,height:800,padded:!1},i.createElement("div",{key:"content",className:"flex flex-col"},i.createElement("webview",{src:c,className:"flex-1",preload:"file:authoutlook.js",partition:"persist:outlook".concat(p),ref:a})))}))},93579:(e,t,n)=>{n.r(t),n.d(t,{default:()=>N});var a=n(34575),r=n.n(a),o=n(93913),i=n.n(o),l=n(2205),s=n.n(l),c=n(78585),u=n.n(c),d=n(29754),m=n.n(d),f=n(35848),p=n(87452),h=n(89088),g=n(19955),y=n(61811),v=n(86407),E=n(48606),A=n(15769),C=n(95710),_=n(23582),k=n(35731),b=n(19270),x=n(88194),w=n(13230),D=n(77617),Z=n(6740),B=n(12891);function M(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=m()(e);if(t){var r=m()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return u()(this,n)}}const N=function(e){s()(n,e);var t=M(n);function n(){return r()(this,n),t.apply(this,arguments)}return i()(n,[{key:"init",value:function(){var e=this.props;this.refVirtualList=(0,g.createRef)();var t=_.Z.matches.get();this.createObservables({selectedIndex:e.elementInput||e.fromPane||e.onlyMatches?this.getFirstIndex(t):-1,expanded:-1,selectedDocument:k.Z.getDefaultDocument()})}},{key:"onMount",value:function(){if(this.hasOwnInput()){var e=this.props,t=this.refs.input;t&&(t.focus(),t.updateAutocomplete(e.item||e.items&&e.items[0]))}document.addEventListener("keydown",this.onInputKeyDown,!0)}},{key:"componentWillReceiveProps",value:function(e){this.props.matches!==e.matches&&this.updateState(e)}},{key:"onUnmount",value:function(){document.removeEventListener("keydown",this.onInputKeyDown,!0)}},{key:"onBeforeChanged",value:function(e,t){var n=this.refs;if(e.matches!==t.matches&&!e.hasSpecialMatches){this.expanded.set(-1,!1),e.expanded=-1;var a=!n.input||!this.props.allowCustom&&n.input.getValue()&&this.state.matches.length>0?this.getFirstIndex():-1;this.selectedIndex.set(a,!1),e.selectedIndex=a}}},{key:"onAfterChanged",value:function(e,t){e.matches.length>t.matches.length&&setTimeout(function(){this.refs.contextMenu&&this.refs.contextMenu.updateState()}.bind(this),0)}},{key:"getFirstIndex",value:function(e){return(e||this.state.matches).findIndex((function(e){return"header"!==e.type}))}},{key:"getState",value:function(e){var t=this.getSpecialMatches();return{matches:e.matches||t||_.Z.matches,hasSpecialMatches:!!t,owner:_.Z.owner}}},{key:"getClassNameForType",value:function(e){return("contact"===e?"autocomplete_contact":"date"===e&&"autocomplete_date")||"gmailLabel"===e&&"autocomplete_gmailLabel"||"header"===e&&"autocomplete_header"||"item"===e&&"autocomplete_item"||"snooze"===e&&"autocomplete_snooze"||"tag"===e&&"autocomplete_tag"}},{key:"updateTextFromIndex",value:function(){if(this.hasOwnInput()){var e=this.refs.input,t=this.selectedIndex.get(),n="";if(t>=0){var a=this.state.matches[t];n=this.getInsertText(a)}e.setValue(n),e.selectEnd()}}},{key:"onInputKeyDown",value:function(e){var t=this.state.matches,n=this.props;if(n.allowCustom&&e.keyCode===f.Z.KeyCode.Enter)this.onSelected(e),p.Z.preventDefault(e),p.Z.stopPropagation(e);else if(t.length>0){var a=this.selectedIndex.get();if(t.length>1&&(e.keyCode===f.Z.KeyCode.ArrowDown||e.keyCode===f.Z.KeyCode.ArrowUp)){var r,o;if(e.keyCode===f.Z.KeyCode.ArrowUp)"header"===(null===(r=t[--a])||void 0===r?void 0:r.type)&&a--,a<(n.allowCustom?-1:0)&&(a=t.length-1),"header"===(null===(o=t[a])||void 0===o?void 0:o.type)&&a++;else if(e.keyCode===f.Z.KeyCode.ArrowDown){var i;"header"===(null===(i=t[++a])||void 0===i?void 0:i.type)&&a++,a>t.length-1&&(a=n.allowCustom?-1:this.getFirstIndex())}if(a!==this.selectedIndex.get()&&(this.selectedIndex.set(a),this.updateTextFromIndex(),a>=0))try{this.refVirtualList.current.scrollToIndex({index:a,align:"auto",behavior:"auto"})}catch(l){}p.Z.preventDefault(e)}else e.keyCode===f.Z.KeyCode.ArrowRight?this.expanded.set(a):e.keyCode!==f.Z.KeyCode.Enter&&e.keyCode!==f.Z.KeyCode.Tab||a>=0&&(this.onSelected(e),p.Z.preventDefault(e),p.Z.stopPropagation(e))}}},{key:"onEscapeKey",value:function(){this.hide()}},{key:"hide",value:function(){_.Z.hide()}},{key:"onMouseMove",value:function(e){this.selectedIndex.set(e)}},{key:"onClick",value:function(e,t){this.selectedIndex.set(e),this.updateTextFromIndex(),this.onSelected(t)}},{key:"onButtonClick",value:function(e,t,n){this.onSelected(n)}},{key:"hasOwnInput",value:function(){return!this.props.elementInput&&!this.props.fromPane&&!this.props.onlyMatches}},{key:"onSelected",value:function(e){var t,n,a=this.props,r=this.state,o=this.refs.input,i={owner:r.owner};if(a.allowCustom)(a.allowEmpty||o.getValue())&&(n={text:o.getValue()});else{var l=this.selectedIndex.get();n=this.state.matches[l]}n&&("contact"===n.type&&"email"===this.props.mode?i.token=n:"item"===n.type?i.item=n.item:t=_.Z.insertMatch(this.getInsertText(n)),t&&(i.value=t.text,i.offset=t.offset),a.onSelected?a.onSelected(i,e):r.owner&&r.owner.onAutocompleteSelected&&r.owner.onAutocompleteSelected(i),this.hide())}},{key:"getInsertText",value:function(e){return"email"===this.props.mode?e.text+" <"+e.email+">":"snooze"===e.type?e.insertText:e.text}},{key:"insertHighlight",value:function(e){var t=[],n=_.Z.getText(),a=e.toUpperCase().indexOf(n.toUpperCase());return a>=0&&n.length>0?(a>0&&t.push(e.substr(0,a)),t.push(g.createElement("span",{key:"match",className:"ac-match c-bg-autocomplete-highlight"},e.substr(a,n.length))),e.length>a+n.length&&t.push(e.substr(a+n.length))):t=e,t}},{key:"onClickExpand",value:function(e,t){this.expanded.set(e),t.stopPropagation()}},{key:"onClickExpandedInput",value:function(e){e.stopPropagation()}},{key:"onSelectedAddChild",value:function(e,t,n){var a=this.props,r=this.state,o=r.expanded,i=r.matches[o];if(a.onSelected){var l={item:i.item,subItemText:this.refs.inputAdd.getValue()};a.onSelected(l,n)}}},{key:"getSpecialMatches",value:function(){if("snooze"===this.props.mode){var e,t,n,a=new Date,r=a.getHours(),o=a.getDay(),i=b.Z.getTodayPlusMS(f.Z.MSPerHour*Math.min(r+3,23+59/60));e=r<18?b.Z.getTodayPlusMS(19*f.Z.MSPerHour):b.Z.getTodayPlusMS(f.Z.MSPerHour*Math.min(r+2,23+59/60)),t=o<6?b.Z.getTodayPlusMS(f.Z.MSPerDay*(6-a.getDay())+9*f.Z.MSPerHour):6===o?b.Z.getTodayPlusMS(1*f.Z.MSPerDay+9*f.Z.MSPerHour):b.Z.getTodayPlusMS(f.Z.MSPerHour*Math.min(r+3,23+59/60)),n=o>0?b.Z.getTodayPlusMS(f.Z.MSPerDay*(8-a.getDay())+9*f.Z.MSPerHour):b.Z.getTodayPlusMS(f.Z.MSPerDay+9*f.Z.MSPerHour);var l=b.Z.getTodayPlusMS(f.Z.MSPerDay+9*f.Z.MSPerHour),s=b.Z.getTodayPlusMS(f.Z.MSPerDay+19*f.Z.MSPerHour);return[{type:"snooze",icon:"icon-access_time",iconColor:"#f30",text:"Later Today",insertText:"Today "+i.toString(y.default.International.getFormat(f.Z.DFormat.ShortTime)),date:i,showDay:!1},{type:"snooze",icon:"icon-access_time",iconColor:"#fa0",text:"Tonight",insertText:"Today "+e.toString(y.default.International.getFormat(f.Z.DFormat.ShortTime)),date:e,showDay:!1},{type:"snooze",icon:"icon-access_time",iconColor:"#fd0",text:"Tomorrow Morning",insertText:"Tomorrow "+l.toString(y.default.International.getFormat(f.Z.DFormat.ShortTime)),date:l,showDay:!0},{type:"snooze",icon:"icon-access_time",iconColor:"#2a6",text:"Tomorrow Night",insertText:"Tomorrow "+s.toString(y.default.International.getFormat(f.Z.DFormat.ShortTime)),date:s,showDay:!0},{type:"snooze",icon:"icon-access_time",iconColor:p.Z.colorBlue,text:"This Weekend",insertText:t.toString(y.default.International.getFormat(f.Z.DFormat.NoPadShortDayTime)),date:t,showDay:!0},{type:"snooze",icon:"icon-access_time",iconColor:"#b0d",text:"Next Week",insertText:n.toString(y.default.International.getFormat(f.Z.DFormat.NoPadShortDayTime)),date:n,showDay:!0}]}}},{key:"onCloseButton",value:function(){y.default.menus.closeContextMenu()}},{key:"setText",value:function(e){this.refs.input.setValue(e)}},{key:"onAutocompleteDateChange",value:function(e){this.setText(e),this.refs.input.selectEnd()}},{key:"onChangeDocument",value:function(e){this.selectedDocument.set(k.Z.getDocumentById(e))}},{key:"renderRightContent",value:function(){var e=this.state;if(e.matches.length>0&&e.selectedIndex>=0){var t,n=e.matches[e.selectedIndex];if("contact"===(null===n||void 0===n?void 0:n.type)&&(t=g.createElement(C.Z,{contact:n})),t)return g.createElement("div",{className:"newAutocompleteRightContent c-border"},t)}}},{key:"renderObject",value:function(e,t){var n;switch(e.type){case"header":return g.createElement("span",{className:"autocompleteHeader"},e.text);case"contact":if(e.text&&e.email){n=this.insertHighlight(e.text);var a=this.insertHighlight(" <"+e.email+">");return g.createElement("span",null,g.createElement("span",{className:"contact c-contact"},n),a)}if(e.email)return e.email;if(e.text)return n=this.insertHighlight(e.text),g.createElement("span",{className:"contact c-contact"},n);break;case"tag":return n=this.insertHighlight(e.text),g.createElement(g.Fragment,null,g.createElement("span",{className:"tag c-tag"},n),g.createElement("span",{className:"number c-foreground-faded"},e.count));case"snooze":var r=(e.showDay?e.date.toString("dddd")+" ":"")+e.date.toString("h:mm tt");return g.createElement(g.Fragment,null,g.createElement("span",{className:"snoozeDate"},e.text),g.createElement("span",{className:"snoozeDetail"},r));case"item":var o=e.item,i=p.Z.parentTextForItem(o),l=t===this.state.expanded,s=p.Z.classNames("autocompleteItem flexbox leading-normal",{hasParent:!!i},{itemExpanded:l}),c="move"===this.props.mode;return g.createElement("div",{className:s},g.createElement("div",{className:"autocompleteItemInside f1"},g.createElement(Z.Z,{key:o.id,item:o,displayParents:!0,className:"px-3 py-3",numberOfLines:2}),c&&l&&g.createElement(A.Z,{ref:"inputAdd",placeholder:"Add subitem",buttonText:"MOVE TO CHILD",focused:!0,onButtonClick:this.onSelectedAddChild,onClick:this.onClickExpandedInput})));case"gmailLabel":return n=this.insertHighlight(e.text),g.createElement("span",null,n);default:try{p.Z.PAssert(289,!1,"Invalid insert text",e.type)}catch(u){p.Z.reportError(u)}}}},{key:"renderMatch",value:function(e,t){var n=this.state.selectedIndex,a=p.Z.classNames("c-border-light",this.getClassNameForType(e.type),{selected:t===n});return g.createElement(E.Z,{key:t,icon:e.icon,iconColor:e.iconColor,className:a,onMouseMove:"header"!==e.type?this.onMouseMove.bind(this,t):void 0,canClose:!1,noMouseUp:!0,onClick:"header"!==e.type?this.onClick.bind(this,t):void 0},this.renderObject(e,t))}},{key:"render",value:function(){var e,t,n=this.state,a=n.matches,r=n.selectedIndex,o=n.expanded,i=n.selectedDocument,l=this.props,s=_.Z.isSearchingItems,c=l.text,u=l.buttonText;this.hasOwnInput()&&(t=!!l.allowEmpty||(l.allowCustom?void 0:r>=0));var d,m=p.Z.classNames("newAutocomplete flexbox",l.className,{flexvert:this.hasOwnInput()},{hasOwnInput:this.hasOwnInput()},{expanded:-1!==o});if(this.hasOwnInput()){var f=l.documentSelector&&i.getRootItem()||l.item||l.items&&l.items[0];d=g.createElement("div",{className:"newAutocompleteTopBar c-border-heavy"},l.documentSelector&&g.createElement("div",{className:"flexbox",style:{padding:8}},g.createElement("div",{style:{paddingRight:16}},"Document:"),g.createElement(D.Z,{className:"f1",defaultValue:i.id,onChange:this.onChangeDocument},k.Z.getDocumentsArray().map((function(e){return g.createElement("option",{key:e.id,value:e.id},e.text.get())})))),g.createElement(A.Z,{ref:"input",display:"block",className:"f1",placeholder:c,autocompleteMode:l.mode,padding:{left:16,right:16},tokens:l.tokens,onTokenRemoved:l.onTokenRemoved,border:!1,buttonText:u,onEscape:this.onEscapeKey,buttonEnabled:t,onButtonClick:this.onButtonClick,autocompleteItem:f}))}var y=g.createElement(B.Z,{className:"h-full autocompleteMatches f1",items:a,renderItem:this.renderMatch,defaultItemSize:"item"===(null===a||void 0===a||null===(e=a[0])||void 0===e?void 0:e.type)?46:28,ref:this.refVirtualList,data:r}),E=Math.min(p.Z.sum(a.map((function(e){return"item"===e.type?80:28})))+(this.hasOwnInput()?100:0),600);return l.onlyMatches?y:g.createElement(v.Z,{className:m,id:l.id,element:l.elementDisplay,width:s?480:void 0,maxWidth:"none",positionOffset:l.positionOffset,height:E,overflowHeight:"swap",ref:"contextMenu"},d,y,s&&0===a.length&&g.createElement("div",{className:"absolute inset-0 p-4"},"Start typing to find items..."),this.renderRightContent(),"move"===l.mode&&g.createElement(w.G,{elements:h.Z.StatusBarElementsDropItems}))}}]),n}(x.a)},95710:(e,t,n)=>{n.d(t,{Z:()=>i});var a=n(89088),r=n(19955),o=n(61811);const i=(0,n(72475).Z)((function(e){var t=e.contact,n=function(e){return function(t){o.default.menus.closeContextMenu(),o.default.openUrl(e.link,t,!0)}},i=function(e){return function(t){var n=o.default.pluginManager.getPluginGmail();if(n.isActive()&&n.isEnabled()&&!a.Z.demo){o.default.menus.closeContextMenu();var r={to:[{text:"",email:e.address}]};o.default.menus.openComposeEmail(n,{initData:r})}else o.default.openUrl(e.link,t,!0)}};return r.createElement("div",{className:"contactPreview"},r.createElement("div",{className:"contactName c-border"},t.text),t.phoneNumbers&&t.phoneNumbers.map((function(e){return r.createElement("div",{className:"contactRow contactPhone",key:e.number},r.createElement("i",{className:"contactButton icon-phone c-foreground-super-faded"}),r.createElement("span",{className:"contactNumber link",onClick:n(e)},e.number),r.createElement("span",{className:"phoneType c-foreground-faded"},e.type))})),t.emails&&t.emails.map((function(e){return r.createElement("div",{className:"contactRow contactEmail",key:e.address},r.createElement("i",{className:"icon-mail_outline contactButton c-foreground-super-faded"}),r.createElement("span",{className:"contactEmail link",onClick:i(e)},e.address))})))}))},86505:(e,t,n)=>{n.r(t),n.d(t,{default:()=>C});var a=n(34575),r=n.n(a),o=n(93913),i=n.n(o),l=n(2205),s=n.n(l),c=n(78585),u=n.n(c),d=n(29754),m=n.n(d),f=n(19955),p=n(61811),h=n(26975),g=n(18882),y=n(86407),v=n(17027),E=n(48606);function A(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=m()(e);if(t){var r=m()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return u()(this,n)}}const C=function(e){s()(n,e);var t=A(n);function n(){return r()(this,n),t.apply(this,arguments)}return i()(n,[{key:"init",value:function(){this.createObservables({anyCalendarsSync:this.computeAnyCalendarsSync()})}},{key:"getState",value:function(){var e=this.props.pane;return{displayCalendars:e.displayCalendars,displayLocalItems:e.displayLocalItems}}},{key:"getSyncCalendars",value:function(){return p.default.pluginManager.getPluginGCalendar().getImportCalendarList()}},{key:"computeAnyCalendarsSync",value:function(){for(var e=0,t=this.props.pane.displayCalendars.get(),n=this.getSyncCalendars(),a=0,r=0;r<n.length;r++){if(e++>5e3&&__infLoop&&__infLoop(e))throw new RangeError;!1!==t[n[r].id]&&a++}return a>0}},{key:"onChangeDisplayCalendar",value:function(e,t){var n=this.props.pane;n.setDisplayCalendar(e,t),n.saveState(),this.anyCalendarsSync.set(this.computeAnyCalendarsSync())}},{key:"onChangeDisplayLocal",value:function(e){this.props.pane.setDisplayLocal(e)}},{key:"onChangeAllCalendars",value:function(e){var t=0,n=this.props.pane,a=this.getSyncCalendars(),r=this.state.displayCalendars;p.default.PaneUpdateBatcher.beginUpdateItems();for(var o=0;o<a.length;o++){if(t++>5e3&&__infLoop&&__infLoop(t))throw new RangeError;var i=a[o];r[i.id]!==e&&n.setDisplayCalendar(i,e)}n.saveState(),p.default.PaneUpdateBatcher.commitUpdateItems()}},{key:"onClickAdd",value:function(){p.default.menus.closeContextMenu(),p.default.menus.openSettings("Calendar")}},{key:"onClickSettings",value:function(){p.default.menus.closeContextMenu(),p.default.menus.openSettings("Calendar")}},{key:"render",value:function(){var e=this,t=this.state,n=this.props,a=p.default.pluginManager.getPluginGCalendar(),r=a.isEnabled(),o=this.getSyncCalendars(),i=t.displayCalendars;return f.createElement(y.Z,{key:"contextMenuSelectCalendars",id:"contextMenuSelectCalendars",element:n.element},f.createElement(E.Z,null,f.createElement(g.Z,{checked:t.displayLocalItems,onChange:this.onChangeDisplayLocal},"Display local events")),r&&f.createElement(f.Fragment,null,f.createElement(v.Z,null,f.createElement(g.Z,{checked:t.anyCalendarsSync,onChange:this.onChangeAllCalendars,size:14},"Google Calendars")),o&&o.map((function(t){var n=a.getCalendarBackgroundColor(t.id);return f.createElement(E.Z,{key:t.id},f.createElement(g.Z,{checked:!1!==i[t.id],checkedColor:n,onChange:e.onChangeDisplayCalendar.bind(e,t)},t.summary||t.id))})),(!o||0===o.length)&&f.createElement("div",{className:"center",style:{marginTop:8}},f.createElement(h.Z,{raised:!0,primary:!0,onClick:this.onClickAdd},"ADD CALENDARS"))),!r&&f.createElement("div",{className:"center",style:{marginTop:24}},f.createElement(h.Z,{raised:!0,primary:!0,onClick:this.onClickSettings},"ENABLE CALENDARS")))}}]),n}(n(88194).a)},46742:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});var a=n(19955),r=n(95710),o=n(86407);const i=(0,n(72475).Z)((function(e){var t=e.contact,n=e.element;return a.createElement(o.Z,{key:"contextMenuContactDetails",id:"contextMenuContactDetails",element:n},a.createElement(r.Z,{contact:t}))}))},33643:(e,t,n)=>{n.r(t),n.d(t,{default:()=>re});var a=n(67154),r=n.n(a),o=n(6479),i=n.n(o),l=n(61811),s=n(19955),c=n(72475),u=n(86407),d=n(48926),m=n.n(d),f=n(63038),p=n.n(f),h=n(87757),g=n.n(h),y=n(35848),v=n(87452),E=n(54483),A=(n(91511),n(19270)),C=n(9642),_=n(19923),k=n(77961),b=n(59618),x=n(18882),w=n(15769),D=n(89088),Z=["onChange"];const B=(0,c.Z)((function(e){var t=e.onChange,n=i()(e,Z),a=(0,s.useRef)(),o=(0,s.useCallback)((function(e){return 0===e.length||!!l.default.parseDate(e)}),[]),c=(0,s.useCallback)((function(e){a.current=l.default.parseDate(e),D.Z.isiOS||t(a.current)}),[t]),u=(0,s.useCallback)((function(){0}),[t]);return s.createElement(w.Z,r()({},n,{onChange:c,onBlur:u,validator:o,type:void 0,noUpdateValueWhileFocused:!0}))}));var M=["onChange","value"],N=/^(1[0-2]|0?[1-9])(?:[:.]?([0-5]?[0-9]))?(\u25cf?[AP]M)?$/,P=/^(2[0-3]|[01]?[0-9])(?:[:.]?([0-5]?[0-9]))?$/;const S=(0,c.Z)((function(e){var t,n=e.onChange,a=e.value,o=i()(e,M),l=(0,s.useRef)(),c=(0,s.useCallback)((function(e){var t=e.toUpperCase();return 0===e.length||!(!t.match(N)&&!t.match(P))}),[]),u=(0,s.useCallback)((function(e){var t;if(e.length>0){var a=e.toUpperCase(),r=a.match(N)||a.match(P);if(r){var o=function(e){var t=+e[1],n=+e[2]||0;return 12===t&&"AM"===e[3]?t=0:12!==t&&"PM"===e[3]&&(t+=12),{hours:t,minutes:n}}(r),i=o.hours,s=o.minutes;t={hours:i,minutes:s,ms:0===i&&0===s?1:0}}}l.current=t,D.Z.isiOS||n(t)}),[n]),d=(0,s.useCallback)((function(){0}),[n]);null===(t=a)||void 0===t||t.toUpperCase().match(N);return s.createElement(w.Z,r()({},o,{value:a,onChange:u,validator:c,noUpdateValueWhileFocused:!0,type:void 0,onBlur:d}))}));var I=n(145),T=(n(95272),n(9929),y.Z.Mobile.TopBarHeight,n(13687)),O=n(93379),R=n.n(O),L=n(7795),F=n.n(L),U=n(90569),W=n.n(U),Y=n(3565),H=n.n(Y),j=n(19216),z=n.n(j),V=n(44589),G=n.n(V),K=n(52005),q={};q.styleTagTransform=G(),q.setAttributes=H(),q.insert=W().bind(null,"head"),q.domAPI=F(),q.insertStyleElement=z();R()(K.Z,q);K.Z&&K.Z.locals&&K.Z.locals;var Q,X=n(4253),J={weekends:{daysOfWeek:[0,6]},all:{daysOfWeek:[0,1,2,3,4,5,6]}};const $=(0,c.Z)((function(e){var t=e.refMooDate,n=e.onDoubleClick,a=e.onChange,r=(0,X.Z)(l.default.settings.dayWeekStart),o=p()(r,1)[0],i=(0,s.useRef)(0),c=(0,C.Z)(),u=t.current,d=null===u||void 0===u?void 0:u.getStart(),m=null===u||void 0===u?void 0:u.getEnd(),f=(null===u||void 0===u?void 0:u.isRepeatDate())&&!(null!==u&&void 0!==u&&u.isRange()),h=Object.assign({from:d,to:m},J),g=f?null===u||void 0===u?void 0:u.getAllDates():[d,{from:d,to:m}],v=(0,s.useCallback)((function(e){var n=t.current;e.clearTime(),Q=e,n?n.setDate(e):n=t.current=new _.Z(e),c(),a()}),[]),E=(0,s.useCallback)((function(e,n,r){var o=t.current;if(1===r.buttons&&o){var i;e.clearTime();var l=null!==(i=Q)&&void 0!==i&&i.isBefore(e)?[Q,e]:[e,Q],s=p()(l,2),u=s[0],d=s[1];if(A.Z.isSameDay(u,d))o.setDate(u);else{var m=null===o||void 0===o?void 0:o.getTime(),f=m?m/y.Z.MSPerHour:0;o.setRange(u,d,f)}c(),a()}}),[]),k=(0,s.useCallback)((function(){var e=Date.now();e-i.current<500?(i.current=null,n()):i.current=e}),[]),b=f?"":"DatePickerRange";return s.createElement("div",{className:"flex justify-center",style:{lineHeight:"normal"}},s.createElement(T.ZP,{className:b,showOutsideDays:!0,modifiers:h,modifiersStyles:undefined,selectedDays:g,firstDayOfWeek:o,onDayMouseDown:v,onDayMouseEnter:E,onDayClick:k}))}));var ee=[{id:"none",value:"No repeat"},{id:"daily",value:"Daily"},{id:"weekly",value:"Weekly"},{id:"weekdays",value:"Weekdays"},{id:"monthly",value:"Monthly"},{id:"yearly",value:"Yearly"}],te=32;const ne=(0,c.Z)((function(e){var t,n,a,r,o,i,c=e.item,u=e.paneObject,d=e.textOffset,f=e.focused,h=e.onUnmount,D=e.close,Z=(0,s.useRef)(!1),M=(0,s.useRef)(null===(t=c.getMooDate())||void 0===t?void 0:t.clone()),N=(0,s.useRef)(),P=(0,s.useRef)(),T=(0,s.useState)(null===(n=M.current)||void 0===n?void 0:n.toText()),O=p()(T,2),R=O[0],L=O[1],F=(0,k.Z)(null===(a=M.current)||void 0===a?void 0:a.repeatComplete),U=p()(F,1)[0],W=(0,C.Z)(),Y=l.default.pluginManager.getPluginGCalendar(),H=c.hasPluginAttachment(y.Z.PluginID.GCalendar),j=Y.getWriteableCalendarsForItem(c),z=j.calendars,V=j.selected;!v.Z.isDemoMode()&&!M.current&&Y.isEnabled()&&Y.getSetting("syncPopup")&&(N.current=Y.getDefaultExportCalendarID()),void 0!==N.current&&(V=N.current);var G,K="",q="",Q="",X="";if(M.current){var J=M.current;o=J.getStart(),i=J.getEnd();var ne,ae=J.getRRuleOptions(),re=ae&&function(e){var t=e.interval,n=e.freq,a=e.byweekday;return n===E.Di.DAILY&&1===t?"daily":n===E.Di.WEEKLY&&a&&a.length>1?"weekdays":n===E.Di.WEEKLY&&1===t?"weekly":n===E.Di.MONTHLY&&1===t?"monthly":n===E.Di.YEARLY&&1===t?"yearly":"Custom"}(ae);if(re)G=(null===(ne=ee.find((function(e){return e.id===re})))||void 0===ne?void 0:ne.value)||"Custom";var oe=J.isRange(),ie=J.isRepeatDate()&&!oe;K=o.toString("yyyy-MM-dd")||"",q=o.hasTimeOfDay()?A.Z.getTimeText(o):"",Q=oe||J.hasUntil()||J.getDuration()&&!ie?i.toString("yyyy-MM-dd"):"",X=o.hasTimeOfDay()&&i.hasTimeOfDay()?A.Z.getTimeText(i):""}(0,s.useEffect)((function(){return l.default.onIntroAction("Date"),function(){if(c){var e=M.current,t=u?u.getDisplayText():c.getDisplayText({showMarkdown:!1});e&&e.setRepeatOnComplete(U.get()),c.setMooDate(e,y.Z.ChangeType.Local,["repeatComplete"].concat(null!==e&&void 0!==e&&e.duration?["duration"]:[]));var n=u||{item:c,showMarkdown:function(){return l.default.settings.showMarkdown.get()}};if(e&&c.getRawText().indexOf(y.Z.CharDate)<0){void 0===d&&(d=t.length);var a=d,r=0,o="";t[d-1]&&t[d-1]!==y.Z.PrefixDate&&" "!==t[a]&&(o=" "),t[d-1]===y.Z.PrefixDate&&(a--,r++);var i=c.elsNew.spliceText(o+y.Z.CharDate+" ",a,r,n);i[d-1]===y.Z.PrefixDate&&(i=v.Z.stringRemove(i,a-1,1)),c.setText(i,y.Z.ChangeType.Local)}else if(Z.current&&d&&!e&&t[d-1]===y.Z.PrefixDate){var s=c.elsNew.spliceText("",d-1,1,n);c.setText(s,y.Z.ChangeType.Local)}if(e){var m=N.current;if(void 0!==m)l.default.pluginManager.getPluginGCalendar().setCalendarForItem(c,m)}}null===h||void 0===h||h()}}),[]);var le,se=(0,s.useCallback)((function(){var e;Z.current=!0,L((null===(e=M.current)||void 0===e?void 0:e.toText())||""),W()}),[]),ce=(0,s.useCallback)((function(){se()}),[]),ue=(0,s.useCallback)((function(){D()}),[]),de=(0,s.useCallback)((function(e){Z.current=!0,M.current=e?A.Z.parseText(e):void 0,L(e),W()}),[]),me=(0,s.useCallback)((function(e){M.current||(M.current=new _.Z(e)),M.current.setDate(e),se()}),[]),fe=(0,s.useCallback)((function(e){M.current||(M.current=new _.Z(Date.today()));var t=M.current;if(e){var n=e.hours,a=e.minutes;t.setHours(n+a/60),0===t.getDuration()&&t.setDuration(y.Z.MSPerHour)}else t.clearTime();se()}),[]),pe=(0,s.useCallback)((function(e){M.current||(M.current=new _.Z(Date.today()));var t=M.current;if(e)if(t.isSingleDate()){var n=t.getEnd();e.setHours(n.getHours(),n.getMinutes(),0,n.getMilliseconds());var a=+e-+t.getDate();a>0&&t.setDuration(a)}else t.setUntil(e);else t.clearTime(),t.setDuration(0);se()}),[]),he=(0,s.useCallback)((function(e){M.current||(M.current=new _.Z(new Date));var t=M.current;if(e){var n=e.hours,a=e.minutes,r=e.ms,o=t.getStart(),i=(t.isSingleDate()?t.getEnd():t.getStart()).clone();i.setHours(n,a,0,r);var l=+i-+o;t.setDuration(l)}se()}),[]),ge=(0,s.useCallback)(function(){var e=m()(g().mark((function e(t){var n,a,r,o;return g().wrap((function(e){for(var i=0;;){if(i++>5e3&&__infLoop&&__infLoop(i))throw new RangeError;switch(e.prev=e.next){case 0:if(!(n=M.current)){e.next=9;break}return e.next=4,l.default.menus.openContextMenuList("Repeat",t.target,ee);case 4:a=e.sent,r=n.getStart(),"daily"===a?o={freq:E.Ci.DAILY,interval:1}:"weekdays"===a?o={freq:E.Ci.WEEKLY,interval:1,byweekday:[0,1,2,3,4].map((function(e){return new E.OG(e,void 0)}))}:"weekly"===a?o={freq:E.Ci.WEEKLY,interval:1}:"monthly"===a?o={freq:E.Ci.MONTHLY,interval:1}:"yearly"===a?o={freq:E.Ci.YEARLY,interval:1}:"none"===a&&n.setDate(r),o&&(o.byweekday||(o.byweekday=null),o=Object.assign({dtstart:A.Z.toUTCDate(r.clearTime())},o),n.updateRRuleOptions(o)),se();case 9:case"end":return e.stop()}}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),ye=(0,s.useCallback)(function(){var e=m()(g().mark((function e(t){var n,a;return g().wrap((function(e){for(var r=0;;){if(r++>5e3&&__infLoop&&__infLoop(r))throw new RangeError;switch(e.prev=e.next){case 0:if(n=(V?[{id:null,value:"Remove from Calendar"}]:[]).concat(z.map((function(e){return{id:e.id,value:e.summary}}))),!G){e.next=5;break}l.default.toasts.pushMessage("Syncing repeat dates with Google Calendar is not currently supported"),e.next=16;break;case 5:e.next=11;break;case 8:a=e.sent,e.next=14;break;case 11:return e.next=13,l.default.menus.openContextMenuList("Select a calendar",t.target,n);case 13:a=e.sent;case 14:N.current=a,W();case 16:case"end":return e.stop()}}}),e)})));return function(t){return e.apply(this,arguments)}}(),[V,G,z,W]),ve=(0,s.useCallback)((function(){M.current=void 0,se()}),[]),Ee=V?(null===z||void 0===z||null===(r=z.find((function(e){return e.id===V})))||void 0===r?void 0:r.summary)||V:"".concat(H?"Remove from":"Add to"," calendar"),Ae=G||"Repeat",Ce=s.createElement(w.Z,{placeholder:"Type or select a date",className:"flex-1",border:!1,value:R,onChange:de,focused:f,height:void 0,buttonText:"Clear",onButtonClick:ve,buttonEnabled:!!R,onEnter:D,ref:P});return le=s.createElement("div",null,Ce),s.createElement("div",{className:"flex flex-col"},le,s.createElement("div",null,s.createElement("div",{className:"flex items-center px-4 pt-2 border-t c-border"},s.createElement("div",{className:"pr-3 c-foreground-light",style:{width:36}},"Starts:"),s.createElement(I.J,{name:"MdToday",size:18,className:"c-foreground-light"}),s.createElement(B,{placeholder:"Start date",value:K,height:te,width:160,className:"ml-2",onChange:me}),s.createElement(S,{placeholder:"Start time",border:!0,value:q,height:te,width:140,className:"ml-2",onChange:fe})),s.createElement("div",{className:"flex items-center px-4 pt-2"},s.createElement("div",{className:"pr-3 c-foreground-light",style:{width:36}},"Ends:"),s.createElement(I.J,{name:"IoMdCalendar",size:18,className:"c-foreground-light"}),s.createElement(B,{placeholder:"End date",value:Q,height:te,width:160,className:"ml-2",onChange:pe}),s.createElement(S,{placeholder:"End time",border:!0,value:X,height:te,width:140,className:"ml-2",onChange:he})),(null===z||void 0===z?void 0:z.length)>0&&s.createElement("div",{className:"flex items-center px-4 pt-2"},s.createElement(b.Z,{mode:"outlined",padding:"px-3",icon:"IoIosCalendar",iconSize:18,text:Ee,height:te,align:"left",onMouseDown:ye})),s.createElement("div",{className:"flex items-center px-4 pt-2"},(v.Z.isDemoMode()||!V)&&s.createElement(b.Z,{mode:"outlined",padding:"px-3",icon:"IoIosRepeat",iconSize:18,text:Ae,height:te,align:"left",onMouseDown:ge,disabled:!M.current}),(!v.Z.isDemoMode()||G)&&s.createElement(x.Z,{className:"ml-3",checkedObservable:U,disabled:!G},"Repeat from complete")),s.createElement($,{data:R,refMooDate:M,onChange:ce,onDoubleClick:ue})))}));var ae=["id","item","paneObject","textOffset","onUnmount"];const re=(0,c.Z)((function(e){var t=e.id,n=e.item,a=e.paneObject,o=e.textOffset,c=e.onUnmount,d=i()(e,ae);return s.createElement(u.Z,r()({},d,{id:t,width:400,maxHeight:800,padding:"0",focusTrap:!0}),s.createElement(ne,{item:n,paneObject:a,textOffset:o,onUnmount:c,close:function(){l.default.menus.closeContextMenu(t)},focused:!0}))}))},16662:(e,t,n)=>{n.r(t),n.d(t,{default:()=>E});var a=n(34575),r=n.n(a),o=n(93913),i=n.n(o),l=n(2205),s=n.n(l),c=n(78585),u=n.n(c),d=n(29754),m=n.n(d),f=n(19955),p=n(88194),h=n(26975),g=n(86407),y=n(15769);function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=m()(e);if(t){var r=m()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return u()(this,n)}}const E=function(e){s()(n,e);var t=v(n);function n(){return r()(this,n),t.apply(this,arguments)}return i()(n,[{key:"init",value:function(){}},{key:"onClickSavePassword",value:function(){this.refs.pass1.getValue(),this.refs.pass2.getValue()}},{key:"render",value:function(){var e=this.props,t={marginTop:8,width:240};return f.createElement(g.Z,{key:"contextMenuDocumentPassword",id:"contextMenuDocumentPassword",className:"padded",element:e.element,focusTrap:!0},f.createElement("div",{className:"bold"},"Enter a password"),f.createElement("div",null,f.createElement(y.Z,{type:"password",placeholder:"Password",ref:"pass1",style:t,onEnter:this.onClickSavePassword}),f.createElement(y.Z,{type:"password",placeholder:"Confirm Password",ref:"pass2",style:t,onEnter:this.onClickSavePassword})),f.createElement("div",{style:{marginTop:8}},f.createElement(h.Z,{raised:!0,primary:!0,onClick:this.onClickSavePassword},"Save")))}}]),n}(p.a)},75909:(e,t,n)=>{n.r(t),n.d(t,{default:()=>C});var a=n(67154),r=n.n(a),o=n(63038),i=n.n(o),l=n(6479),s=n.n(l),c=n(30046),u=n(35848),d=n(87452),m=n(19955),f=n(76611),p=n(61811),h=n(86407),g=n(15769),y=n(72475),v=n(4253),E=n(59618),A=["item","pane","itemParent","paneObject","insertIndex","image"];const C=(0,y.Z)((function(e){var t=e.item,n=e.pane,a=e.itemParent,o=e.paneObject,l=e.insertIndex,y=e.image,C=s()(e,A),_=(0,m.useRef)(),k=(0,m.useRef)(),b=(0,m.useRef)(),x=(0,m.useState)(!1),w=i()(x,2),D=w[0],Z=w[1],B=p.default.pluginManager.getPlugin(u.Z.PluginID.Drive).isEnabled(),M=c.Z.hasError(),N=(0,v.Z)(c.Z.erroredAuthTokens,p.default.settings.syncAccounts),P=i()(N,2),S=P[0],I=P[1],T=!d.Z.isEmpty(I),O=function(e){for(var t=0,a=p.default.pluginManager.getPluginDrive(),r=0;r<e.length;r++){if(t++>5e3&&__infLoop&&__infLoop(t))throw new RangeError;a.handleDropFile(e[r],n,{target:_.current.getElement()},R(0===r))}_.current.close()},R=function(e){return function(r){var i=isNaN(l)?o.index+1:l;if(e&&t)t.setText(r,u.Z.ChangeType.Local);else{var s=a||t.parent(),c=n.createVMLI({text:r},{parent:s,changeType:u.Z.ChangeType.AllLocal});s.insertItem(c,i)}return t}},L=function(){_.current.close(),p.default.menus.openSettings("Files")},F=d.Z.classNames("uploadDropZone",{"hovered c-bg-light":D}),U=y?"image":"file";return m.createElement(h.Z,r()({},C,{key:"contextMenuDropZone",id:"contextMenuDropZone",name:"ReactContextMenuDropZone",ref:_,focusTrap:!0}),y&&m.createElement(g.Z,{focused:!0,placeholder:"Enter an image address",height:32,buttonText:"ADD",onButtonClick:function(){_.current.close();var e=b.current.getValue();if(n.setIgnoreRestoreScroll(),t)f.Z.selectIndex(o.index,0,0),t.onInsertLink({href:e},p.default.settings.showImagesInline.get());else{var r=a,i=n.createVMLI({text:p.default.settings.getDefaultItemText()},{parent:r,changeType:u.Z.ChangeType.AllLocal});r.insertItem(i,l),f.Z.selectIndex(l,i.getParsedText().length),i.onInsertLink({href:e},p.default.settings.showImagesInline.get())}},ref:b}),y&&m.createElement("div",{className:"dropOr center c-foreground-faded"},"or"),T&&B?B&&!M?m.createElement("div",{className:F,onClick:function(){k.current.click()},onDragEnter:function(){Z(!0)},onDragLeave:function(){Z(!1)},onDrop:function(e){var t=e.dataTransfer;t.files&&t.files.length>0&&O(t.files)}},(D?"Drop file(s)":"Drag files here or click")+" to add "+U+".",m.createElement("input",{type:"file",ref:k,className:"hidden",multiple:!0,onChange:function(e){return e.target.files&&e.target.files.length>0&&O(e.target.files),!1}})):M?m.createElement("div",{className:"leading-normal whitespace-pre-wrap"},"Error syncing with Drive account: ",Object.keys(S)[0],". Please fix sync before uploading.",m.createElement("div",{className:"pt-4 text-center"},m.createElement(E.Z,{newStyle:!0,primary:!0,mode:"contained",text:"FIX SYNC",onClick:function(){c.Z.fixAuth(Object.keys(S)[0]),p.default.menus.closeContextMenu("ReactContextMenuDropZone")}}))):m.createElement("div",{className:F,onClick:L},"Enable the Google Drive plugin to upload files"):m.createElement("div",{className:"leading-normal whitespace-pre-wrap"},"Uploading files and images uses Google Drive. Please add a sync account with Drive in the settings.",m.createElement("div",{className:"pt-4 text-center"},m.createElement(E.Z,{newStyle:!0,primary:!0,mode:"contained",text:"ENABLE",onClick:L}))))}))},55844:(e,t,n)=>{n.r(t),n.d(t,{default:()=>E});var a=n(34575),r=n.n(a),o=n(93913),i=n.n(o),l=n(2205),s=n.n(l),c=n(78585),u=n.n(c),d=n(29754),m=n.n(d),f=n(35848),p=n(19955),h=n(88194),g=n(61811),y=n(86407);function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=m()(e);if(t){var r=m()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return u()(this,n)}}const E=function(e){s()(n,e);var t=v(n);function n(){return r()(this,n),t.apply(this,arguments)}return i()(n,[{key:"_generateParticipantTextExpanded",value:function(e){return e.text?p.createElement("span",null,p.createElement("b",null,e.text)," <"+e.email+">"):e.email}},{key:"renderLabels",value:function(){for(var e=0,t=g.default.pluginManager.getPluginGmail(),n=this.props.accountID,a=this.props.message.labelIds,r=[],o=0;o<a.length;o++){if(e++>5e3&&__infLoop&&__infLoop(e))throw new RangeError;var i=t._getLabelByID(n,a[o]);r.push(p.createElement("div",{key:o},i.getName()))}return this.renderLine("labels",r)}},{key:"renderParticipants",value:function(e){var t=this,n=this.props.message[e].map((function(e,n){return p.createElement("div",{key:n},t._generateParticipantTextExpanded(e))}));return this.renderLine(e,n)}},{key:"renderLine",value:function(e,t){return p.createElement("div",{className:"emailDetailsLine flexbox"},p.createElement("div",null,e+":"),p.createElement("span",{className:"f1"},t))}},{key:"render",value:function(){var e=this.props.message,t=e.date,n=t.toString(g.default.International.getFormat(f.Z.DFormat.DayMonthDateYear))+" at "+t.toString(g.default.International.getFormat(f.Z.DFormat.ShortTime));return p.createElement(y.Z,{key:"contextMenuEmailDetails",id:"contextMenuEmailDetails",element:this.props.element},this.renderLine("from",this._generateParticipantTextExpanded(e.from)),e.to&&this.renderParticipants("to"),e.cc&&this.renderParticipants("cc"),e.bcc&&this.renderParticipants("bcc"),this.renderLine("date",n),this.renderLine("subject",e.subject),e.labelIds&&this.renderLabels())}}]),n}(h.a)},77982:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});var a=n(35848),r=n(19955),o=n(86407),i=n(48606),l=n(17027);const s=(0,n(72475).Z)((function(e){var t=e.element,n=e.onSelected,s=function(e){n(e)};return r.createElement(o.Z,{key:"contextMenuGmailSort",id:"contextMenuGmailSort",element:t},r.createElement(l.Z,null,"Sort by"),r.createElement(i.Z,{icon:"icon-access_time",onClick:function(){return s(a.Z.GmailViewMode.Date)}},a.Z.GmailViewMode.Date),r.createElement(i.Z,{icon:"icon-exclamation",onClick:function(){return s(a.Z.GmailViewMode.Priority)}},a.Z.GmailViewMode.Priority))}))},29312:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});var a=n(19955),r=n(86407),o=n(63201),i=n(72475),l=n(48606);const s=(0,i.Z)((function(e){var t,n=e.pane,i=e.element,s="Saved"===(null===(t=n.zoomedItem.get())||void 0===t?void 0:t.accountID),c=o.Z.getSelectedItems(n),u=!0,d=!0,m=!0,f=!0,p=!0;c.forEach((function(e){u=u&&e.isRead.get(),d=d&&e.isStarred.get(),m=m&&!e.labels.includes("inbox"),f=f&&e.labels.includes("trash"),p=p&&"g"===e.service}));return a.createElement(r.Z,{key:"contextMenuInboxItem",element:i},a.createElement(l.Z,{icon:"icon-align-left",hotkey:{name:"CopyToItem",group:"Email"},onClick:function(){n.autocompleteCopy()}},"Copy to Item"),a.createElement(l.Z,{icon:"icon-add",hotkey:{name:"CopyToNewItem",group:"Email"},onClick:function(){n.autocompleteCreateTask()}},"Copy to New Item"),a.createElement("hr",null),!s&&a.createElement(l.Z,{icon:"icon-star",hotkey:{name:"Star",group:"Email"},onClick:function(){n.doMultiselectAction("Star")}},d?"Unstar":"Star"),a.createElement(l.Z,{icon:u?"icon-unread":"icon-drafts",iconSize:14,hotkey:{name:u?"MarkUnread":"MarkRead",group:"Email"},onClick:function(){n.doMultiselectAction(u?"MarkUnread":"MarkRead")}},u?"Mark as unread":"Mark as read"),a.createElement(l.Z,{icon:"icon-gmail",iconSize:14,hotkey:{name:"OpenInGmail",group:"Email"},onClick:function(){n.doMultiselectAction("OpenInGmail")}},"Open in Gmail"),a.createElement("hr",null),!s&&a.createElement(l.Z,{disabled:m,icon:"icon-check",iconSize:14,hotkey:{name:"Archive",group:"Email"},onClick:function(){n.doMultiselectAction("Archive")}},"Archive"),a.createElement(l.Z,{disabled:f,icon:"icon-delete",iconSize:14,hotkey:{name:"Delete",group:"Email"},onClick:function(){n.doMultiselectAction("Delete")}},s?"Remove from Saved":"Delete"))}))},36124:(e,t,n)=>{n.r(t),n.d(t,{default:()=>b});var a=n(67154),r=n.n(a),o=n(34575),i=n.n(o),l=n(93913),s=n.n(l),c=n(2205),u=n.n(c),d=n(78585),m=n.n(d),f=n(29754),p=n.n(f),h=n(35848),g=n(19955),y=n(61811),v=n(26975),E=n(86407),A=n(15769),C=n(88194),_=n(89088);function k(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=p()(e);if(t){var r=p()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return m()(this,n)}}const b=function(e){u()(n,e);var t=k(n);function n(){return i()(this,n),t.apply(this,arguments)}return s()(n,[{key:"init",value:function(){var e=this.props,t=e.text,n=e.href;if(n)this.text=t,this.href=n;else{var a=h.Z.Regexp.MDLink,r=new RegExp(/\S{2,}\.[^0-9.\s]{2,}\S*$/);a.lastIndex=0;var o=a.exec(t);o?(this.text=o[2],this.href=o[3]):null===r.exec(t)?this.text=t:this.href=t}this.refText=g.createRef(),this.refLink=g.createRef()}},{key:"getHotkeys",value:function(){return[y.default.hotkeys.create(h.Z.KeyCode.Enter,!0,h.Z.Primary.Either,h.Z.Shift.Either,this.onClick),y.default.hotkeys.create(h.Z.KeyCode.Escape,!0,h.Z.Primary.Either,h.Z.Shift.Either,this.close)]}},{key:"onMount",value:function(){var e;(e=this.href||!this.text?this.refText.current:this.refLink.current).focus(),e.selectAll()}},{key:"close",value:function(){y.default.menus.closeContextMenu("ReactContextMenuInsertLink")}},{key:"onClickRemove",value:function(){var e=this.refText.current.getValue();this.props.onInsertLink({text:e,href:void 0,isUpdate:!0})}},{key:"onClick",value:function(){var e=this.refText.current.getValue(),t=this.refLink.current.getValue();(e||t)&&y.default.menus.isContextMenuOpen("ReactContextMenuInsertLink")&&(t=_.Z.parseTextForFilePath(t),this.close(),this.props.onInsertLink({text:e,href:t,isUpdate:!!this.props.href}))}},{key:"render",value:function(){return g.createElement(E.Z,r()({},this.props,{key:"contextMenuInsertLink",id:"contextMenuInsertLink",focusTrap:!0}),g.createElement("div",{className:"flexbox"},g.createElement("span",null,"Text"),g.createElement(A.Z,{className:"f1",ref:this.refText,height:28,width:300,maxWidth:300,value:this.text||this.href,onEnter:this.onClick,onEscape:this.close})),g.createElement("div",{className:"flexbox"},g.createElement("span",null,"URL"),g.createElement(A.Z,{className:"f1",ref:this.refLink,height:28,width:300,maxWidth:300,value:this.href,onEnter:this.onClick,onEscape:this.close})),g.createElement("div",{className:"flexbox",style:{marginTop:16}},this.href&&g.createElement(v.Z,{cancel:!0,height:32,onClick:this.onClickRemove},"REMOVE"),g.createElement("div",{className:"f1"}),g.createElement(v.Z,{primary:!0,height:32,onClick:this.onClick},this.props.href?"EDIT":"INSERT")))}}]),n}(C.a)},36168:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Z});var a=n(34575),r=n.n(a),o=n(93913),i=n.n(o),l=n(2205),s=n.n(l),c=n(78585),u=n.n(c),d=n(29754),m=n.n(d),f=n(35848),p=n(87452),h=n(89088),g=n(19955),y=n(76611),v=n(61811),E=n(74857),A=n(26975),C=n(86407),_=n(17027),k=n(48606),b=n(19270),x=n(88194),w=n(31741);function D(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=m()(e);if(t){var r=m()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return u()(this,n)}}const Z=function(e){s()(n,e);var t=D(n);function n(){return r()(this,n),t.apply(this,arguments)}return i()(n,[{key:"init",value:function(){var e=this,t=this.props,n=!1;this.mod=h.Z.secModKey,this.priMod=h.Z.priModKey,this.items=[],this.paneObjects=[],v.default.onIntroAction("RightClickItem"),t.pane.applyToSelection((function(a,r,o,i){t.item===a&&(n=!0),e.item||(e.item=a,e.paneObject=i),e.hasSelection=!0,e.items.push(a),e.paneObjects.push(i)})),n||(this.item=void 0,this.hasSelection=!1),this.item||(this.item=t.item,this.paneObject=t.paneObject,this.items=[this.item],this.paneObjects=[this.paneObject],this.hasSelection=!1);try{p.Z.PAssert(290,this.item,"Must have a valid item")}catch(a){p.Z.reportError(a)}}},{key:"forAllItems",value:function(e){v.default.PaneUpdateBatcher.beginUpdateItems(),this.items.forEach(e),v.default.PaneUpdateBatcher.commitUpdateItems()}},{key:"onClickComplete",value:function(){this.hasSelection?p.Z.focusedPane.applyFnToSelection("setComplete",{toggle:"isComplete",value2:f.Z.ChangeType.Local}):this.item.setComplete(!this.item.isComplete(),f.Z.ChangeType.Local)}},{key:"onClickStar",value:function(){this.hasSelection?p.Z.focusedPane.applyFnToSelection("setStarred",{toggle:"isStarred",value2:f.Z.ChangeType.Local}):this.item.setStarred(!this.item.isStarred(),f.Z.ChangeType.Local)}},{key:"onClickPriority",value:function(e){this.hasSelection?this.props.pane.applyPriorityToSelection(e):this.item.setPriority(e,f.Z.ChangeType.Local),v.default.menus.closeContextMenu()}},{key:"onClickIndent",value:function(e){y.Z.fireKeyEvent(void 0,{normCode:f.Z.KeyCode.Tab,shiftKey:e})}},{key:"onClickMove",value:function(){this.props.pane.autocompleteMove()}},{key:"onClickCreateTask",value:function(){this.props.pane.autocompleteCreateTask()}},{key:"onClickNote",value:function(){this.props.pane.openNoteContextMenuByPaneObject(this.props.paneObject)}},{key:"onClickCollapse",value:function(){this.paneObject.toggleCollapsed()}},{key:"onClickZoom",value:function(){var e=this.props.pane;e.canZoomToItem(this.item)&&(y.Z.setFocusedPane(e),e.zoomIn(this.item))}},{key:"onClickZoomNewPane",value:function(e){this.clonePane(e)}},{key:"onClickZoomNewOutlinePane",value:function(e){this.clonePane(e,!0)}},{key:"clonePane",value:function(e,t){if(v.default.PaneManager.checkAddingPane(e.target)){var n=this.props.pane,a={item:this.item},r=v.default.PaneManager;t?(a.search=null,r.clonePaneAsOutline(n,a)):r.clonePane(n,a)}}},{key:"onClickHighlight",value:function(){v.default.PaneManager.scrollToAndHighlightItem(this.item,this.props.pane)}},{key:"onClickArchive",value:function(){var e=this.props.pane;e.isWriteable&&(this.hasSelection?e.archiveSelected(!0):this.props.item.archiveSelf(f.Z.ChangeType.Local))}},{key:"onClickUnarchive",value:function(){this.item.unArchive(f.Z.ChangeType.Local)}},{key:"onClickUndelete",value:function(){this.item.unDelete(f.Z.ChangeType.Local)}},{key:"onClickDelete",value:function(){var e=this.item,t=this.props.pane;if(e.isNote())e.parent().setNote(void 0,f.Z.ChangeType.Local),v.default.menus.closeContextMenu(),y.Z.reset();else if(t.isWriteable)if(t.isViewDates()&&!e.hasAttachmentType(f.Z.PluginType.Calendar)&&e.hasChildren()){var n="Remove Date",a="Delete All";v.default.menus.options("The item you are deleting has children.",[n,a],(function(t){if(t===n){e.setMooDate(void 0,f.Z.ChangeType.Local,!0);var r=e.getParsedText().replace(f.Z.CharDate,"");e.setText(r,f.Z.ChangeType.Local)}else t===a&&e.deleteSelf(f.Z.ChangeType.Local)}))}else this.hasSelection?(E.Z.saveDeleteSelection(),t.deleteSelected()):(e.hasAttachmentType(f.Z.PluginType.Calendar)&&this.deleteCalendar(),e.deleteSelf(f.Z.ChangeType.Local))}},{key:"onClickAddCalendar",value:function(){var e=v.default.pluginManager.getPluginGCalendar(),t=this.item;e&&(e.createEventForItem(t),t.itemChanged.notify())}},{key:"onClickAddDate",value:function(){v.default.menus.openDate({element:this.props.element,item:this.item,pane:this.paneObject.pane,paneObject:this.paneObject})}},{key:"onClickRemoveDate",value:function(){this.deleteCalendar(),this.forAllItems((function(e){return e.setMooDate(void 0,f.Z.ChangeType.Local,!0)}))}},{key:"onClickDeleteCalendar",value:function(){var e=0;this.deleteCalendar();for(var t=0;t<this.items.length;t++){if(e++>5e3&&__infLoop&&__infLoop(e))throw new RangeError;var n=this.items[t];n.getDocumentOwner()||n.deleteSelf(f.Z.ChangeType.Local)}}},{key:"deleteCalendar",value:function(){for(var e=0,t=this.props.pane,n=0,a=function(e,a){n--,a?0===n&&t.updateItems():v.default.toasts.pushMessage({text:"There was an error removing the event from your Google Calendar.",action:f.Z.MessageAction.Okay})},r=0;r<this.items.length;r++){if(e++>5e3&&__infLoop&&__infLoop(e))throw new RangeError;var o=this.items[r];if(o.hasAttachmentType(f.Z.PluginType.Calendar)){var i=o.getAttachmentByPlugin(f.Z.PluginID.GCalendar);try{p.Z.PAssert(291,i,"Must be able to get a valid attachment")}catch(s){p.Z.reportError(s)}try{p.Z.PAssert(292,this.item,"Must have a valid item")}catch(s){p.Z.reportError(s)}var l=i.getPlugin();l.hasWritePermissionForAttach(i)?(n++,y.Z.reset(),l.deleteCalendarEventForItem(o,i,p.Z.newEmptyFn(),p.Z.newEmptyFn(),a)):v.default.toasts.pushMessage(f.Z.MessageID.ReadOnlyCalendar)}}}},{key:"onClickReply",value:function(){this.hasSelection?this.props.pane.replySelected():this.props.pane.openEmailByItem(this.item,f.Z.EmailResponseMode.Reply)}},{key:"onClickReplyAll",value:function(){this.hasSelection?this.props.pane.replyAllSelected():this.props.pane.openEmailByItem(this.item,f.Z.EmailResponseMode.ReplyAll)}},{key:"onClickForward",value:function(){this.hasSelection?this.props.pane.forwardSelected():this.props.pane.openEmailByItem(this.item,f.Z.EmailResponseMode.Forward)}},{key:"onClickRead",value:function(){var e=this.item,t=e.getAttachmentByType(f.Z.PluginType.Email),n=t.getPlugin(),a=n.isItemUnread(e);this.hasSelection?this.props.pane.markReadSelected(a):a?n.performAction(f.Z.PluginAction.Gmail.MarkRead,!1,t):n.performAction(f.Z.PluginAction.Gmail.MarkUnread,!1,t)}},{key:"onClickStarGmail",value:function(){if(this.hasSelection)this.props.pane.toggleStarSelected();else{var e=this.item.getAttachmentByType(f.Z.PluginType.Email),t=e.getPlugin();t.isItemStarred(this.item)?t.performAction(f.Z.PluginAction.Gmail.Unstar,!1,e):t.performAction(f.Z.PluginAction.Gmail.Star,!1,e)}}},{key:"onClickLabel",value:function(){this.props.pane.autocompleteLabel()}},{key:"onClickSchedule",value:function(){this.props.pane.autocompleteSchedule({item:this.item,element:this.props.element})}},{key:"onClickArchiveGmail",value:function(){var e=this.item,t=e.getAttachmentByType(f.Z.PluginType.Email),n=t.getPlugin(),a=n.isItemArchived(e);"PaneGmail"===this.props.pane.type&&this.hasSelection?this.props.pane.archiveSelected(!a):a?n.performAction(f.Z.PluginAction.Gmail.Unarchive,!1,t):n.performAction(f.Z.PluginAction.Gmail.Archive,!1,t)}},{key:"onClickDeleteGmail",value:function(){var e=this.item,t=this.props.pane,n=e.getAttachmentByType(f.Z.PluginType.Email).getPlugin(),a=n.isItemFullTrashed(e);t.type===f.Z.PaneMode.Gmail?this.hasSelection?t.deleteSelected({comparator:n.isGmailItem}):n.isGmailItem(e)&&(this.onClickDeleteCalendar(),e.deleteSelf(f.Z.ChangeType.Local)):a?n.undeleteItem(e):n.deleteItem(e)}},{key:"onClickPrefix",value:function(e){y.Z.applyPrefixToSelection(e,!this.hasSelection&&this.item),v.default.menus.closeContextMenu()}},{key:"onClickShowMDImageText",value:function(e){this.props.pane.search.clearStickyMatches();var t=this.item.getRawText(),n=e.substr(1);t=t.replace(e,n),this.item.setText(t,f.Z.ChangeType.Local)}},{key:"onClickShowDriveImageText",value:function(e){this.props.pane.search.clearStickyMatches();var t=this.item,n=t.getAttachmentByPlugin(f.Z.PluginID.Drive);n.getPlugin().setShowInline(t,n,e)}},{key:"onClickMakeLinkImage",value:function(e){var t=0;this.props.pane.search.clearStickyMatches();var n,a,r=this.item.getRawText();for(f.Z.Regexp.MDLink.lastIndex=0;null!==(n=f.Z.Regexp.MDLink.exec(r));){if(t++>5e3&&__infLoop&&__infLoop(t))throw new RangeError;n[3]===e&&(e=n[0],a="!["+n[2]+"]("+n[3]+(n[4]?n[4]:"")+")")}a||(a=e.startsWith("[")?"!"+e:"!["+e+"]("+e+")"),r=r.replace(e,a),this.item.setText(r,f.Z.ChangeType.Local)}},{key:"onViewInDrive",value:function(){var e=this.item,t=e.getAttachmentByPlugin(f.Z.PluginID.Drive);t.getPlugin().openAttach(t,e,this.props.pane)}},{key:"onClickFixSync",value:function(){p.Z.focusedPane.applyToSelection((function(e){var t=e.getDocumentOwner();t.getBacking().saveItem(t,e,e.getFullSaveData(),f.Z.ChangeType.Local,f.Z.SaveFlag.All)}))}},{key:"renderMenuItemMDImage",value:function(e){var t=e.getAttribute("data-original-text");if(t)return g.createElement(g.Fragment,null,g.createElement(k.Z,{onClick:this.onClickShowMDImageText.bind(this,t)},"Show as text"),g.createElement("hr",null))}},{key:"renderMenuLink",value:function(e){var t=this,n=this.props,a=n.item,r=n.element,o=n.paneObject,i=e.getAttribute("data-text")||e.textContent,l=e.getAttribute("data-href"),s=p.Z.isUrlImage(l);return g.createElement(g.Fragment,null,s&&g.createElement(k.Z,{onClick:function(){t.onClickMakeLinkImage(l)}},"Show Image"),g.createElement(k.Z,{onClick:function(){v.default.menus.openContextMenu({componentName:"ReactContextMenuInsertLink",element:r,onInsertLink:a.onInsertLink,text:i,href:l})}},"Edit link"),g.createElement(k.Z,{onClick:function(){var t=w.Z.getChildNodeOffset(e,!0);y.Z.selectIndex(o.index,t),a.onInsertLink({text:i,href:void 0,isUpdate:!0})}},"Remove link"),g.createElement("hr",null))}},{key:"renderMenuLinkImage",value:function(e){var t=e.getAttribute("data-original-text")||e.getAttribute("data-href")||e.textContent;return g.createElement(g.Fragment,null,g.createElement(k.Z,{onClick:this.onClickMakeLinkImage.bind(this,t)},"Show as image"),g.createElement("hr",null))}},{key:"renderMenuDate",value:function(){return g.createElement("span",null,g.createElement(k.Z,{icon:"icon-calendar",hotkey:{name:"AddToCalendar"},onClick:this.onClickAddCalendar},"Add to Google Calendar"))}},{key:"renderMenuNote",value:function(){return g.createElement("span",null,g.createElement(k.Z,{icon:"icon-edit",hotkey:{name:"EditNote"},onClick:this.onClickNote},"Edit"),g.createElement(k.Z,{icon:"icon-delete",onClick:this.onClickDelete,clickCloses:!1},"Delete"))}},{key:"renderMenuDefault",value:function(){var e,t,n,a=this.props.pane,r=this.item,o=this.priMod,i=a.isViewCalendar(),l=!i,s=a.supportIndent&&!r.isNote()&&0!==r.getIndex()&&!a.isViewFlatList(),c=a.supportIndent&&!r.isNote()&&r.parent()!==p.Z.focusedItem&&!a.isViewFlatList(),u=v.default.pluginManager.getPluginGCalendar(),d=!!r.getMooDate();if(r.getDate()&&(e=g.createElement(k.Z,{icon:"icon-today",onClick:this.onClickRemoveDate},"Remove date"),u))if(r.hasAttachmentType(f.Z.PluginType.Calendar)){var m=r.getAttachmentByType(f.Z.PluginType.Calendar);t=g.createElement(k.Z,{icon:"icon-delete",disabled:!u.hasWritePermissionForAttach(m),onClick:this.onClickDeleteCalendar},"Remove from Google Calendar")}else t=g.createElement(k.Z,{icon:"icon-calendar",hotkey:l&&{name:"AddToCalendar"},onClick:this.onClickAddCalendar},"Add to Google Calendar");if(r.hasAttachmentType(f.Z.PluginType.Email)){var h=r.getAttachmentByType(f.Z.PluginType.Email),y=h.getPlugin();if(!h.getPlugin().shouldUseNewPlugin(h)){var E=y.isItemArchived(r),C=y.isItemFullTrashed(r);n=g.createElement(g.Fragment,null,g.createElement("hr",null),g.createElement(k.Z,{disabled:C,icon:"icon-task",onClick:this.onClickArchiveGmail},"".concat(E?"Unarchive":"Archive"," email")),g.createElement(k.Z,{icon:"icon-delete",onClick:this.onClickDeleteGmail},"".concat(C?"Undelete":"Delete"," email")))}}return g.createElement(g.Fragment,null,g.createElement(k.Z,{icon:"icon-check",hotkey:l&&{name:"Complete"},onClick:this.onClickComplete},r.isComplete()?"Uncomplete":"Complete"),g.createElement(k.Z,{icon:"icon-zoom-in",hotkey:l&&{name:"ZoomIn"},onClick:this.onClickZoom},"Zoom In"),g.createElement(k.Z,{icon:"icon-star",hotkey:l&&{name:"Star"},onClick:this.onClickStar},r.isStarred()?"Unstar":"Star"),g.createElement(_.Z,{hotkey:l&&o+" + #",border:!1},"Priority"),g.createElement("div",{className:"horizontalMenu"},g.createElement(A.Z,{className:"c-border-heavy",id:"itemPriorityHigh",width:24,height:24,tooltipHotkey:l&&{name:"Priority1"},onClick:this.onClickPriority.bind(this,f.Z.VMLIFlag.P0)}),g.createElement(A.Z,{className:"c-border-heavy",id:"itemPriorityMed",width:24,height:24,tooltipHotkey:l&&{name:"Priority2"},onClick:this.onClickPriority.bind(this,f.Z.VMLIFlag.P1)}),g.createElement(A.Z,{className:"c-border-heavy",id:"itemPriorityLow",width:24,height:24,tooltipHotkey:l&&{name:"Priority3"},onClick:this.onClickPriority.bind(this,f.Z.VMLIFlag.P2)}),g.createElement(A.Z,{className:"c-border-heavy",id:"itemPriorityNone",width:24,height:24,tooltipHotkey:l&&{name:"PriorityNone"},onClick:this.onClickPriority.bind(this,f.Z.VMLIFlag.None)})),g.createElement(_.Z,{border:!1},"Item Type"),g.createElement("div",{className:"horizontalMenu"},g.createElement(A.Z,{className:"c-border-heavy",iconSize:14,width:24,height:24,tooltip:"None",onClick:this.onClickPrefix.bind(this,null)}),g.createElement(A.Z,{className:"c-border-heavy",icon:"icon-project",iconSize:18,width:24,height:24,tooltip:"Project",onClick:this.onClickPrefix.bind(this,f.Z.Prefix.Header)}),g.createElement(A.Z,{className:"c-border-heavy",icon:"icon-check",iconSize:15,width:24,height:24,tooltip:"Task",onClick:this.onClickPrefix.bind(this,f.Z.Prefix.Task)}),g.createElement(A.Z,{className:"c-border-heavy",icon:"icon-bullet",iconSize:22,width:24,height:24,tooltip:"Bullet",onClick:this.onClickPrefix.bind(this,f.Z.Prefix.Bullet)}),g.createElement(A.Z,{className:"c-border-heavy",icon:"icon-numlist",iconSize:13,width:24,height:24,tooltip:"Numbered List",onClick:this.onClickPrefix.bind(this,f.Z.Prefix.NumList)})),(e||t)&&g.createElement(g.Fragment,null,g.createElement("hr",null),e,t),g.createElement("hr",null),s&&g.createElement(k.Z,{icon:"icon-format_indent_increase",hotkey:{name:"Indent"},onClick:this.onClickIndent.bind(this,!1)},"Indent"),c&&g.createElement(k.Z,{icon:"icon-format_indent_decrease",hotkey:{name:"Unindent"},onClick:this.onClickIndent.bind(this,!0)},"Unindent"),!i&&g.createElement(k.Z,{iconNew:"MdOpenInNew",hotkey:{name:"MoveAutocomplete"},onClick:this.onClickMove},"Move / Copy / Link / Mirror"),g.createElement("hr",null),!i&&g.createElement(k.Z,{icon:"icon-sticky-note-o",hotkey:{name:"EditNote"},onClick:this.onClickNote},"Add Note"),!d&&g.createElement(k.Z,{icon:"icon-calendar",hotkey:{name:"Date"},onClick:this.onClickAddDate},"Add Date"),g.createElement(k.Z,{icon:"icon-zoom-in-plus",onClick:this.onClickZoomNewPane},"Open in New Pane"),g.createElement(k.Z,{icon:"icon-format_list_bulleted",onClick:this.onClickZoomNewOutlinePane},"Open in New Outline Pane"),g.createElement(k.Z,{icon:"icon-keyboard-tab",hotkey:{name:"HighlightInAllPanes"},onClick:this.onClickHighlight},"Highlight in all panes"),n,g.createElement("hr",null),r.getDocumentOwner()&&g.createElement(k.Z,{icon:"icon-task",onClick:this.onClickArchive},"Archive Item"),g.createElement(k.Z,{icon:"icon-delete",hotkey:{name:"DeleteItem"},onClick:this.onClickDelete},"Delete"),this.props.showExtra&&g.createElement(g.Fragment,null,g.createElement("hr",null),g.createElement(k.Z,{icon:"icon-link",onClick:this.onClickFixSync},"Fix Sync")),g.createElement(k.Z,{className:"mt-2 mb-1 text-xs",hoverEffects:!1,faded:!0,customLayout:!0,style:{lineHeight:1.35}},g.createElement("div",{className:"flex"},g.createElement("b",{className:"f1"},"Created"),g.createElement("div",null,b.Z.toHumanText(r.dateCreated))),g.createElement("div",{className:"flex"},g.createElement("b",{className:"f1"},"Modified"),g.createElement("div",null,b.Z.toHumanText(r.dateModified))),r.isComplete()&&r.dateCompleted&&g.createElement("div",{className:"flex"},g.createElement("b",{className:"f1"},"Completed"),g.createElement("div",null,b.Z.toHumanText(r.dateCompleted)))))}},{key:"renderMenuArchived",value:function(){return g.createElement(g.Fragment,null,g.createElement(k.Z,{icon:"icon-task",onClick:this.onClickUnarchive},"Unarchive"),g.createElement(k.Z,{icon:"icon-delete",onClick:this.onClickDelete},"Delete"))}},{key:"renderMenuDeleted",value:function(){return g.createElement(k.Z,{icon:"icon-task",onClick:this.onClickUndelete},"Undelete")}},{key:"renderMenuDrive",value:function(){var e=this.props.pane,t=this.item,n=this.paneObject.isCollapsed(),a=e.supportCollapsing&&(t.isHeader()||t.hasChildren()),r=t.isHeader()||t.hasChildren(),o=t.getAttachmentByPlugin(f.Z.PluginID.Drive),i=o.getPlugin().isImage(o),l=o.getField("showInline");return g.createElement(g.Fragment,null,!e.plugin&&i&&g.createElement(k.Z,{onClick:this.onClickShowDriveImageText.bind(this,!l)},"Show as "+(l?"text":"image")),e.plugin&&g.createElement(k.Z,{disabled:!a,icon:n?"icon-add":"icon-minus",hotkey:{name:"Collapse"},onClick:this.onClickCollapse},n?"Expand":"Collapse"),e.plugin&&g.createElement(k.Z,{disabled:!r,icon:"icon-zoom-in",hotkey:{name:"ZoomIn"},onClick:this.onClickZoom},"Zoom In"),g.createElement(k.Z,{onClick:this.onViewInDrive},"View in Drive"),!e.plugin&&g.createElement("hr",null))}},{key:"renderMenuGmail",value:function(e){var t=this.item,n=this.mod,a="PaneGmail"===this.props.pane.type,r=e.getPlugin(),o=r.isItemUnread(t),i=r.isItemStarred(t),l=r.isItemArchived(t),s=r.isItemFullTrashed(t),c=g.createElement(g.Fragment,null,g.createElement(k.Z,{icon:"icon-reply",hotkey:a&&{name:"Reply",group:"Legacy Email"},onClick:this.onClickReply},"Reply"),g.createElement(k.Z,{icon:"icon-reply-all",hotkey:a&&{name:"ReplyAll",group:"Legacy Email"},onClick:this.onClickReplyAll},"Reply All"),g.createElement(k.Z,{icon:"icon-forward",hotkey:a&&{name:"Forward",group:"Legacy Email"},onClick:this.onClickForward},"Forward"),g.createElement("hr",null));return g.createElement(g.Fragment,null,c,a&&g.createElement(g.Fragment,null,g.createElement(k.Z,{icon:o?"icon-drafts":"icon-unread",iconSize:14,hotkey:o?void 0:{name:"MarkUnread",group:"Legacy Email"},onClick:this.onClickRead},o?"Mark as read":"Mark as unread"),g.createElement(k.Z,{icon:"icon-star",hotkey:{name:"Star",group:a?"Email":"Pane"},onClick:this.onClickStarGmail},i?"Unstar":"Star"),g.createElement("hr",null),g.createElement(k.Z,{className:"mat-subheader",hotkey:{name:n+" + #"}},"Priority"),g.createElement("div",{id:"contextMenuPriority",className:"horizontalMenu"},g.createElement(A.Z,{className:"c-border-heavy",id:"itemPriorityNone",onClick:this.onClickPriority.bind(this,f.Z.VMLIFlag.None)}),g.createElement(A.Z,{className:"c-border-heavy",id:"itemPriorityLow",onClick:this.onClickPriority.bind(this,f.Z.VMLIFlag.P2)}),g.createElement(A.Z,{className:"c-border-heavy",id:"itemPriorityMed",onClick:this.onClickPriority.bind(this,f.Z.VMLIFlag.P1)}),g.createElement(A.Z,{className:"c-border-heavy",id:"itemPriorityHigh",onClick:this.onClickPriority.bind(this,f.Z.VMLIFlag.P0)})),g.createElement("hr",null),g.createElement(k.Z,{icon:"icon-tag",hotkey:{name:"Label",group:"Legacy Email"},onClick:this.onClickLabel},"Label"),g.createElement(k.Z,{icon:"icon-check",hotkey:{name:"Task",group:"Legacy Email"},onClick:this.onClickCreateTask},"Create Task"),g.createElement(k.Z,{icon:"icon-align-left",hotkey:{name:"Move",group:"Legacy Email"},onClick:this.onClickMove},"Add to Outline"),g.createElement(k.Z,{icon:"icon-calendar",hotkey:{name:"Schedule",group:"Legacy Email"},onClick:this.onClickSchedule},"Add To Calendar"),g.createElement("hr",null),g.createElement(k.Z,{disabled:s,icon:"icon-task",hotkey:{name:"Archive",group:"Legacy Email"},onClick:this.onClickArchiveGmail},l?"Unarchive":"Archive"),g.createElement(k.Z,{icon:"icon-delete",hotkey:{name:"Delete",group:"Legacy Email"},onClick:this.onClickDeleteGmail},s?"Undelete":"Delete")))}},{key:"render",value:function(){var e,t,n=this.props,a=n.pane,r=this.item,o=n.element,i=p.Z.getPluginForElement(o);if(i){var l=p.Z.hasClass(i,"plugin_drive")&&f.Z.PluginID.Drive||p.Z.hasClass(i,"plugin_gmail")&&f.Z.PluginID.Gmail||p.Z.hasClass(i,"syncedToCalendar")&&f.Z.PluginID.GCalendar||"";if(l&&r.hasPluginAttachment(l)){var s=r.getAttachmentByPlugin(l);if(!s.getPlugin().shouldUseNewPlugin(s)){switch(l){case f.Z.PluginID.Drive:t=this.renderMenuDrive();break;case f.Z.PluginID.Gmail:t=this.renderMenuGmail(r.getAttachmentByPlugin(l))}a.plugin||(e=t,t=void 0)}}}else p.Z.hasClass(o,"link")?e=this.renderMenuLink(o):p.Z.hasClass(o.parentElement,"link")?e=this.renderMenuLink(o.parentElement):p.Z.hasClass(o,"linkImage")?e=this.renderMenuLinkImage(o):p.Z.hasClass(o,"mdImage")?e=this.renderMenuItemMDImage(o):p.Z.hasClass(o,"driveImage")?e=this.renderMenuDrive():r.isNote()&&(t=this.renderMenuNote());if(!t){var c=a.getContextMenuMode();switch(c){case"Normal":t=this.renderMenuDefault();break;case"Archived":t=this.renderMenuArchived();break;case"Deleted":t=this.renderMenuDeleted();break;case"Gmail":t=this.renderMenuGmail(r.getAttachmentByPlugin(f.Z.PluginID.Gmail));break;case"Drive":t=this.renderMenuDrive();break;default:try{p.Z.PAssert(293,!1,"Unknown context menu mdoe: "+c)}catch(u){p.Z.reportError(u)}}}return g.createElement(C.Z,{id:"contextMenuItem",element:n.element,supportArrows:!0,pos:n.pos,noBackdrop:n.noBackdrop},e,t)}}]),n}(x.a)},49955:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var a=n(67154),r=n.n(a),o=n(63038),i=n.n(o),l=n(6479),s=n.n(l),c=n(87452),u=n(19955),d=n(86407),m=n(72475),f=n(48606),p=n(6740),h=["title","items","onSelect"];const g=(0,m.Z)((function(e){var t=e.title,n=e.items,a=e.onSelect,o=s()(e,h),l=(0,u.useState)(-1),m=i()(l,2),g=m[0],y=m[1];return u.createElement(d.Z,r()({},o,{key:"contextMenuItemList",id:"contextMenuItemList",name:"ReactContextMenuItemList",focusTrap:!0,supportArrows:!0,width:400,onSelectedIndexChanged:function(e){y(e)}}),t&&u.createElement("div",{className:"px-3 pb-2 font-medium text-14"},t),n.map((function(e,t){return u.createElement(f.Z,{key:e.id,className:c.Z.classNames({"selected leading-normal c-bg-dark":g===t}),onClick:(n=e,function(){return a(n)})},u.createElement(p.Z,{item:e,numberOfLines:4,selected:g===t,displayParents:!0,className:"py-3 leading-normal borderBox"}));var n})))}))},2553:(e,t,n)=>{n.r(t),n.d(t,{default:()=>p});var a=n(67154),r=n.n(a),o=n(6479),i=n.n(o),l=n(87452),s=n(19955),c=n(86407),u=n(72475),d=n(17027),m=n(48606),f=["title","options","onSelect","selected"];const p=(0,u.Z)((function(e){var t=e.title,n=e.options,a=e.onSelect,o=e.selected,u=i()(e,f);return s.createElement(c.Z,r()({key:"contextMenuList",id:"contextMenuList",supportArrows:!0},u),t&&s.createElement(d.Z,null,t),n.map((function(e,t){return"header"in e?s.createElement(d.Z,{key:e.header},e.header):"hr"===e.id?s.createElement("hr",{key:t}):s.createElement(m.Z,{key:e.id,selected:e.id===o,className:l.Z.classNames(e.id===o&&"font-bold"),onClick:(n=e,function(){a(n)})},e.value);var n})))}))},32818:(e,t,n)=>{n.r(t),n.d(t,{default:()=>C});var a=n(67154),r=n.n(a),o=n(63038),i=n.n(o),l=n(30046),s=n(35848),c=n(87452),u=n(89088),d=n(19955),m=n(61811),f=n(26975),p=n(86407),h=n(48606),g=n(14424),y=n(19270),v=n(72475),E=n(4253),A=n(145);const C=(0,v.Z)((function(e){var t,n=(0,d.useState)(!1),a=i()(n,2),o=a[0],v=a[1],C=(0,d.useState)(),_=i()(C,2),k=_[0],b=_[1],x=(0,E.Z)(m.default.settings.lastSync,m.default.AppCache.hasUpdate,m.default.AppCache.isUpdating,l.Z.erroredAuthTokens,m.default.settings.syncAccounts,l.Z.onAccountsUpdated),w=i()(x,5),D=w[0],Z=w[1],B=w[2],M=w[3],N=w[4],P=g.Z.getLastBackup(),S="serviceWorker"in navigator,I=u.Z.isNearStorageQuota,T=parseFloat(m.default.pluginManager.getCacheSizeRatio())<.6,O=I||T||!S,R=+s.Z.jsVersion,L="".concat(R,": ").concat(new Date(R).toString("MMMM d, h:mm tt")),F=D>0?new Date(D).toString(m.default.International.getFormat(s.Z.DFormat.LongDayTime)):"Not synced";if(o)t="Backing up...";else if(P>0){var U=new Date(P);t=y.Z.toHumanText(U)}else t="Not backed up";var W=function(e){return function(){l.Z.fixAuth(e)}};return d.createElement(p.Z,r()({},e,{minWidth:250,key:"contextMenuOnlineStatus",id:"contextMenuOnlineStatus"}),d.createElement(h.Z,{className:"onlineStatusHeader"},"Last Synced Change"),d.createElement(h.Z,null,F),d.createElement("hr",null),d.createElement(h.Z,{className:"onlineStatusHeader",height:36},"Last Backup",d.createElement(f.Z,{primary:!0,onClick:function(){v(!0),g.Z.backupAll().then((function(){return v(!1)}))}},"Backup now")),d.createElement(h.Z,null,t),O&&d.createElement("div",null,d.createElement("hr",null),d.createElement(h.Z,{className:"onlineStatusHeader"},"Warnings"),!S&&d.createElement(h.Z,{clickCloses:!1,tooltip:"Learn More"},"Your browser does not support offline access"),I&&d.createElement(h.Z,{clickCloses:!1,tooltip:"Learn More",onClick:function(){m.default.toasts.pushMessage({text:"Your computer's offline storage quota is almost exceeded. Please try freeing space on your device, running out will cause offline access to not work.",action:s.Z.MessageAction.Okay})}},"Nearly out of disk space"),false,T&&d.createElement(h.Z,{clickCloses:!1,tooltip:"Learn More",onClick:function(){m.default.toasts.pushMessage({text:"Due to low disk space your cache size was restricted. View your General Settings to reset your cache size.",action:s.Z.MessageAction.OpenGeneralSettings})}},"Your data is not efficiently being cached")),M&&!c.Z.isEmpty(M)&&d.createElement(d.Fragment,null,d.createElement("hr",null),d.createElement(h.Z,{className:"onlineStatusHeader"},"Sync accounts"),Object.keys(N).map((function(e){return d.createElement(h.Z,{key:e,icon:"",onClick:W(e)},d.createElement("div",{className:"flex items-center flex-1"},d.createElement("div",{className:"flex-1"},e),M[e]?d.createElement(A.J,{name:"MdWarning",className:"p-1 rounded-md c-warning"}):d.createElement("div",{className:"c-foreground-faded"},"OK")))}))),d.createElement("hr",null),d.createElement(h.Z,{className:"onlineStatusHeader",height:36},"App version",k&&!Z?d.createElement("div",{style:{paddingLeft:48}},k):d.createElement(f.Z,{primary:!0,onClick:function(e,t){Z?m.default.AppCache.skipWaiting():m.default.AppCache.update((function(e){b(e?"Installing...":"Up to date")}))}},B?"Updating...":Z?"Update":"Check for updates")),u.Z.isBeta&&d.createElement(h.Z,null,"Beta"),d.createElement(h.Z,null,L))}))},83202:(e,t,n)=>{n.r(t),n.d(t,{default:()=>b});var a=n(67154),r=n.n(a),o=n(34575),i=n.n(o),l=n(93913),s=n.n(l),c=n(2205),u=n.n(c),d=n(78585),m=n.n(d),f=n(29754),p=n.n(f),h=n(48978),g=n(35848),y=n(87452),v=n(89088),E=n(19955),A=n(61811),C=n(86407),_=n(48606);function k(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=p()(e);if(t){var r=p()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return m()(this,n)}}const b=function(e){u()(n,e);var t=k(n);function n(){return i()(this,n),t.apply(this,arguments)}return s()(n,[{key:"onClickSettings",value:function(){A.default.menus.openSettings()}},{key:"onClickDisplaySettings",value:function(){A.default.menus.openDisplaySettings()}},{key:"onClickImport",value:function(){A.default.menus.openModal(g.Z.Modals.ImportData)}},{key:"onClickExport",value:function(){A.default.menus.openModal(g.Z.Modals.ExportData)}},{key:"onClickVersion",value:function(){A.default.menus.openModal(g.Z.Modals.Backups)}},{key:"onClickFeedback",value:function(){A.default.menus.openModal(g.Z.Modals.ReportBug)}},{key:"onClickBlog",value:function(){A.default.openUrl("https://www.moo.do/blog/")}},{key:"onClickLogout",value:function(){A.default.setup.logoutClicked()}},{key:"onClickDownloadApp",value:function(){A.default.openUrl(v.Z.getAppDownloadURL())}},{key:"onClickTrial",value:function(){A.default.menus.openSettings("Moo.do Account")}},{key:"onClickHelp",value:function(){A.default.intro.showHelp()}},{key:"onClickHotkeys",value:function(){A.default.intro.showHotkeys()}},{key:"render",value:function(){var e=A.default.billingManager,t=h.Z.getAccountName(),n=e.isTrialState()&&!A.default.settings.trialOverHidden.get(),a=e.isTrialOver(),o=!y.Z.isDemoMode(),i=e.daysLeftInTrial.get();return E.createElement(C.Z,r()({},this.props,{key:"contextMenuOptions",id:"contextMenuOptions",supportArrows:!0}),E.createElement(_.Z,{onClick:this.onClickSettings},"Settings"),E.createElement(_.Z,{onClick:this.onClickDisplaySettings},"Display Settings"),E.createElement("hr",null),E.createElement(_.Z,{onClick:this.onClickHelp},"Help"),E.createElement(_.Z,{onClick:this.onClickHotkeys},"Hotkeys"),E.createElement("hr",null),E.createElement(_.Z,{onClick:this.onClickImport},"Import Data"),E.createElement(_.Z,{onClick:this.onClickExport},"Export Data"),o&&E.createElement(_.Z,{onClick:this.onClickVersion},"Version History"),E.createElement("hr",null),o&&E.createElement(_.Z,{onClick:this.onClickFeedback},"Contact Support"),E.createElement(_.Z,{onClick:this.onClickBlog},"Moo.do Blog"),v.Z.canDownloadNativeApp()&&E.createElement(_.Z,{onClick:this.onClickDownloadApp},"Get "+v.Z.getPlatformName()+" app"),E.createElement("hr",null),n&&E.createElement(_.Z,{className:a?"error":"",onClick:this.onClickTrial},a?"Trial over":"Trial: "+i+" days"),E.createElement(_.Z,{onClick:this.onClickLogout},"Logout"),E.createElement(_.Z,{className:"username",faded:!0,hoverEffects:!1},t),E.createElement(_.Z,{className:"useremail",faded:!0,hoverEffects:!1},A.default.settings.getUserIdentifier()))}}]),n}(n(88194).a)},43590:(e,t,n)=>{n.r(t),n.d(t,{default:()=>l});var a=n(19955),r=n(76611),o=n(86407),i=n(48606);const l=(0,n(72475).Z)((function(e){var t=e.item,n=e.pane,l=e.element,s=e.scrollToItem;return a.createElement(o.Z,{key:"contextMenuOverviewOptions",id:"contextMenuOverviewOptions",element:l},a.createElement(i.Z,{icon:"icon-zoom-in",onClick:function(){n.canZoomToItem(t)&&(r.Z.setFocusedPane(n),n.zoomIn(t))}},"Zoom In"),a.createElement(i.Z,{icon:"icon-unfold_less",onClick:function(){return s()}},"Scroll to item"),a.createElement(i.Z,{icon:"icon-add",onClick:function(){n.zoomIn(t),n.addProject()}},"Add subproject"))}))},58517:(e,t,n)=>{n.r(t),n.d(t,{default:()=>y});var a=n(67154),r=n.n(a),o=n(6479),i=n.n(o),l=n(87452),s=n(19955),c=n(61811),u=n(35731),d=n(72475);const m=function(e,t){var n=(0,s.useRef)();n.current||(n.current=null===e||void 0===e?void 0:e.listen(t)),(0,s.useEffect)((function(){return function(){var e;null===(e=n.current)||void 0===e||e.dispose(),n.current=void 0}}),[])};var f=n(26975),p=n(86407),h=n(82339),g=["pane","componentName","isAddPane"];const y=(0,d.Z)((function(e){var t=e.pane,n=e.componentName,a=e.isAddPane,o=i()(e,g),d=s.useRef(),y=function(){c.default.menus.isContextMenuOpen(n)&&c.default.menus.closeContextMenu(n)};t&&m(t.onDestroyed,y);var v=function(){if(a){var e=d.current.getCreationProps(),t=e.pane,n=e.type;n?c.default.PaneManager.addPaneByButton(n):(t.setDocument(u.Z.getDefaultDocument(),{forLoad:!0}),c.default.PaneManager.addPaneAtIndex(t)),c.default.onIntroAction("AddPane"),l.Z.sendEvent("Menu","AddPane_"+n)}y()};return s.createElement(p.Z,r()({},o,{id:"contextMenuPaneView",key:"contextMenuPaneView"+a,maxWidth:500,minWidth:0}),s.createElement(h.Z,{pane:t,isAddPane:a,supportHotkeys:!0,onSelected:v,ref:d}),a&&s.createElement("div",{className:"center"},s.createElement(f.Z,{className:"addButton",raised:!0,primary:!0,width:240,onClick:v},"Add Pane (Enter)")))}))},34434:(e,t,n)=>{n.r(t),n.d(t,{default:()=>B});var a=n(67154),r=n.n(a),o=n(34575),i=n.n(o),l=n(93913),s=n.n(l),c=n(2205),u=n.n(c),d=n(78585),m=n.n(d),f=n(29754),p=n.n(f),h=n(35848),g=n(87452),y=n(19955),v=n(61811),E=n(23582),A=n(88194),C=n(9346),_=n(26975),k=n(86407),b=n(17027),x=n(18273);function w(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=p()(e);if(t){var r=p()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return m()(this,n)}}const D=function(e){u()(n,e);var t=w(n);function n(){return i()(this,n),t.apply(this,arguments)}return s()(n,[{key:"init",value:function(){this.DISABLE_LISTENER_ASSERT=!0}},{key:"getState",value:function(e){for(var t=0,n=e.pane,a=n.search,r={hasFilter:!1,showHelp:v.default.settings.shouldShowHelp("searchHelp"),viewState:n.viewState,viewMode:n.getViewMode(),sortModeBlocks:n.supportsSortBlocks()&&n.getSortModeBlocks(),sortModeItems:n.supportsSortItems()&&n.getSortModeItems(),calendars:C.Z.GCalendarsAvailable,displayCalendars:n.displayCalendars,displayLocalItems:n.displayLocalItems,closedHelps:v.default.settings.closedHelps},o=0;o<a.filters.length;o++){if(t++>5e3&&__infLoop&&__infLoop(t))throw new RangeError;var i=a.filters[o];r[i.name]=i.value,r[i.name+"Enabled"]=i.enabled,0!==i.value.get()&&(r.hasFilter=!0)}return r}},{key:"onMount",value:function(){this.listenTo(this.props.pane.search.onChanged)}},{key:"componentWillReceiveProps",value:function(e){e.pane!==this.props.pane&&(this.refreshListeners(e),this.updateState(e))}},{key:"onClickSelectCalendars",value:function(e){v.default.menus.openContextMenu({componentName:"ReactContextMenuCalendars",element:e.target,pane:this.props.pane})}},{key:"saveScrollOfTop",value:function(){this.props.pane}},{key:"onToggleButton",value:function(e){this.saveScrollOfTop(),this.props.pane.search.toggleFilter(e)}},{key:"setPriority",value:function(e){this.saveScrollOfTop();var t=this.props.pane.search;t.getFilterValue("priority")===e&&(e=0),t.setFilter("priority",e)}},{key:"onClickCloseHelp",value:function(){v.default.settings.closeHelp("searchHelp")}},{key:"onClickShowHelp",value:function(){v.default.settings.uncloseHelp("searchHelp")}},{key:"renderSearchButton",value:function(e){var t=this.props.pane,n="showOnlyMatches"===e.name&&t.isViewFlatList()?1:e.value.get();return y.createElement(x.Z,{key:e.name,filter:e,filterValue:n,search:t.search,hasBorder:!0})}},{key:"renderSearchPriority",value:function(){var e=this.props.pane.search.filter_priority.value.get(),t=g.Z.classNames("searchPriorities c-border-light",{"noScale mobutton":!1},{hasSelected:!!e}),n=g.Z.classNames("searchPriority",{"noScale mobutton":!1}),a=g.Z.classNames(n,"searchP0",{selected:e===h.Z.VMLIFlag.P0}),r=g.Z.classNames(n,"searchP1",{selected:e===h.Z.VMLIFlag.P1}),o=g.Z.classNames(n,"searchP2",{selected:e===h.Z.VMLIFlag.P2});return y.createElement("span",{key:"priority",className:t},y.createElement("span",{className:a,"data-tooltip":"Show only high priority",onClick:this.setPriority.bind(this,h.Z.VMLIFlag.P0)}),y.createElement("span",{className:r,"data-tooltip":"Show medium priority and higher",onClick:this.setPriority.bind(this,h.Z.VMLIFlag.P1)}),y.createElement("span",{className:o,"data-tooltip":"Show low priority and higher",onClick:this.setPriority.bind(this,h.Z.VMLIFlag.P2)}))}},{key:"render",value:function(){for(var e=0,t=this.state,n=this.props.pane,a=n.search,r=t.showHelp,o=[],i=[],l=g.Z.classNames("filterSection flexbox",{showHelp:r}),s=0;s<a.filters.length;s++){if(e++>5e3&&__infLoop&&__infLoop(e))throw new RangeError;var c=a.filters[s];c.enabled.get()&&(c.isOption?c.hideInView||i.push(this.renderSearchButton(c)):c.icon?o.push(this.renderSearchButton(c)):"priority"===c.name&&o.push(this.renderSearchPriority()))}if(n.isViewDates()){var u=n.isCalFilterActive(),d=g.Z.classNames("buttonCalendars searchButton icon-calendar c-border-light c-button",{selected:u});i.push(y.createElement("div",{key:"calendars",className:d,onClick:this.onClickSelectCalendars,"data-tooltip":"Select calendars to display in this pane"}))}return y.createElement("div",{className:l},o.length>0&&y.createElement("div",null,y.createElement("div",{className:"searchFilters c-border-light"},o)),i.length>0&&y.createElement("div",null,y.createElement("div",{className:"searchFilters c-border-light"},i)))}}]),n}(A.a);function Z(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=p()(e);if(t){var r=p()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return m()(this,n)}}const B=function(e){u()(n,e);var t=Z(n);function n(){return i()(this,n),t.apply(this,arguments)}return s()(n,[{key:"getState",value:function(){var e=0,t=this.props.pane,n=t.search,a={closedHelps:v.default.settings.closedHelps,hasFilter:!1,matches:E.Z.matches,showHelp:v.default.settings.shouldShowHelp("searchHelp"),viewState:t.viewState,viewMode:t.getViewMode()};t.isViewDates()&&(a.calendars=C.Z.GCalendarsAvailable,a.displayCalendars=t.displayCalendars,a.displayLocalItems=t.displayLocalItems);for(var r=0;r<n.filters.length;r++){if(e++>5e3&&__infLoop&&__infLoop(e))throw new RangeError;var o=n.filters[r];a[o.name]=o.value,a[o.name+"Enabled"]=o.enabled,0!==o.value.get()&&(a.hasFilter=!0)}return a}},{key:"onMount",value:function(){this.listenTo(this.props.pane.search.onChanged),this.props.pane.onDestroyed.listen(this.close)}},{key:"onUnmount",value:function(){E.Z.onClosed(),this.props.pane.onDestroyed.unlisten(this.close)}},{key:"close",value:function(){v.default.menus.isContextMenuOpen("ReactContextMenuSearch")&&v.default.menus.closeContextMenu("ReactContextMenuSearch")}},{key:"onSettingChanged",value:function(){this.updateState()}},{key:"onClickSelectCalendars",value:function(e){v.default.menus.openContextMenu({componentName:"ReactContextMenuCalendars",element:e.target,pane:this.props.pane})}},{key:"saveScrollOfTop",value:function(){this.props.pane}},{key:"onToggleButton",value:function(e){this.saveScrollOfTop(),this.props.pane.search.toggleFilter(e)}},{key:"setPriority",value:function(e){this.saveScrollOfTop();var t=this.props.pane.search;t.getFilterValue("priority")===e&&(e=0),t.setFilter("priority",e)}},{key:"onClickToggleHelp",value:function(){this.state.showHelp?v.default.settings.closeHelp("searchHelp"):v.default.settings.uncloseHelp("searchHelp")}},{key:"renderSearchButton",value:function(e){var t=this.props.pane;return y.createElement(x.Z,{key:e.name,filter:e,filterValue:e.value.get(),search:t.search,hasBorder:!0})}},{key:"renderSearchPriority",value:function(){var e=this.props.pane.search.filter_priority.value.get(),t=g.Z.classNames("searchPriorities",{hasSelected:!!e}),n=g.Z.classNames("searchPriority searchP0",{selected:e===h.Z.VMLIFlag.P0}),a=g.Z.classNames("searchPriority searchP1",{selected:e===h.Z.VMLIFlag.P1}),r=g.Z.classNames("searchPriority searchP2",{selected:e===h.Z.VMLIFlag.P2});return y.createElement("span",{key:"priority",className:t},y.createElement("span",{className:n,"data-tooltip":"Show only high priority",onClick:this.setPriority.bind(this,h.Z.VMLIFlag.P0)}),y.createElement("span",{className:a,"data-tooltip":"Show medium priority and higher",onClick:this.setPriority.bind(this,h.Z.VMLIFlag.P1)}),y.createElement("span",{className:r,"data-tooltip":"Show low priority and higher",onClick:this.setPriority.bind(this,h.Z.VMLIFlag.P2)}))}},{key:"render",value:function(){for(var e=0,t=this.props,n=this.props.pane,a=this.state,o=n.search,i=[],l=[],s=0;s<o.filters.length;s++){if(e++>5e3&&__infLoop&&__infLoop(e))throw new RangeError;var c=o.filters[s];c.enabled.get()&&(c.isOption?l.push(this.renderSearchButton(c)):c.icon?i.push(this.renderSearchButton(c)):"priority"===c.name&&i.push(this.renderSearchPriority()))}if(n.isViewDates()){var u=n.isCalFilterActive(),d=g.Z.classNames("buttonCalendars",{selected:u});l.push(y.createElement(_.Z,{key:"calendars",height:h.Z.SearchHeight,className:d,onClick:this.onClickSelectCalendars,padding:8,tooltip:"Select calendars to display in this pane"},"Calendars"))}return y.createElement("div",null,y.createElement(k.Z,r()({},t,{key:"contextMenuSearch"+n.id,id:"contextMenuSearch",maxHeight:400,element:t.element}),0===a.matches.length&&y.createElement("div",{className:"flexbox"},!1!==t.showFilters&&y.createElement(D,{pane:n}),y.createElement("div",{className:"f1"}),y.createElement(_.Z,{className:"searchHelpButton",icon:"icon-question",iconSize:12,width:32,height:32,color:a.showHelp?h.Z.ColorBrand:void 0,onClick:this.onClickToggleHelp}))),a.showHelp&&y.createElement(k.Z,r()({},t,{key:"contextMenuSearchHelp"+n.id,id:"contextMenuSearchHelp",maxHeight:500,element:t.element,positionOffset:{top:40}}),y.createElement("div",{className:"rel"},y.createElement(b.Z,null,"Hints"),y.createElement(_.Z,{className:"searchHintsClose",icon:"icon-close",iconSize:14,width:36,height:28,onClick:this.onClickToggleHelp}),y.createElement("div",{className:"searchHints c-foreground-light"},y.createElement("div",null,y.createElement("span",null,"-",y.createElement("b",null,"word")),"hide items including ",y.createElement("b",null,"word")),y.createElement("div",null,y.createElement("span",null,y.createElement("b",null,"a")," or ",y.createElement("b",null,"b")),"show items matching ",y.createElement("b",null,"a")," or ",y.createElement("b",null,"b")),y.createElement("div",null,y.createElement("span",null,"#",y.createElement("b",null,"tag")),"show items with #",y.createElement("b",null,"tag")),y.createElement("div",null,y.createElement("span",null,"+",y.createElement("b",null,"name")),"show items with +",y.createElement("b",null,"name")),y.createElement("div",null,y.createElement("span",null,"date:",y.createElement("b",null,"date")),"show items on ",y.createElement("b",null,"date")),y.createElement("div",null,y.createElement("span",null,"date:today+",y.createElement("b",null,"num")),"show items ",y.createElement("b",null,"num")," days in the future"),y.createElement("div",null,y.createElement("span",null,"before:",y.createElement("b",null,"date")),"show items before ",y.createElement("b",null,"date")),y.createElement("div",null,y.createElement("span",null,"after:",y.createElement("b",null,"date")),"show items after ",y.createElement("b",null,"date")),y.createElement("div",null,y.createElement("span",null,"between:",y.createElement("b",null,"date1,date2")),"show items between ",y.createElement("b",null,"date1")," and ",y.createElement("b",null,"date2")),y.createElement("div",null,y.createElement("span",null,"date:overdue"),"show overdue items"),y.createElement("div",null,y.createElement("span",null,"date:any"),"show items with a date"),y.createElement("div",null,y.createElement("span",null,"date:none"),"show items with no date"),y.createElement("div",null,y.createElement("span",null,h.Z.Prefix.Header," or ",h.Z.Prefix.Header2),"show project items"),y.createElement("div",null,y.createElement("span",null,h.Z.Prefix.Task),"show task items"),y.createElement("div",null,y.createElement("span",null,h.Z.Prefix.Bullet),"show bullet items"),y.createElement("div",null,y.createElement("span",null,h.Z.SearchFilterTexts.Star),"show starred items"),y.createElement("div",null,y.createElement("span",null,h.Z.SearchFilterTexts.Pri2," or ",h.Z.SearchFilterTexts.Pri1," or ",h.Z.SearchFilterTexts.Pri0),"show priority items"),y.createElement("div",null,y.createElement("span",null,h.Z.InlinePrefix.ItemLink),"show linked items"),y.createElement("div",null,y.createElement("span",null,'"',y.createElement("b",null,"word1 word2"),'"'),"show the phrase ",y.createElement("b",null,'"word1 word2"')),y.createElement("div",null,y.createElement("span",null,h.Z.PrefixItemAutocomplete,y.createElement("b",null,"item")),"zoom into ",y.createElement("b",null,"item"))))))}}]),n}(A.a)},42194:(e,t,n)=>{n.r(t),n.d(t,{default:()=>O});var a=n(48926),r=n.n(a),o=n(87757),i=n.n(o),l=n(35848),s=n(89088),c=n(19955),u=n(61471),d=n(26877),m=n(10996);function f(e){return(0,m.w_)({tag:"svg",attr:{viewBox:"0 0 12 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M8.5 1H1c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h10c.55 0 1-.45 1-1V4.5L8.5 1zM11 14H1V2h7l3 3v9zM6 4.5l4 3-4 3v-2c-.98-.02-1.84.22-2.55.7-.71.48-1.19 1.25-1.45 2.3.02-1.64.39-2.88 1.13-3.73.73-.84 1.69-1.27 2.88-1.27v-2H6z"}}]})(e)}var p=n(93379),h=n.n(p),g=n(7795),y=n.n(g),v=n(90569),E=n.n(v),A=n(3565),C=n.n(A),_=n(19216),k=n.n(_),b=n(44589),x=n.n(b),w=n(35740),D={};D.styleTagTransform=x(),D.setAttributes=C(),D.insert=E().bind(null,"head"),D.domAPI=y(),D.insertStyleElement=k();h()(w.Z,D);w.Z&&w.Z.locals&&w.Z.locals;var Z=n(76611),B=n(61811),M=n(23582),N=n(72475),P=n(60303),S=n(27660),I=n(86407),T=n(48606);const O=(0,N.Z)((function(e){var t=e.paneObject,n=e.element,a=(0,c.useRef)(),o=B.default.pluginManager.isDriveEnabled(),m=function(e){return function(){B.default.menus.openContextMenu({componentName:"ReactContextMenuDropZone",element:n,pane:t.pane,item:t.item,image:e,paneObject:t})}},p=function(){var e=r()(i().mark((function e(){var a,r,o;return i().wrap((function(e){for(var i=0;;){if(i++>5e3&&__infLoop&&__infLoop(i))throw new RangeError;switch(e.prev=e.next){case 0:return a=t.item,r=t.pane,o=B.default.pluginManager.getPluginDrive(),e.next=4,o.pickFilesFromDrive(r,n);case 4:e.sent.forEach((function(e,t){if(0===t)a.setText(e,l.Z.ChangeType.Local);else{var n=a.parent(),r=n.getIndexOf(a.id);a=Z.Z.getPane().createVMLI({text:e},{parent:n,changeType:l.Z.ChangeType.AllLocal}),n.insertItem(a,r+1,!1)}}));case 6:case"end":return e.stop()}}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(e,n){return function(){"string"===typeof e?(t.item.setText(e,l.Z.ChangeType.Local),Z.Z.selectIndex(t.index,-1),n&&M.Z.updateFromPane({owner:t,index:t.index,start:Z.Z.getStartOffset(),element:Z.Z.getStartElement(),forceShow:!0})):e()}},g=function(e,t,n,a,r,o,i){var l="icon-bullet"===e?26:void 0;return c.createElement(T.Z,{icon:e,iconSize:l,onClick:o||h(a,r),height:36,iconColor:i},c.createElement("div",{className:"font-medium f1"},t),n&&c.createElement("div",{className:"px-3 ml-8 leading-7 rounded text-12 c-bg-light c-foreground-medium"},n))};return c.createElement(I.Z,{element:n,id:"contextMenuSlashHelp",supportArrows:!0,ref:a},g("icon-project","Project","# + Space","# "),g("prefixTask","Task","[ + Space","[ "),g("icon-bullet","Bullet","".concat(l.Z.Prefix.Bullet," Space"),"".concat(l.Z.Prefix.Bullet," ")),g("icon-numlist","Numbered List","1. + Space","1. "),g(u.ovA,"Code Block","``` + Space","``` "),g("icon-hash","Tag","#tag","#",!0),g("icon-user","Contact","+Name","+",!0),g("icon-calendar","Date or reminder","!","!",!0),g("icon-hr","Line","---","---"),g("icon-hr-heavy","Heavy Line","===","===",void 0,void 0,"c-foreground"),g(u.$PT,"Link",s.Z.priModKey+" + K",(function(){B.default.menus.openContextMenu({componentName:"ReactContextMenuInsertLink",element:n,onInsertLink:function(e){var n=e.text,a=e.href;t.item.elsNew=new S.Z([new P.Z(n,{link:{href:a,text:n}})]),t.item.setTextFromEls(l.Z.ChangeType.Local),Z.Z.selectIndex(t.index,-1)}})})),g(d.$l_,"Item Link","[[","[[",!0),g(f,"Item Mirror","((","((",!0),g("icon-drive-file","Upload File",void 0,m(!1)),g("icon-image","Upload Image",void 0,m(!0)),o&&g("icon-drive-file","Choose Drive File",void 0,p))}))},55686:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});var a=n(67154),r=n.n(a),o=n(6479),i=n.n(o),l=n(19955),s=n(61811),c=n(26975),u=n(86407),d=n(72475),m=["premiumMessage","enableMessage"];const f=(0,d.Z)((function(e){var t=e.premiumMessage,n=e.enableMessage,a=i()(e,m);return l.createElement(u.Z,r()({},a,{id:"contextMenuBoardsUpsell"}),l.createElement("div",null,l.createElement("div",null,t),l.createElement("br",null),l.createElement("div",null,"Go Premium to enable "+n+".")),l.createElement("br",null),l.createElement("div",{className:"center"},l.createElement(c.Z,{primary:!0,raised:!0,onClick:function(){s.default.menus.closeContextMenu(),s.default.menus.openSettings("Upgrade")}},"Go Premium")))}))},18764:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var a=n(63038),r=n.n(a),o=n(87452),i=n(19955),l=n(61811),s=n(72475),c=n(4253),u={ReactAutocomplete:n(93579),ReactContextMenuOverviewOptions:n(43590),ReactContextMenuGmailSort:n(77982),ReactContextMenuSearch:n(34434),ReactContextMenuCalendars:n(86505),ReactContextMenuInsertLink:n(36124),ReactContextMenuContactDetails:n(46742),ReactNotePopup:n(70870),ReactItemDetailsPopup:n(38296),ReactContextMenuEmailDetails:n(55844),ReactContextMenuItem:n(36168),ReactContextMenuOnlineStatus:n(32818),ReactContextMenuOptions:n(83202),ReactContextMenuUpsell:n(55686),ReactContextMenuDropZone:n(75909),ReactContextMenuDate:n(33643),ReactContextMenuDocumentPassword:n(16662),ReactContextMenuPaneView:n(58517),ReactContextMenuSlashHelp:n(42194),ReactContextMenuInboxItem:n(29312),ReactContextMenuList:n(2553),ReactContextMenuItemList:n(49955)};const d=(0,s.Z)((function(){for(var e=0,t=(0,c.Z)(l.default.menus.contextMenuStack),n=r()(t,1)[0],a=function(e){var t=l.default.menus.getTopContextMenu();t&&l.default.menus.closeContextMenu(t),o.Z.preventAndStop(e)},s=[],d=0;d<n.length;d++){if(e++>5e3&&__infLoop&&__infLoop(e))throw new RangeError;var m=n[d];if(m.noBackdrop||s.push(i.createElement("div",{key:"backdrop_"+d,className:"pointer-events-auto contextMenusBackdrop",onMouseDown:a})),m.fn)s.push(m.fn(m));else if(m.componentName){m.key=m.key||m.componentName,m.id=m.id||m.key;var f=u[m.componentName].default;s.push(i.createElement(f,m))}}var p=o.Z.classNames("contextMenusReact",{hidden:0===s.length});return i.createElement("div",{className:p},s)}),(function(){return l.default.menus.contextMenuStack.clear()}))},38296:(e,t,n)=>{n.r(t),n.d(t,{default:()=>I});var a=n(67154),r=n.n(a),o=n(6479),i=n.n(o),l=n(34575),s=n.n(l),c=n(93913),u=n.n(c),d=n(2205),m=n.n(d),f=n(78585),p=n.n(f),h=n(29754),g=n.n(h),y=n(35848),v=n(87452),E=n(89088),A=n(19955),C=n(61811),_=n(26975),k=n(18882),b=n(86407),x=n(15769),w=n(77617),D=n(6380),Z=n(6281),B=n(35731),M=n(15383),N=n(88194),P=["addOnSave","pane","item","selectDocument"];function S(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=g()(e);if(t){var r=g()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return p()(this,n)}}const I=function(e){m()(n,e);var t=S(n);function n(){return s()(this,n),t.apply(this,arguments)}return u()(n,[{key:"init",value:function(){var e=this.props.item,t=C.default.pluginManager.getPlugin(y.Z.PluginID.GCalendar);this.createObservables({canSyncDate:e&&!!e.getMooDate(),addingLocal:!t.isActive()||C.default.pluginManager.getSetting(y.Z.PluginID.GCalendar,y.Z.PluginSettingsID.GCalendar.CreateLocalEvents),addingRemote:t.isActive()&&C.default.pluginManager.getSetting(y.Z.PluginID.GCalendar,y.Z.PluginSettingsID.GCalendar.SyncNewEvents),selectedDocument:e&&e.getDocumentOwner()?e.getDocumentOwner():B.Z.getDefaultDocument()}),this.refSelectCalendar=(0,A.createRef)(),this.refSelectDocument=(0,A.createRef)(),this.refMenu=(0,A.createRef)(),this.refItem=(0,A.createRef)(),this.refAddTo=(0,A.createRef)(),this.refNoteText=(0,A.createRef)(),this.refCheckAddLocal=(0,A.createRef)(),this.refCheckAddCalendar=(0,A.createRef)(),this.refSave=(0,A.createRef)()}},{key:"getHotkeys",value:function(){return[C.default.hotkeys.create(y.Z.KeyCode.Escape,!0,y.Z.Primary.Either,y.Z.Shift.Either,this.onEscape),C.default.hotkeys.create(y.Z.KeyCode.D,!0,y.Z.Primary.Yes,y.Z.Shift.Yes,this.onHotkeyDate),C.default.hotkeys.create(y.Z.KeyCode.C,!0,y.Z.Primary.Never,y.Z.Shift.No,this.onHotkeyCreateEvent)]}},{key:"getState",value:function(){var e=this.props.item;return{flags:e.flags,maxWidth:this.props.pane?Math.min(this.props.pane.getWidth()-20,400):400,isStarred:e.isStarred(),priority:e.getPriority()}}},{key:"onMount",value:function(){this.props.item.itemChanged.listen(this.onItemChanged),E.Z.windowSize.listen(this.onResize),M.Z.listen("panesChanged",this.onResize)}},{key:"onResize",value:function(){var e=this;this.updateState(),setTimeout((function(){e.refMenu&&e.refMenu.current.updateState()}),300)}},{key:"onUnmount",value:function(){this.props.item.itemChanged.unlisten(this.onItemChanged);var e=this.props;if(e.addOnSave&&this.needsSave){var t=this.addItem(),n=t.item,a=t.parent,r=t.insertIndex;e.beginSave&&e.beginSave();try{var o=e.options;if(o)for(var i=0,l=0;l<o.length;l++){if(i++>5e3&&__infLoop&&__infLoop(i))throw new RangeError;var s=o[l],c=this.refs[s.text];if(c&&c.getValue())try{s.cb(n)}catch(g){v.Z.reportError(g)}}if(e.children)for(var u=0,d=0;d<e.children.length;d++){if(u++>5e3&&__infLoop&&__infLoop(u))throw new RangeError;var m=e.children[d].clone(n,y.Z.ChangeType.Local);n.insertItem(m)}var f=C.default.pluginManager.getPluginGCalendar(),p=this.refCheckAddCalendar.current;if(f&&f.isAvailable()&&p&&p.getValue()&&this.refSelectCalendar.current){var h=this.refSelectCalendar.current.getValue();f.createEventForItem(n,h),f.forceRemoteEventSync()}isNaN(r)||a.insertItem(n,r)}catch(A){v.Z.reportError(A)}e.endSave&&e.endSave(n)}E.Z.windowSize.unlisten(this.onResize),M.Z.unlisten("panesChanged",this.onResize)}},{key:"onItemChanged",value:function(){var e=this.props.item;this.canSyncDate.set(!!e.getMooDate())}},{key:"onHotkeyDate",value:function(){C.default.menus.openDate({element:this.refItem.current.getElement(),item:this.props.item,pane:this.props.pane})}},{key:"onHotkeyCreateEvent",value:function(){var e=C.default.pluginManager.getPluginGCalendar(),t=this.props.item;e&&(this.props.addOnSave?this.state.canSyncDate&&this.refCheckAddCalendar.current&&this.refCheckAddCalendar.current.setValue(!0):(e.createEventForItem(t),t.itemChanged.notify()))}},{key:"onKeyDownItem",value:function(e){E.Z.getKeyCode(e)===y.Z.KeyCode.Enter?(this.save(),e.preventDefault()):this.wasAKeyPressed=!0}},{key:"save",value:function(){this.props.item.hasText()?(this.needsSave=!0,C.default.menus.closeContextMenu()):C.default.toasts.pushMessage({text:"Please enter text for the item before adding it.",timeout:2e3})}},{key:"addItem",value:function(){var e=this.props.item,t=!0,n=C.default.pluginManager.getPluginGCalendar();if(n&&n.isAvailable()&&this.refCheckAddLocal.current&&(t=this.refCheckAddLocal.current.getValue()),e.getRawText().length>0){if(t){var a=this.props.parent,r=this.refAddTo.current.getItem();if(r&&(a=r.item),this.props.selectDocument&&!r)a=B.Z.getDocumentById(this.refSelectDocument.current.getValue()).getRootItem();var o=e.clone(a,y.Z.ChangeType.AllLocal),i=this.refNoteText.current.getValue();if(i){var l=o.createNote();l&&l.setText(i,y.Z.ChangeType.Local)}return{item:o,parent:a,insertIndex:0}}return{item:e}}return{}}},{key:"onEscape",value:function(){this.wasEscapeKeyPressed=!0,C.default.menus.closeContextMenu()}},{key:"onNoteValueSet",value:function(){this.refMenu.current.updateState()}},{key:"onKeyDownNote",value:function(e){E.Z.getKeyCode(e)===y.Z.KeyCode.Enter&&(E.Z.mac&&e.metaKey||!E.Z.mac&&e.ctrlKey)&&this.save()}},{key:"onClickStar",value:function(){var e=this.props.item;e.setStarred(!e.isStarred(),y.Z.ChangeType.Local)}},{key:"setPriority",value:function(e){var t=this.props.item;t.getPriority()===e&&(e=y.Z.VMLIFlag.None),t.setPriority(e,y.Z.ChangeType.Local)}},{key:"onChangeAddToCalendar",value:function(e){!e&&this.refCheckAddLocal.current&&this.refCheckAddLocal.current.setValue(!0),this.addingRemote.set(e)}},{key:"onChangeAddLocal",value:function(e){!e&&this.refCheckAddCalendar&&this.refCheckAddCalendar.current.setValue(!0),this.addingLocal.set(e)}},{key:"onChangeCalendar",value:function(e){if(!this.props.addOnSave){var t=this.props.item;C.default.pluginManager.getPluginGCalendar().setCalendarForItem(t,e)}}},{key:"onChangeDocument",value:function(e){this.selectedDocument.set(B.Z.getDocumentById(e))}},{key:"renderCalendarSelector",value:function(){var e=this.props,t=e.item,n=e.addOnSave,a=this.state.addingRemote,r=C.default.pluginManager.getPluginGCalendar().getWriteableCalendarsForItem(t),o=r.calendars,i=r.selected;!i&&n&&(i=C.default.pluginManager.getSetting(y.Z.PluginID.GCalendar,y.Z.PluginSettingsID.GCalendar.ExportCalendar));var l=v.Z.classNames("c-foreground-faded",{disabled:!a});return o?A.createElement("div",{className:"detailsSection flexbox"},A.createElement("span",{className:l},"Calendar:"),A.createElement(w.Z,{defaultValue:i,style:{marginLeft:16,height:32},ref:this.refSelectCalendar,onChange:this.onChangeCalendar,disabled:!a},A.createElement("option",{value:""},"None"),o.map((function(e){return A.createElement("option",{key:e.id,value:e.id},e.summary)})))):void 0}},{key:"render",value:function(){var e,t=this.props,n=t.addOnSave,a=t.pane,o=t.item,l=t.selectDocument,s=i()(t,P),c=this.state,u=c.addingLocal,d=c.addingRemote,m=c.canSyncDate,f=c.priority,p=c.isStarred,h=c.selectedDocument,g=this.state.maxWidth,E=v.Z.parentTextForItem(o),M=s.children||(a?a.getSubItems(o,!0):[]),N=o.allowTextEditing(),S=N&&(o.canHaveNote()||o.hasNote()),I=C.default.pluginManager.getPlugin(y.Z.PluginID.GCalendar),T=I&&I.isAvailable()&&I.isEnabled(),O=T&&(m||s.showCalendarButtons),R=o.hasPluginAttachment(y.Z.PluginID.GCalendar);if(M.length>0){var L=0;e=[];for(var F=0;F<M.length;F++){if(L++>5e3&&__infLoop&&__infLoop(L))throw new RangeError;var U=M[F];e.push(A.createElement(D.Z,{key:U.id,item:U,pane:a,padded:!0,allowDrag:!1}))}}var W,Y=10,H=v.Z.classNames("c-foreground-faded",{disabled:!u});return l&&(W=B.Z.getDocumentsArray()),A.createElement(b.Z,r()({},s,{key:o.id+"_Edit",id:"contextMenuItemDetails",className:"flexbox flexvert",width:400,maxWidth:g,onEscape:this.onEscape,ref:this.refMenu,focusTrap:!0}),E&&A.createElement("div",{className:"detailsSection flexbox itemContext c-foreground-faded"},A.createElement("div",{className:"c-foreground-faded"},"Parents"),A.createElement("div",null,E)),A.createElement("div",{className:"detailsSection flexbox noShrink"},A.createElement("div",{className:"c-foreground-faded"},"Item text"),A.createElement(D.Z,{ref:this.refItem,className:"detailsItem c-background c-border",item:o,onKeyDown:this.onKeyDownItem,selectIndex:s.selectIndex,showPriority:!0,shouldSave:!n,autocompleteMode:"all",tabIndex:Y,inItemDetails:!0,allowDrag:!n,pane:a,editable:N,showPrefix:!0})),l&&A.createElement("div",{className:"flex items-start detailsSection"},A.createElement("div",{className:H},"Document"),A.createElement(w.Z,{className:"f1",ref:this.refSelectDocument,style:{height:32},defaultValue:h.id,onChange:this.onChangeDocument,tabIndex:Y++},W.map((function(e){return A.createElement("option",{key:e.id,value:e.id},e.text.get())})))),n&&A.createElement("div",{className:"flex items-start detailsSection"},A.createElement("div",{className:H},"Add to"),A.createElement(x.Z,{autocompleteMode:"item",autocompleteItem:h.getRootItem(),height:33,placeholder:"Select item to add to",tabIndex:Y++,ref:this.refAddTo,pane:this.props.pane,disabled:!u,onKeyDown:this.onKeyDownItem})),S&&A.createElement("div",{className:"flex items-start detailsSection"},A.createElement("div",{className:"c-foreground-faded"},"Note"),A.createElement(Z.Z,{className:"c-border",ref:this.refNoteText,item:o,heightEmpty:34,heightValue:150,onValueSet:this.onNoteValueSet,onKeyDown:this.onKeyDownNote,tabIndex:Y++,shouldSave:!n})),A.createElement("div",{className:"flex items-start detailsSection"},A.createElement("div",{className:"c-foreground-faded"},"Options"),A.createElement("span",{className:"itemDetailOption c-border pointer",onClick:this.onClickStar},A.createElement("span",{className:"c-foreground-super-faded"},"Star:"),A.createElement("i",{className:v.Z.classNames("starButton icon-star c-foreground-super-faded",{selected:p})})),A.createElement("span",{className:"itemDetailOption c-border"},A.createElement("span",{className:"c-foreground-super-faded"},"Priority:"),A.createElement("span",{className:v.Z.classNames("searchPriority searchP0",{selected:f===y.Z.VMLIFlag.P0}),onClick:this.setPriority.bind(this,y.Z.VMLIFlag.P0)}),A.createElement("span",{className:v.Z.classNames("searchPriority searchP1",{selected:f===y.Z.VMLIFlag.P1}),onClick:this.setPriority.bind(this,y.Z.VMLIFlag.P1)}),A.createElement("span",{className:v.Z.classNames("searchPriority searchP2",{selected:f===y.Z.VMLIFlag.P2}),onClick:this.setPriority.bind(this,y.Z.VMLIFlag.P2)}))),n&&(T||s.options)&&A.createElement("div",{className:"detailsSection"},O&&A.createElement(k.Z,{key:"addLocal",initialChecked:u,ref:this.refCheckAddLocal,onChange:this.onChangeAddLocal,disabled:!O,tabIndex:O?Y++:void 0},"Add to document"),O&&A.createElement(k.Z,{key:"addToCalendar",initialChecked:d,ref:this.refCheckAddCalendar,onChange:this.onChangeAddToCalendar,disabled:!O,tabIndex:O?Y++:void 0},"Add to Google Calendar"),s.options&&s.options.map((function(e){return A.createElement(k.Z,{key:e.text,initialChecked:e.value,ref:e.text,tabIndex:Y++},e.text)}))),(O||R)&&this.renderCalendarSelector(),e&&A.createElement("div",{className:"detailsSection"},A.createElement("div",{className:"c-foreground-faded"},"Subitems"),A.createElement("div",{className:"children c-border"},e)),n&&A.createElement("div",{className:"bottomRow flexbox"},A.createElement(_.Z,{onClick:this.onEscape},"CANCEL"),A.createElement(_.Z,{primary:!0,marginLeft:8,onClick:this.save,tabIndex:Y++,ref:this.refSave},"SAVE")))}}]),n}(N.a)},36093:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var a=n(59713),r=n.n(a),o=n(6479),i=n.n(o),l=n(61811),s=n(19955),c=n(35848),u=n(26975),d=n(54894),m=n(72475),f=n(48164),p=["text","actionText"];const h=(0,m.Z)((function(e){var t=e.text,n=e.actionText,a=(i()(e,p),function(){return l.default.menus.closeModal(c.Z.Modals.Alert)});return(0,f.K7)(r()({},c.Z.KeyCode.Enter,a),[]),s.createElement(d.Z,{id:"modalAlert",closeButton:!1,small:!0,backdropClose:!1,scrollable:!1,modalID:c.Z.Modals.Alert},s.createElement("div",{key:"content",dangerouslySetInnerHTML:{__html:t}}),s.createElement("div",{key:"buttons"},s.createElement(u.Z,{primary:!0,onClick:a},n||"OKAY")))}))},75656:(e,t,n)=>{n.r(t),n.d(t,{default:()=>T});var a=n(319),r=n.n(a),o=n(48926),i=n.n(o),l=n(63038),s=n.n(l),c=n(87757),u=n.n(c),d=n(48978),m=n(35848),f=n(6303),p=n(87452),h=n(19955),g=n(61811),y=n(74857),v=n(18882),E=n(54894),A=n(77617),C=n(14424),_=n(35731),k=n(1767),b=n(15030),x=n(72475),w=n(60303),D=n(59618),Z=n(31288),B=n(1154),M=n(84483),N=n(31741);var P=n(18065),S=function e(t){t.items.get().slice().forEach((function(t){e(t)})),t.hasNote()&&e(t.getNote()),t.isDestroyed()||t.getItemStore().destroyItem(t.id)},I=(0,x.Z)((function(e){var t=e.processedBackup,n=(e.showCompleted,e.refDidBackups),a=e.setForceNumber,r=t.diffGroups,o=t.itemEls,l=t.docInfo,c=t.itemsCache,d=(0,b.Z)({}),f=s()(d,3),v=f[0],E=f[1],A=f[2],k=[],x=(0,h.useRef)();return function(e,t){(0,h.useEffect)((function(){var n=function(n){var a=N.Z.getSelectionRangeNative();a&&p.Z.isAncestor(a.startContainer,e.current)?t(a):t(void 0)};return document.addEventListener("selectionchange",n),function(){return document.removeEventListener("selectionchange",n)}}),[e,t])}(x,(0,h.useCallback)((function(e){if(e){var t=p.Z.getParentAttr(e.startContainer,"data-index"),n=p.Z.getParentAttr(e.endContainer,"data-index"),a=A.current;if(void 0!==t&&void 0!==n){var o=+t,i=+n,l=void 0===a.group||t===n?+p.Z.getParentAttr(e.startContainer,"data-group"):a.group,s=r.find((function(e){return e.index===l}));return o=Math.max(o,s.startIndex),i=Math.min(i,s.startIndex+s.diffs.length-1),E({start:o,end:i,group:s.index})}}E({})}),[r])),r.forEach((function(e,t){var r=("text"===e.type?"Changed text":"added"===e.type&&"Added")||"removed"===e.type&&"Deleted"||"moved"===e.type&&h.createElement("span",null,"Moved from ",h.createElement("b",null,e.moveInfo.fromParent)," to ",h.createElement("b",null,e.moveInfo.toParent))||"completed"===e.type&&"Completed"||"uncompleted"===e.type&&"Uncompleted"||"none"===e.type&&"Unchanged",s=("added"===e.type?"Delete":"moved"===e.type&&"Move back")||"Restore",d=v&&t===v.group?v.end-v.start+1:0,f=function(){var t=i()(u().mark((function t(){var r,o,i;return u().wrap((function(t){for(var u=0;;){if(u++>5e3&&__infLoop&&__infLoop(u))throw new RangeError;switch(t.prev=t.next){case 0:if(null===(r=e.moveInfo)||void 0===r||!r.isDiffDoc){t.next=4;break}g.default.menus.alert({text:"Restoring moving between documents is not supported yet. Please copy the selected items and paste them in for now."}),t.next=9;break;case 4:return o=d||e.diffs.length,t.next=7,g.default.menus.confirm("Are you sure you want to ".concat(s.toLowerCase()," ").concat(o," items?"));case 7:t.sent&&(i=_.Z.getDocumentById(l.id),n.current[l.id]||(C.Z.checkBackupAutoDoc(i,!0),n.current[l.id]=!0),y.Z.beginAction(),e.diffs.forEach((function(t){var n=t.itemRevision,a=t.itemExisting,r=t.index;if(p.Z.isEmpty(v)||r>=v.start&&r<=v.end)if("text"===e.type)a.setMooDate(n.getMooDate(),m.Z.ChangeType.Local,!0),a.setText(n.getRawText(),m.Z.ChangeType.Local);else if("added"===e.type)a.deleteSelf(m.Z.ChangeType.Local);else if("removed"===e.type){for(var o,l=0,s=0,u=n.parent();!o;){if(s++>5e3&&__infLoop&&__infLoop(s))throw new RangeError;if(l++>5e3&&__infLoop&&__infLoop(l))throw new RangeError;(o=_.Z.getItem(u.id))||(u=u.parent())}if(o){n._documentOwner=i,n.setParent(o);var d=c[n.id];S(n);var f=g.default.itemStoreManager.getDefaultItemStore().createItemRaw(d,{documentOwner:i,parent:o,changeType:m.Z.ChangeType.Local});f.getDocumentOwner().unArchiveAndUnDeleteItem(f,m.Z.ChangeType.Local)}}else if("completed"===e.type)a.setComplete(!1,m.Z.ChangeType.Local);else if("uncompleted"===e.type)a.setComplete(!0,m.Z.ChangeType.Local);else if("moved"===e.type){var h=c[n.id];e.moveInfo.isDiffDoc||a.onChangeRemoteParentOrIndex(h)}})),y.Z.endAction(),a((function(e){return e+1})));case 9:case"end":return t.stop()}}}),t)})));return function(){return t.apply(this,arguments)}}();k.push(h.createElement("div",{key:"grouph"+t,className:"flex items-center px-3 pt-6 pb-2 select-none"},h.createElement("div",{className:"flex-1 font-semibold"},r),"none"!==e.type&&h.createElement(D.Z,{text:s+(d?" ".concat(d," items"):" hunk"),mode:"contained",height:24,className:"font-medium text-13",onClick:f})));var E=v&&v.start!==v.end;k.push(h.createElement("div",{key:"group"+t,className:"mx-3 overflow-hidden rounded group"},e.diffs.map((function(n,a){var r=n.item,i=r.isNote(),l={paddingLeft:30+(r.levelsDeep.get()-1)*g.default.DisplaySettings.itemIndentSize(),marginTop:r.isNote()?-8:0,paddingRight:16,paddingTop:4,paddingBottom:4,minHeight:18};o[r.id]&&(r.elsNew=o[r.id].diffed);var s=v&&t===v.group&&p.Z.isBetween(n.index,v.start,v.end);return h.createElement("div",{key:a,className:p.Z.classNames("backupItem2 flex c-bg-light",{"c-selected":s,"transparent-selection":E},!s&&{"c-foreground-faded text-12":i,"c-bg-green":"added"===e.type,"c-bg-red":"removed"===e.type,"c-bg-purple":n.movedTo||"completed"===e.type||"uncompleted"===e.type}),"data-index":n.index,"data-group":e.index,style:l},r.hasPrefix()&&g.default.ElementRenderer.renderPrefix(r,!1,void 0,0,0,3,!1,void 0),h.createElement("span",null,g.default.ElementRenderer.renderToJSX(r,void 0,{})))}))))})),h.createElement("div",{ref:x,onClick:function(e){p.Z.findParent(e.target,"group")||(N.Z.clearSelection(),E({}))}},k.length?k:h.createElement("div",{className:"px-3 py-3"},"No changes in this version compared to the current state"))}));const T=(0,x.Z)((function(e){var t=e.doc,n=(0,h.useMemo)((function(){return _.Z.getDocumentsArray(!0)}),[]),a=(0,h.useState)(t||n[0]),o=s()(a,2),l=o[0],c=o[1],y=(0,b.Z)(void 0),x=s()(y,3),T=x[0],O=x[1],R=x[2],L=(0,h.useState)(!1),F=s()(L,2),U=F[0],W=F[1],Y=(0,h.useState)(!1),H=s()(Y,2),j=H[0],z=H[1],V=(0,h.useState)(void 0),G=s()(V,2),K=G[0],q=G[1],Q=(0,h.useState)(),X=s()(Q,2),J=X[0],$=X[1],ee=(0,h.useState)(!1),te=s()(ee,2),ne=te[0],ae=te[1],re=(0,h.useRef)(),oe=(0,h.useState)(0),ie=s()(oe,2),le=ie[0],se=ie[1],ce=(0,h.useRef)({});(0,h.useEffect)((function(){return i()(u().mark((function e(){var t;return u().wrap((function(e){for(var n=0;;){if(n++>5e3&&__infLoop&&__infLoop(n))throw new RangeError;switch(e.prev=e.next){case 0:return e.next=2,g.default.cloudStorage.listDocBackups(l.id);case 2:t=e.sent,$(t);case 4:case"end":return e.stop()}}}),e)})))(),function(){var e,t=null===(e=re.current)||void 0===e?void 0:e.item;t&&S(t)}}),[]);var ue=function(){var e=i()(u().mark((function e(t){var a,r;return u().wrap((function(e){for(var o=0;;){if(o++>5e3&&__infLoop&&__infLoop(o))throw new RangeError;switch(e.prev=e.next){case 0:return a=n.find((function(e){return e.id===t})),p.Z.batchRenderUpdates((function(){O(void 0),c(a),$(void 0)})),e.next=4,g.default.cloudStorage.listDocBackups(a.id);case 4:r=e.sent,$(r);case 6:case"end":return e.stop()}}}),e)})));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=i()(u().mark((function e(t){var n,a,r,o,c,m,f;return u().wrap((function(e){for(var h=0;;){if(h++>5e3&&__infLoop&&__infLoop(h))throw new RangeError;switch(e.prev=e.next){case 0:if(n=l,t===R.current){e.next=9;break}return p.Z.batchRenderUpdates((function(){q(void 0),O(t)})),e.next=5,C.Z.downloadBackup(n,t);case 5:a=e.sent,r=a.data,o=a.str,l===n&&R.current===t&&r&&(c=function(e){q({id:n.id+t,raw:r,items:e,str:o})},m=g.default.crypto.getKeyBySentinel(r.sentinel),f=function(){var e=i()(u().mark((function e(){var t;return u().wrap((function(e){for(var n=0,a=0;;){if(a++>5e3&&__infLoop&&__infLoop(a))throw new RangeError;if(n++>5e3&&__infLoop&&__infLoop(n))throw new RangeError;switch(e.prev=e.next){case 0:return e.next=2,Promise.all(r.items.map((function(e){return g.default.crypto.decryptText(m,e.t,e.id).then((function(t){return e.t=t,e}))})));case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}}),e)})));return function(){return e.apply(this,arguments)}}(),m?f():g.default.menus.promptComplex({title:"Enter password",text:"This document was backed up with an encryption password. Please enter the password to unlock this backup.",fields:[{type:"password"}],validate:function(){var e=i()(u().mark((function e(t){var a,o,i,l;return u().wrap((function(e){for(var c=0,u=0;;){if(u++>5e3&&__infLoop&&__infLoop(u))throw new RangeError;if(c++>5e3&&__infLoop&&__infLoop(c))throw new RangeError;switch(e.prev=e.next){case 0:if(a=s()(t,1),!(o=a[0])){e.next=20;break}return i="backuptemp"+n.id,e.prev=3,e.next=6,g.default.crypto.addKey({name:i,password:o,sentinelSalt:d.Z.getEncryptionUid()});case 6:if(l=e.sent,r.sentinel!==l.sentinel){e.next=11;break}m=l.key,e.next=13;break;case 11:return g.default.crypto.removeKey(i),e.abrupt("return","The password was invalid. Please try again.");case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),console.log(e.t0);case 18:e.next=21;break;case 20:return e.abrupt("return","You must enter a password");case 21:case"end":return e.stop()}}}),e,null,[[3,15]])})));return function(t){return e.apply(this,arguments)}}(),callback:function(e){e&&f()}}));case 9:case"end":return e.stop()}}}),e)})));return function(t){return e.apply(this,arguments)}}(),me=(0,h.useMemo)((function(){if(K){if(U)return JSON.stringify(K.raw,null,2);var e=k.Z.transformItems(K.items.slice()),t=K.raw.doc,n=e[t.root];re.current&&(S(re.current.item),re.current.backupData.items.forEach((function(t){e[t.id]&&_.Z.removeTempItemData(t)})),re.current=void 0);var a=[],o={},i=[],c={},u=[];try{K.items.forEach((function(t){e[t.id]&&_.Z.addTempItemData(e[t.id])}));var d=_.Z.createTempVMLI(n,{changeType:m.Z.ChangeType.AllLocal});return function e(t){var n;!j&&t.isComplete()&&null!==(n=_.Z.getItem(t.id))&&void 0!==n&&n.isComplete()||(t.isRoot||(a.push(t),o[t.id]=t),t.hasNote()&&e(t.getNote()),t.items.forEach((function(t){return e(t)})))}(d),function(){var e=l.getAllItems({noSelf:!0,includeNotes:!0});j||(e=e.filter((function(e){var t;return!e.isComplete()||!(null!==(t=o[e.id])&&void 0!==t&&t.isComplete())})));var n=(0,f.Bm)(a,e,{comparator:function(e,t){return e.id===t.id}}),d={diffs:[],index:0,startIndex:0};u.push(d);var m=function(e,t){d.diffs.length>0&&(e!==d.type||JSON.stringify(t)!==JSON.stringify(d.moveInfo))&&(d={diffs:[],index:u.length,startIndex:i.length},u.push(d)),d.type=e,d.moveInfo=t};n.forEach((function(e){e.value.forEach((function(n){var a=["none"],l=o[n.id],u=_.Z.getItem(n.id),p={item:l||u,itemRevision:l,itemExisting:u,index:i.length},h=!1;if(u&&l){var g=u.getDocumentOwner().id!==t.id;(g||u.parent().id!==l.parent().id||u.index!==l.index)&&(a=["moved",{fromParent:l.parent().getDisplayText({showMarkdown:!1,noPrefix:!0}),toParent:u.parent().getDisplayText({showMarkdown:!1,noPrefix:!0}),isDiffDoc:g}],h=!0,!g&&e.removed||(p.movedFrom={parent:l.parent().id,index:l.index},p.movedTo={parent:u.parent().id,index:u.index}))}if(!h)if(e.removed&&!u)a=["removed"],p.removed=!0;else if(e.added&&!l||!u||u.isDeleted())a=["added"],p.added=!0;else if(!e.added&&!e.removed)if(u.isComplete()&&!l.isComplete())a=["completed"],p.completed=!0;else if(!u.isComplete()&&l.isComplete())a=["uncompleted"],p.uncompleted=!0;else{var y=u.getDisplayText({showMarkdown:!1}),v=l.getDisplayText({showMarkdown:!1});if(v!==y){a=["text"];var E=l.elsNew,A=(0,f.Kx)(v,y),C=0,k={item:l};A.forEach((function(e){var t=e.value;if((e.added||e.removed)&&!c[n.id]){var a=E;E=l.elsNew=l.elsNew.clone(),c[n.id]={raw:a,diffed:E}}if(e.added){var o=P.Z.getSelection(k,C,C,!0,k.item.elsNew.clone()),i=o.startElement,u=o.startOffset,d=o.startIndex;if(i){var m,f=i.split(k,C-u),p=s()(f,2),h=p[0],g=p[1],y=[h,new w.Z(t,{diffAdded:!0}),g].filter((function(e){return!!e}));(m=E.elements).splice.apply(m,[d,1].concat(r()(y)))}else E.elements.push(new w.Z(t,{diffAdded:!0}))}else e.removed&&E.insert(C,e.count,{diffRemoved:!0});C+=e.count})),p.text=A}}m.apply(void 0,r()(a)),(ne||Object.keys(p).length>4)&&(d.diffs.push(p),i.push(p))}))}))}(),u=u.filter((function(e){return e.diffs.length>0})),re.current={backupData:K,item:d,itemDiffs:i,itemEls:c,diffGroups:u,docInfo:t,itemsCache:e},re.current}catch(p){console.log(p)}}return null}),[null===K||void 0===K?void 0:K.id,ne,U,j,le]);return h.createElement(E.Z,{id:"modalBackups",width:1e3,height:900,sidebarWidth:200,modalID:m.Z.Modals.Backups},h.createElement("div",{key:"sidebar",className:"select-none"},h.createElement("div",{className:"flex px-3 pb-2"},h.createElement(A.Z,{className:"flex-1",style:{height:32},defaultValue:null===t||void 0===t?void 0:t.id,onChange:ue},n.map((function(e){return h.createElement("option",{key:e.id,value:e.id},e.text.get())})))),l&&h.createElement(Z.Z,{noInitialSelected:!0},J?J.length?J.map((function(e){var t=+e,n=new Date(t);return h.createElement(Z.G,{key:t,onClick:function(){return de(t)}},n.toString("MMMM d, hh:mm tt"))})):h.createElement(Z.G,{type:"noselect"},"No backups..."):h.createElement(Z.G,{type:"noselect"},"Loading backups..."))),h.createElement("div",{key:"content",className:"flexbox flexvert"},h.createElement("div",{className:"flex py-2 exportHeader"},h.createElement(v.Z,{checked:U,onChange:W},"Show raw"),h.createElement(v.Z,{checked:ne,onChange:ae},"Show all"),h.createElement(v.Z,{checked:j,onChange:z},"Show completed"),h.createElement(D.Z,{text:"SAVE",mode:"contained",height:32,className:"ml-6 font-bold",onClick:function(){var e,t=new Date(R.current).toString("MMMM d, hh:mm tt");p.Z.saveFile(K.str,"moodo - ".concat((null===(e=l.text)||void 0===e?void 0:e.get())||""," - ").concat(t,".json"))},disabled:!K})),h.createElement("div",{className:"pb-4 exportedContent f1 scrollable c-border",onCopy:function(e){var t=N.Z.getSelectionRange();if(t.isValid()){var n=p.Z.findParent(t.getStartContainer(),"backupItem2"),a=p.Z.findParent(t.getEndContainer(),"backupItem2"),r=+n.getAttribute("data-index"),o=+a.getAttribute("data-index");if(r>=0&&o>=0){var i=re.current.itemDiffs.slice(r,o+1).map((function(e){return e.item}));i.forEach((function(e){re.current.itemEls[e.id]&&(e.elsNew=re.current.itemEls[e.id].raw)})),M.Z.saveToClipboard(i,e.clipboardData),p.Z.preventDefault(e)}}}},me?p.Z.isString(me)?me:h.createElement(I,{processedBackup:me,setForceNumber:se,showCompleted:j,refDidBackups:ce}):T?h.createElement(B.Z,{center:!0},"Loading..."):h.createElement("div",{className:"flex flex-col items-center justify-center h-full"},h.createElement("div",null,"Select a time to view the backup.")))))}))},96922:(e,t,n)=>{n.r(t),n.d(t,{default:()=>D});var a=n(48926),r=n.n(a),o=n(63038),i=n.n(o),l=n(87757),s=n.n(l),c=n(35848),u=n(87452),d=n(19955),m=n(61811),f=n(26975),p=n(1154),h=n(54894),g=n(78942),y=n(72475),v=3,E=3,A=4,C=5,_=6,k=7,b=8,x=9,w=10;const D=(0,y.Z)((function(e){var t=e.id,a=e.isUpdate,o=e.planName,l=e.frequency,y=(0,d.useState)(),D=i()(y,2),Z=D[0],B=D[1],M=(0,d.useState)(),N=i()(M,2),P=N[0],S=N[1],I=(0,d.useState)(),T=i()(I,2),O=T[0],R=T[1],L=(0,d.useState)(),F=i()(L,2),U=F[0],W=F[1],Y=(0,d.useRef)(),H="Lifetime"!==o&&c.Z.PremiumPlans[o][l];(0,d.useEffect)((function(){r()(s().mark((function e(){var t,a,r,o,l,c;return s().wrap((function(e){for(var s=0;;){if(s++>5e3&&__infLoop&&__infLoop(s))throw new RangeError;switch(e.prev=e.next){case 0:return e.next=2,Promise.all([g.Z.getBillingToken(),n.e(372).then(n.t.bind(n,34977,23))]);case 2:a=e.sent,r=i()(a,2),o=r[0],l=r[1],null!==(t=o.value)&&void 0!==t&&t.token?l.create({authorization:o.value.token,container:"#dropin-container",dataCollector:!0,paypal:{flow:"vault"}},(function(e,t){W(t)})):(B(c=v),u.Z.reportError(new Error("Client hit error in billing: "+c)),m.default.billingManager.setLastSignupError(c),u.Z.sendEvent("Billing","SignupError_"+c));case 7:case"end":return e.stop()}}}),e)})))()}),[]);var j=function(){return Y.current.close()};return d.createElement(h.Z,{id:"modalBilling",width:400,minHeight:200,scrollable:!1,modalID:c.Z.Modals.Billing,ref:Y},d.createElement("div",{key:"content",className:"c-bg-white c-foreground-black"},!Z&&!P&&d.createElement("div",{id:"dropin-container"}),O&&d.createElement("div",{id:"billingSignupError",dangerouslySetInnerHTML:{__html:O}}),Z&&d.createElement("div",{id:"billingError"},"There was an error loading our payment system. Please contact support@moo.do with code "+Z+" or try again in a few minutes."),U?d.createElement("div",{key:"buttons",style:{textAlign:"right",paddingRight:16}},!Z&&!P&&d.createElement(f.Z,{primary:!0,raised:!0,onClick:function(e,n){return U.requestPaymentMethod(function(){var e=r()(s().mark((function e(r,i){var l,d;return s().wrap((function(e){for(var s=0;;){if(s++>5e3&&__infLoop&&__infLoop(s))throw new RangeError;switch(e.prev=e.next){case 0:if(!r){e.next=4;break}R("No payment method available"),e.next=17;break;case 4:if(!i){e.next=17;break}if("Lifetime"!==o){e.next=13;break}return d=i.deviceData,console.log({nonce:i.nonce,type:o,deviceData:d}),e.next=10,g.Z.oneTimePurchase({nonce:i.nonce,type:o,deviceData:d});case 10:l=e.sent,e.next=16;break;case 13:return e.next=15,g.Z.updateOrPurchasePlan({nonce:i.nonce,planID:H});case 15:l=e.sent;case 16:l.error||l.errorCode||l.braintreeError||l.braintreeErrorCode?(void 0!==l.errorCode?function(e){var t=e.code,n=e.braintreeError,a=e.braintreeErrorCode,r=e.data;if("Declined"===n)S(a),R("The transaction was declined. Please try again with a different payment method.");else if("gateway_rejected"===n)S(a),R("This card has been tried too many times. Please wait 30 minutes or contact support@moo.do for help.");else switch(t){case c.Z.PrivateAPIErrorCodes.UnauthorizedUser:S(A),R(void 0);break;case c.Z.PrivateAPIErrorCodes.InvalidParameter:S(C),R(void 0);break;case c.Z.PrivateAPIErrorCodes.MissingParameter:S(_),R(void 0);break;case c.Z.PrivateAPIErrorCodes.BraintreePaypalBlock:S(b),R(r);break;case c.Z.PrivateAPIErrorCodes.BraintreeInvalidCCN:S(x),R(r);break;case c.Z.PrivateAPIErrorCodes.BraintreeUnknown:S(k),R(r);break;case c.Z.PrivateAPIErrorCodes.AlreadyPremium:S(w),R('Our database shows you as already being a Premium member. Please contact <a href="mailto:support@moo.do">support@moo.do</a>. Sorry for the trouble!');break;default:S(E),R(void 0)}}({code:l.errorCode,braintreeError:l.braintreeError,braintreeErrorCode:l.braintreeErrorCode}):R(l.error),u.Z.sendEvent("Billing","PremiumSignupFAILURE")):(m.default.menus.isModalOpen(t)&&j(),a?m.default.menus.alert({text:"Your payment information has been updated.",actionText:"OKAY"}):m.default.menus.alert({text:"Thank you for signing up for Moo.do Premium!",actionText:"OKAY"}),u.Z.sendEvent("Billing","PremiumSignupSUCCESS"));case 17:n();case 18:case"end":return e.stop()}}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),!0}},"SUBMIT"),Z&&d.createElement(f.Z,{primary:!0,onClick:j},"OK")):d.createElement(p.Z,{center:!0},"Loading billing system...")))}))},19309:(e,t,n)=>{n.r(t),n.d(t,{default:()=>B});var a=n(48926),r=n.n(a),o=n(63038),i=n.n(o),l=n(59713),s=n.n(l),c=n(87757),u=n.n(c),d=n(48978),m=n(35848),f=n(87452),p=n(19955),h=n(61811),g=n(54894),y=n(28709),v=n(92764),E=n(87046),A=n(15030);var C=n(72475),_=n(26975),k=n(18882),b=n(31288),x=n(3214),w=n(12891),D=(0,p.createContext)({selectedItems:{},passwordNames:[],itemTexts:{},setSelectedItems:void 0}),Z=function(e){var t=e.item,n=(0,p.useContext)(D),a=n.selectedItems,r=n.passwordNames,o=n.itemTexts,i=n.setSelectedItems;return p.createElement(x.C3,null,p.createElement(x.zt,{className:f.Z.classNames("min-w-0 py-2 truncate",f.Z.containsInvalidCharacter(t.text)?"c-bg-red":"c-bg-green")},t.text),r.map((function(e){var n,r=null===o||void 0===o||null===(n=o[e])||void 0===n?void 0:n[t.id];return p.createElement(x.zt,{key:e,className:f.Z.classNames("min-w-0 py-2 truncate flex",f.Z.containsInvalidCharacter(r)?"c-bg-red":"c-bg-green")},p.createElement(k.Z,{className:"flex flex-1 truncate",classNameText:"truncate flex-1",rightAlign:!0,checked:!!a[e+"/"+t.id],onChange:function(n){return i(Object.assign({},a,s()({},e+"/"+t.id,n)))}},r))})))};const B=(0,C.Z)((function(e){var t,n,a=e.docProblems,o=(0,p.useState)(null===(t=a[0])||void 0===t?void 0:t.doc.id),l=i()(o,2),c=l[0],f=l[1],C=(0,A.Z)({}),B=i()(C,3),M=B[0],N=B[1],P=B[2],S=(0,p.useState)({}),I=i()(S,2),T=I[0],O=I[1],R=(0,p.useState)(!0),L=i()(R,2),F=L[0],U=L[1],W=(0,p.useRef)(),Y=(0,p.useMemo)((function(){var e={Global:h.default.crypto.getGlobalKey()},t=h.default.crypto.getKey(m.Z.EncryptionKeys.UserPassword);return t&&(e.User=t),e}),[]),H=Object.assign({},Y,M),j=Object.keys(H),z=a.find((function(e){return e.doc.id===c})),V=function(e,t){var n=(0,A.Z)(),a=i()(n,3),r=a[0],o=a[1],l=a[2],s=(0,p.useState)(),c=i()(s,2),u=c[0],d=c[1],m=(0,E.Z)(t),f=!m!==!t||m&&t&&(m.length!==t.length||m.some((function(e,n){return e!==t[n]})));return(0,p.useEffect)((function(){var t=!1,n=e();return Promise.resolve(n).then((function(e){t||o(e)})).catch((function(e){t||d(e)})),function(){t=!0}}),t),[r,f,l,u]}((function(){var e=Object.assign({},q.current),t=!1;return z&&(t=j.some((function(t){return z.problems.some((function(n){return!e[t]||!e[t][n.id]}))}))),t?new Promise((function(t){requestAnimationFrame(r()(u().mark((function n(){return u().wrap((function(n){for(var a=0;;){if(a++>5e3&&__infLoop&&__infLoop(a))throw new RangeError;switch(n.prev=n.next){case 0:return n.next=2,Promise.all(j.map(function(){var t=r()(u().mark((function t(n){var a;return u().wrap((function(t){for(var o=0,i=0;;){if(o++>5e3&&__infLoop&&__infLoop(o))throw new RangeError;if(i++>5e3&&__infLoop&&__infLoop(i))throw new RangeError;switch(t.prev=t.next){case 0:return e[n]||(e[n]={}),a=H[n],t.next=4,Promise.all(z.problems.map(function(){var t=r()(u().mark((function t(r){var o;return u().wrap((function(t){for(var i=0,l=0,s=0;;){if(i++>5e3&&__infLoop&&__infLoop(i))throw new RangeError;if(l++>5e3&&__infLoop&&__infLoop(l))throw new RangeError;if(s++>5e3&&__infLoop&&__infLoop(s))throw new RangeError;switch(t.prev=t.next){case 0:if(e[n][r.id]){t.next=5;break}return t.next=3,v.Z.decryptItem({id:r.id,text:r.encryptedText},h.default.crypto,a);case 3:o=t.sent,e[n][r.id]=o.text;case 5:case"end":return t.stop()}}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 4:case"end":return t.stop()}}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 2:t(e);case 3:case"end":return n.stop()}}}),n)}))))})):e}),[c,j.join("")]),G=i()(V,3),K=G[0],q=(G[1],G[2]),Q=null===z||void 0===z?void 0:z.problems;Q&&!F&&(Q=Q.filter((function(e){return!e.isDeleted})));var X=Array(j.length+1).fill({padded:!0,flex:!0}),J=(0,p.useCallback)((function(){h.default.menus.prompt({title:"Enter encryption password",cb:function(){var e=r()(u().mark((function e(t){var n,a,r;return u().wrap((function(e){for(var o=0;;){if(o++>5e3&&__infLoop&&__infLoop(o))throw new RangeError;switch(e.prev=e.next){case 0:return n=Object.keys(P.current).length+1,a="Password "+n,e.next=4,h.default.crypto.createKey({name:a,password:t,sentinelSalt:d.Z.getEncryptionUid()});case 4:r=e.sent,N((function(e){return Object.assign({},e,s()({},a,r.key))}));case 6:case"end":return e.stop()}}}),e)})));return function(t){return e.apply(this,arguments)}}()})}),[]),$=Object.values(T).filter((function(e){return e})).length,ee=(0,p.useCallback)((function(e){return p.createElement(Z,{item:e})}),[]);return p.createElement(g.Z,{id:"modalCheckEncryption",sidebarWidth:200,width:"90%",height:"90%",padded:!1,modalID:m.Z.Modals.CheckEncryption},p.createElement("div",{key:"sidebar"},p.createElement(b.Z,{inset:!0},p.createElement(b.G,{type:"header"},"SELECT DOCUMENT"),a.map((function(e){var t,n=e.doc;return p.createElement(b.G,{key:n.id,className:"truncate",onClick:(t=n.id,function(){W.current.scrollTo(0,"auto"),O({}),f(t)})},n.text.get())})))),p.createElement("div",{key:"content"},p.createElement("div",{className:"flex flex-col h-full px-4 pt-4"},p.createElement("div",{className:"flex items-center justify-between pb-6"},p.createElement("div",{className:"flex-1 pr-12"},p.createElement("div",{className:"text-2xl font-bold"},"Fix encryption errors ",(null===(n=Q)||void 0===n?void 0:n.length)>0?"(".concat(Q.length,")"):""),p.createElement("div",{className:"max-w-2xl pt-1 text-sm c-foreground-faded"},"Please select the text that looks correct to fix the errors. If nothing looks right, and you had changed your encryption password in the past, please try your old password.")),p.createElement("div",{className:"flex items-center"},p.createElement(k.Z,{className:"mr-4",checked:F,onChange:function(e){return U(e)}},"Show Deleted Items"),p.createElement(_.Z,{raised:!0,className:"mr-4",onClick:J},"Try another password"),p.createElement(_.Z,{raised:!0,primary:!0,enabled:$>0,onClick:function(){var e=Object.keys(T).filter((function(e){return T[e]})),t={},n=e.map((function(e){var n=e.split("/"),a=i()(n,2),r=a[0],o=a[1],l=K[r][o];return t[o]=!0,{docID:z.doc.id,id:o,text:l}}));y.Z.fixEncryptionProblems(n),z.problems=z.problems.filter((function(e){return!t[e.id]})),O({})}},"Fix selected items",$?" (".concat($,")"):""))),p.createElement(x.eM,{columnOptions:X,className:"flex flex-col flex-1 overflow-hidden"},p.createElement(x.C3,{header:!0,className:"text-lg font-medium"},p.createElement(x.zt,{className:"py-2"},"Current"),j.map((function(e,t){return p.createElement(x.zt,{key:e,className:"py-2"},p.createElement(k.Z,{className:"flex items-center flex-1 truncate",classNameText:"flex-1",rightAlign:!0,checked:Object.keys(T).some((function(t){return t.startsWith(e)})),onChange:(n=e,function(e){Q.forEach((function(t){return T[n+"/"+t.id]=e})),O(Object.assign({},T))})},e));var n}))),p.createElement("div",{className:"flex-1 overflow-hidden"},p.createElement(D.Provider,{value:{selectedItems:T,passwordNames:j,itemTexts:K,setSelectedItems:O}},p.createElement(w.Z,{items:Q||[],renderItem:ee,defaultItemSize:35,overscan:1e3,fixedSize:!0,ref:W})))))))}))},65471:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var a=n(67154),r=n.n(a),o=n(59713),i=n.n(o),l=n(6479),s=n.n(l),c=n(35848),u=n(19955),d=n(26975),m=n(54894),f=n(72475),p=n(48164),h=["text","textYes","textNo","noIsCancel","isHTML"];const g=(0,f.Z)((function(e){var t,n=e.text,a=e.textYes,o=e.textNo,l=e.noIsCancel,f=e.isHTML,g=s()(e,h),y=(0,u.useRef)(),v=function(){y.current.close(!0)},E=function(){y.current.close(!1)};return(0,p.K7)((t={},i()(t,c.Z.KeyCode.Escape,E),i()(t,c.Z.KeyCode.N,E),i()(t,c.Z.KeyCode.Enter,v),i()(t,c.Z.KeyCode.Y,v),t),[]),u.createElement(m.Z,r()({},g,{id:"modalConfirm",small:!0,backdropClose:!1,scrollable:!1,closeButton:!1,modalID:c.Z.Modals.Confirm,ref:y}),u.createElement("div",{key:"content"},f?u.createElement("div",{dangerouslySetInnerHTML:{__html:n}}):n),u.createElement("div",{key:"buttons"},u.createElement(d.Z,{primary:!0,width:100,onClick:v},a||"YES"),u.createElement(d.Z,{width:100,cancel:l,onClick:E},o||"NO")))}))},17224:(e,t,n)=>{n.r(t),n.d(t,{default:()=>p});var a=n(67154),r=n.n(a),o=n(6479),i=n.n(o),l=n(35848),s=n(19955),c=n(54894),u=n(72475),d=n(59618),m=n(48164),f=["text","buttons"];const p=(0,u.Z)((function(e){var t=e.text,n=e.buttons,a=i()(e,f),o=(0,s.useRef)(),u=function(e){return function(){e.action(),o.current.close(e.text)}},p={};return n.forEach((function(e){var t=e.hotkey;t&&(p[t.keyCode]=u(e))})),(0,m.K7)(p,[]),s.createElement(c.Z,r()({},a,{id:"modalConfirm",small:!0,width:480,backdropClose:!1,scrollable:!1,closeButton:!1,modalID:l.Z.Modals.ConfirmComplex,ref:o}),s.createElement("div",{key:"content"},t),s.createElement("div",{key:"buttons",className:"flex justify-center"},n.map((function(e){return s.createElement(d.Z,{key:e.text,mode:"contained",className:"mx-2 font-bold",padding:"px-3",primary:e.primary,cancel:e.cancel,text:e.text+(e.hotkey?" (".concat(e.hotkey.text,")"):""),onClick:u(e)})}))))}))},69927:(e,t,n)=>{n.r(t),n.d(t,{default:()=>A});var a=n(34575),r=n.n(a),o=n(93913),i=n.n(o),l=n(2205),s=n.n(l),c=n(78585),u=n.n(c),d=n(29754),m=n.n(d),f=n(35848),p=n(87452),h=n(19955),g=n(61811),y=n(26975),v=n(54894);function E(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=m()(e);if(t){var r=m()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return u()(this,n)}}const A=function(e){s()(n,e);var t=E(n);function n(){return r()(this,n),t.apply(this,arguments)}return i()(n,[{key:"onClickCancel",value:function(){this.props.onCancel(),g.default.menus.closeModal(f.Z.Modals.ConfirmEncrypt)}},{key:"onClickDownload",value:function(){p.Z.saveFile(this.props.password,"moodo encryption password.txt")}},{key:"onClickYes",value:function(){this.props.onYes(),g.default.menus.closeModal(f.Z.Modals.ConfirmEncrypt)}},{key:"render",value:function(){return h.createElement(v.Z,{id:"modalConfirmEncrypt",closeButton:!1,small:!0,backdropClose:!1,scrollable:!1,modalID:f.Z.Modals.ConfirmEncrypt},h.createElement("div",{key:"content"},h.createElement("p",null,"It is very important that you remember this password."),h.createElement("p",{style:{color:"red",fontWeight:"bold"}},"It cannot be recovered."),h.createElement("p",null,"Are you sure you want to set an encryption password?")),h.createElement("div",{key:"buttons"},h.createElement(y.Z,{raised:!0,cancel:!0,onClick:this.onClickCancel},"Cancel"),h.createElement(y.Z,{raised:!0,marginLeft:16,onClick:this.onClickDownload},"Download Password"),h.createElement(y.Z,{raised:!0,primary:!0,marginLeft:16,onClick:this.onClickYes},"Yes")))}}]),n}(n(88194).a)},85204:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var a=n(67154),r=n.n(a),o=n(48926),i=n.n(o),l=n(87757),s=n.n(l),c=n(35848),u=n(19955),d=n(61811),m=n(26975),f=n(54894),p=n(47628);const h=(0,n(72475).Z)((function(e){var t=(0,u.useRef)(),n=(0,u.useRef)();return u.createElement(f.Z,r()({},e,{id:"modalDeleteAccount",scrollable:!1,width:600,modalID:c.Z.Modals.DeleteAccount,ref:n}),u.createElement("div",{key:"content"},u.createElement("div",{className:"c-foreground-medium"},"It would be very helpful if you could describe how Moo.do could be more useful to you. Your feedback will help us improve Moo.do for you and others. Thanks!"),u.createElement(p.Z,{ref:t,focused:!0})),u.createElement("div",{key:"buttons",style:{textAlign:"right"}},u.createElement(m.Z,{width:100,onClick:function(){n.current.close(!1)}},"CANCEL"),u.createElement(m.Z,{primary:!0,width:100,onClick:function(e,a){return i()(s().mark((function e(){var r;return s().wrap((function(e){for(var o=0;;){if(o++>5e3&&__infLoop&&__infLoop(o))throw new RangeError;switch(e.prev=e.next){case 0:if("Moo.do Deleted Account",!(r=t.current.getValue())){e.next=5;break}return e.next=5,d.default.sendFeedback("Moo.do Deleted Account",r);case 5:a(),n.current.close(!0);case 7:case"end":return e.stop()}}}),e)})))(),!0}},"DELETE")))}))},58831:(e,t,n)=>{n.r(t),n.d(t,{default:()=>v});var a=n(63038),r=n.n(a),o=n(35848),i=n(87452),l=n(89088),s=n(19955),c=n(77617),u=n(35731),d=n(72475),m=n(4253),f=n(26975),p=n(18882),h=n(31288),g=n(54894),y=n(31741);const v=(0,d.Z)((function(){var e=(0,s.useRef)(),t=(0,m.Z)(u.Z.documentsArray),n=r()(t,1)[0],a=(0,s.useState)(!1),d=r()(a,2),v=d[0],E=d[1],A=(0,s.useState)(!1),C=r()(A,2),_=C[0],k=C[1],b=(0,s.useState)(!1),x=r()(b,2),w=x[0],D=x[1],Z=(0,s.useState)("json"),B=r()(Z,2),M=B[0],N=B[1],P=(0,s.useState)(n[0]),S=r()(P,2),I=S[0],T=S[1],O=(0,s.useState)(),R=r()(O,2),L=R[0],F=R[1];(0,s.useEffect)((function(){!function(e,t,n,a,r,o){"html"===t?o(e.toHTML(n,a,r)):"text"===t?o(e.toPlaintext(n,a,r)):"opml"===t?o(e.toOPML(n,a,r)):"json"===t&&e.toJSON({exportArchived:n,includeNotes:a}).then((function(e){o(e)}))}(I,M,v,_,w,F)}),[v,_,w,M,I]);var U=i.Z.classNames("exportedContent p-2",M),W="html"!==M?i.Z.escape(L):L,Y=function(e){return function(){return N(e)}};return s.createElement(g.Z,{id:"modalExport",width:860,height:900,sidebarWidth:200,modalID:o.Z.Modals.ExportData},s.createElement("div",{key:"sidebar"},s.createElement(h.Z,{inset:!0},s.createElement(h.G,{type:"header"},"SELECT DOCUMENT"),s.createElement(h.G,{type:"noselect"},s.createElement(c.Z,{style:{height:32},onChange:function(e){var t=n.find((function(t){return t.id===e}));T(t)}},n.map((function(e){return s.createElement("option",{key:e.id,value:e.id},e.text.get())})))),s.createElement(h.G,{type:"header"},"DATA TYPE"),s.createElement(h.G,{onClick:Y("json")},"Moo.do Backup (JSON)"),s.createElement(h.G,{onClick:Y("html")},"HTML"),s.createElement(h.G,{onClick:Y("opml")},"OPML"),s.createElement(h.G,{onClick:Y("text")},"Plain Text"),s.createElement(h.G,{type:"header"},"OPTIONS"),s.createElement(h.G,{type:"noselect"},s.createElement(p.Z,{checked:w,onChange:D},"Include Prefixes")),s.createElement(h.G,{type:"noselect"},s.createElement(p.Z,{checked:_,onChange:k},"Include Notes")),s.createElement(h.G,{type:"noselect"},s.createElement(p.Z,{checked:v,onChange:E},"Archived Items")),s.createElement(h.G,{type:"header"},"EXPORT"),!l.Z.app&&s.createElement(h.G,{type:"noselect",height:36},s.createElement(f.Z,{marginLeft:-16,onClick:function(){var e=open("url"),t=L;"opml"===M&&(t=i.Z.escape(t)+"   "),e.document.write(t)}},"OPEN IN TAB")),s.createElement(h.G,{type:"noselect",height:36},s.createElement(f.Z,{marginLeft:-16,onClick:function(){var t=y.Z.createSelectionRange();t.selectNodeContents(e.current),y.Z.setSelectionRange(t)}},"SELECT")),s.createElement(h.G,{type:"noselect",height:36},s.createElement(f.Z,{marginLeft:-16,onClick:function(){var e="text"===M?"txt":M;try{var t,n=null===(t=I.text)||void 0===t?void 0:t.get();i.Z.saveFile(L,"moodo".concat(n?" - ".concat(n):"",".")+e)}catch(a){i.Z.reportError(a)}}},"SAVE")))),s.createElement("div",{key:"content"},s.createElement("div",{className:U,onKeyDown:function(e){var t=l.Z.getKeyCode(e.nativeEvent);(!(l.Z.mac&&e.metaKey||!l.Z.mac&&e.ctrlKey)||t!==o.Z.KeyCode.C&&t!==o.Z.KeyCode.A&&t!==o.Z.KeyCode.F)&&i.Z.preventAndStop(e)},contentEditable:!0,dangerouslySetInnerHTML:{__html:W},ref:e})))}))},3101:(e,t,n)=>{n.r(t),n.d(t,{default:()=>C});var a=n(34575),r=n.n(a),o=n(93913),i=n.n(o),l=n(2205),s=n.n(l),c=n(78585),u=n.n(c),d=n(29754),m=n.n(d),f=n(35848),p=n(87452),h=n(19955),g=n(61811),y=n(26975),v=n(54894),E=n(47628);function A(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=m()(e);if(t){var r=m()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return u()(this,n)}}const C=function(e){s()(n,e);var t=A(n);function n(){return r()(this,n),t.apply(this,arguments)}return i()(n,[{key:"onClickTwitter",value:function(e){g.default.openUrl("https://www.twitter.com/MooDoApp",e),p.Z.sendEvent("Menu","FeedbackTwitter")}},{key:"onClickFacebook",value:function(e){g.default.openUrl("https://www.facebook.com/MooDoApp",e),p.Z.sendEvent("Menu","FeedbackFacebook")}},{key:"onClickForum",value:function(e){g.default.openUrl("https://forum.legendapp.com",e)}},{key:"onClickCancel",value:function(e){g.default.menus.closeModal(f.Z.Modals.ReportBug)}},{key:"onClickSend",value:function(e){var t=this.refs.description.getValue();if(t&&t.length>2){g.default.sendFeedback("Moo.do Feedback",t),g.default.menus.closeModal(f.Z.Modals.ReportBug),g.default.toasts.pushMessage({text:"Thanks for taking the time to send us feedback!"}),p.Z.sendEvent("Menu","SendFeedback")}}},{key:"render",value:function(){return h.createElement(v.Z,{id:"reportBug",modalID:f.Z.Modals.ReportBug,ref:"modal",width:450,height:500},h.createElement("div",{key:"content"},h.createElement("div",{className:"py-4 leading-tight"},"The best way to communicate with us and other Moo.do users is in the forum:"),h.createElement("div",{className:"flex justify-center"},h.createElement(y.Z,{raised:!0,primary:!0,onClick:this.onClickForum},"FORUM")),h.createElement("div",{className:"pt-6"},"Talk to us on your favorite social network."),h.createElement("div",{className:"flex justify-center feedbackIcons"},h.createElement(y.Z,{width:50,height:50,icon:"icon-twitter",tooltip:"@MooDoApp",onClick:this.onClickTwitter}),h.createElement(y.Z,{width:50,height:50,marginLeft:16,icon:"icon-facebook",tooltip:"MooDoApp",onClick:this.onClickFacebook})),h.createElement("div",{className:"pt-4 pb-2"},"Or send us a message directly."),h.createElement(E.Z,{focused:!0,id:"bugDescription",height:150,ref:"description",margin:0}),h.createElement("div",{className:"flex justify-center pt-4"},h.createElement(y.Z,{raised:!0,onClick:this.onClickCancel},"CANCEL"),h.createElement(y.Z,{raised:!0,primary:!0,marginLeft:16,onClick:this.onClickSend},"SEND"))))}}]),n}(n(88194).a)},75722:(e,t,n)=>{n.r(t),n.d(t,{default:()=>k});var a=n(34575),r=n.n(a),o=n(93913),i=n.n(o),l=n(2205),s=n.n(l),c=n(78585),u=n.n(c),d=n(29754),m=n.n(d),f=n(87452),p=n(35848),h=n(61811),g=n(19955),y=n(88194),v=n(54894),E=n(26975),A=n(31288),C=n(47628);function _(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=m()(e);if(t){var r=m()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return u()(this,n)}}const k=function(e){s()(a,e);var t=_(a);function a(){return r()(this,a),t.apply(this,arguments)}return i()(a,[{key:"init",value:function(){var e=this,t=this.props.importer;n.e(36).then(n.bind(n,9635)).then((function(t){var n=t.default;e.importer=new n,e.dimportLoaded.set(!0)})),"GTasks"===t&&(t="Google Tasks"),this.createObservables({isImporting:!1,preloadDisable:0,currentImporter:t||"Moo.do Backup",importMessage:"",dimportLoaded:!1}),this.refWorkflowy=g.createRef(),h.default.onIntroAction("Import")}},{key:"getImporterFromName",value:function(e){var t;switch(e){case"Wunderlist":t=this.importer.wunderlist;break;case"Workflowy":t=this.importer.workflowy;break;case"OPML":t=this.importer.opml;break;case"Moo.do Backup":t=this.importer.json;break;case"Google Tasks":t=this.importer.gtasks;break;case"Trello":t=this.importer.trello;break;case"Todoist":t=this.importer.todoist;break;default:try{f.Z.PAssert(287,!1,"Must add valid importer: ",e)}catch(n){f.Z.reportError(n)}}return t}},{key:"selectImporter",value:function(e){var t=this,n=this.getImporterFromName(e);this.currentImporter.set(e),this.importMessage.set(""),this.isImporting.set(!1),n&&n.preload&&!n.isLoaded&&(this.preloadDisable.set(this.preloadDisable.get()+1),this.importMessage.set("Loading Trello login..."),n.preload((function(){t.preloadDisable.set(t.preloadDisable.get()-1);var e=t.getImporterFromName(t.currentImporter.get());0===t.preloadDisable.get()&&e&&e.preload&&t.importMessage.set("")}),(function(e){t.preloadDisable.set(t.preloadDisable.get()-1),t.importMessage.set("Error loading Trello. Please try again.")})))}},{key:"onImportError",value:function(e,t){!1!==e?(e&&f.Z.isString(e)||(t||(t=e),e="Moo.do encountered an error importing your data."),f.Z.reportError(t||new Error(e),e),this.importMessage.set(e)):this.importMessage.set(""),this.isImporting.set(!1)}},{key:"runImport",value:function(e,t,n){var a=this;if(!(this.isImporting.get()||this.preloadDisable.get()>0)){var r=function(){a.importMessage.set(""),h.default.menus.alert({text:"Your data has been imported successfully!",actionText:"OK",callback:function(){h.default.menus.closeModal(p.Z.Modals.ImportData)}}),f.Z.sendEvent("ImportSuccess",e)};if("Workflowy"===e){var o=this.refWorkflowy.current.getValue(),i=this.importer.opmlToDocument(o,"Workflowy Import");!0===i?r():this.importMessage.set(i)}else{var l=this.getImporterFromName(e);if(l){f.Z.sendEvent("Menu","Import"+e),this.isImporting.set(!0),this.importMessage.set("Importing...");try{this.importer.runImport(l,t,n,(function(){a.isImporting.set(!1),r()}),this.onImportError)}catch(s){this.onImportError("There was an issue importing your data. Please try again later.",s)}}}}}},{key:"onTapSelect",value:function(e){this.selectImporter(e)}},{key:"whichArea",value:function(){switch(this.state.currentImporter){case"Wunderlist":return"disabled";case"Workflowy":return"WorkflowyArea";case"OPML":case"Moo.do Backup":return"UploadArea";case"Google Tasks":case"Trello":case"Todoist":return"OAuthArea";default:try{f.Z.PAssert(288,!1,"Must add valid importer")}catch(e){f.Z.reportError(e)}}return!1}},{key:"onClickSupport",value:function(){h.default.menus.openModal(p.Z.Modals.ReportBug)}},{key:"onClickImport",value:function(){if(!this.isImporting.get()){var e=this.refs.email&&this.refs.email.getValue(),t=this.refs.password&&this.refs.password.getValue();this.runImport(this.state.currentImporter,e,t)}}},{key:"renderListItem",value:function(e){return g.createElement(A.G,{onClick:this.onTapSelect.bind(this,e)},e)}},{key:"renderContent",value:function(){var e,t=this.state,n=this.state.currentImporter,a=this.whichArea(),r=g.createElement(E.Z,{primary:!0,enabled:0===t.preloadDisable&&!t.isImporting,onClick:this.onClickImport},"IMPORT");return"UploadArea"===a?e=g.createElement("div",{id:"importUploadArea"},g.createElement("div",{className:"importTitle"},"Upload ",n," file"),g.createElement("div",null,"Select a","OPML"===n?"n":""," ",n," file to upload"),g.createElement("form",{name:"importFileUpload"},g.createElement("input",{id:"importFileUploadButton",type:"file",required:!0,name:"importFile"}))):"OAuthArea"===a?e=g.createElement("div",null,g.createElement("div",{className:"importTitle"},"Import data from ",n),g.createElement("div",null,"Click to login to your account")):"disabled"===a?(e=g.createElement("div",null,g.createElement("div",null,"Importing data from ",n," is not yet migrated to the new backend. Sorry about that! Please contact support.")),r=g.createElement(E.Z,{style:{marginLeft:0},raised:!0,onClick:this.onClickSupport},"Contact support")):"WorkflowyArea"===a&&(e=g.createElement("div",null,g.createElement("div",{className:"importTitle",style:{marginBottom:24}},"Import data from Workflowy"),g.createElement("div",null,"In Workflowy, click the gear icon in the top right and select Export All. Select OPML and copy it, and paste it in the box below."),g.createElement(C.Z,{height:300,ref:this.refWorkflowy}))),g.createElement("div",{className:"importInside"},e,r,g.createElement("div",{className:"importMessage"},t.importMessage))}},{key:"render",value:function(){var e,t="Loading...";return this.state.dimportLoaded&&(e=g.createElement(A.Z,{inset:!0},g.createElement(A.G,{type:"header"},"IMPORT FROM DATA"),this.renderListItem("Moo.do Backup"),this.renderListItem("OPML"),g.createElement(A.G,{type:"header"},"IMPORT FROM APP"),this.renderListItem("Wunderlist"),this.renderListItem("Google Tasks"),this.renderListItem("Workflowy"),this.renderListItem("Trello"),this.renderListItem("Todoist")),t=this.renderContent()),g.createElement(v.Z,{id:"modalImport",width:700,height:540,sidebarWidth:180,modalID:p.Z.Modals.ImportData},g.createElement("div",{key:"sidebar"},e),g.createElement("div",{key:"content"},t))}}]),a}(y.a)},64519:(e,t,n)=>{n.r(t),n.d(t,{default:()=>k});var a=n(67154),r=n.n(a),o=n(34575),i=n.n(o),l=n(93913),s=n.n(l),c=n(2205),u=n.n(c),d=n(78585),m=n.n(d),f=n(29754),p=n.n(f),h=n(35848),g=n(87452),y=n(19955),v=n(61811),E=n(26975),A=n(54894),C=n(98434);function _(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=p()(e);if(t){var r=p()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return m()(this,n)}}const k=function(e){u()(n,e);var t=_(n);function n(){return i()(this,n),t.apply(this,arguments)}return s()(n,[{key:"onTransactionClick",value:function(e){var t=g.Z.clone(e),n=v.default.billingManager.userProperties.get();t.company=n.invoiceCompany,t.address=n.invoiceAddress;var a=window.btoa(JSON.stringify(t));v.default.openUrl("https://www.moo.do/invoice#d="+a)}},{key:"render",value:function(){var e=this;return y.createElement(A.Z,r()({},this.props,{id:"modalInvoices",scrollable:!1,modalID:h.Z.Modals.Invoices,ref:"modal"}),y.createElement("div",{key:"content",className:"flex"},this.props.transactions.length>0&&y.createElement(C.Z,{className:"flex-1 overflow-y-auto transactionsTable"},y.createElement("div",{key:"header"},y.createElement("div",null,"Transaction Date"),y.createElement("div",null,"Amount"),y.createElement("div",null)),this.props.transactions.map((function(t){var n=new Date(t.date).toString(v.default.International.getFormat(h.Z.DFormat.LongStrDate));return y.createElement("div",{key:t.id},y.createElement("div",null,n),y.createElement("div",null,t.amount),y.createElement(E.Z,{primary:!0,onClick:e.onTransactionClick.bind(e,t),height:"auto"},"VIEW"))}))),0===this.props.transactions.length&&y.createElement("div",null,"There are not transactions available for this account.")))}}]),n}(n(88194).a)},67881:(e,t,n)=>{n.r(t),n.d(t,{default:()=>k});var a=n(34575),r=n.n(a),o=n(93913),i=n.n(o),l=n(2205),s=n.n(l),c=n(78585),u=n.n(c),d=n(29754),m=n.n(d),f=n(61811),p=n(87452),h=n(35848),g=n(89088),y=n(19955),v=n(88194),E=n(54894),A=n(26975),C=n(1154);function _(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=m()(e);if(t){var r=m()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return u()(this,n)}}const k=function(e){s()(n,e);var t=_(n);function n(){return r()(this,n),t.apply(this,arguments)}return i()(n,[{key:"init",value:function(){this.createObservables({isLoaded:!1,error:!1}),this.refModal=y.createRef()}},{key:"onLoaded",value:function(){this.isLoaded.set(!0)}},{key:"onError",value:function(){this.isLoaded.set(!0,!1),this.error.set("Could not load image")}},{key:"openExternal",value:function(){this.props.buttonAction?this.props.buttonAction():f.default.openUrl(this.props.src),this.close()}},{key:"close",value:function(){this.refModal.current.close()}},{key:"render",value:function(){var e=this.props,t=this.state,n=e.src,a={maxWidth:Math.min(.95*g.Z.windowWidth(),900),maxHeight:Math.min(.95*g.Z.windowHeight()-30,900),visibility:!t.isLoaded&&"hidden"},r=p.Z.classNames({loaded:t.isLoaded});return y.createElement(E.Z,{id:"modalLightbox",className:r,closeButton:!1,scrollable:!1,modalID:h.Z.Modals.Lightbox,ref:this.refModal},y.createElement("div",{key:"content"},!t.isLoaded&&y.createElement(C.Z,{center:!0}),!t.error&&y.createElement("img",{src:n,style:a,onLoad:this.onLoaded,onError:this.onError,onClick:this.close,ref:"image"}),t.error&&y.createElement("div",{className:"lightboxText"},t.error),t.isLoaded&&y.createElement(A.Z,{id:"lightboxOpen",className:"c-border-heavy",primary:!0,height:30,onClick:this.openExternal},e.buttonText||(g.Z.app?"Open in browser":"Open in new tab"))))}}]),n}(v.a)},87938:(e,t,n)=>{n.r(t),n.d(t,{default:()=>p});var a=n(67154),r=n.n(a),o=n(6479),i=n.n(o),l=n(35848),s=n(61811),c=n(19955),u=n(26975),d=n(54894),m=n(72475),f=["text","options"];const p=(0,m.Z)((function(e){var t=e.text,n=e.options,a=i()(e,f),o=(0,c.useRef)(),m=function(e){return s.default.menus.closeModal(l.Z.Modals.Options,e)};return c.createElement(d.Z,r()({},a,{id:"modalOptions",title:"Please Choose",small:!0,backdropClose:!1,scrollable:!1,modalID:l.Z.Modals.Options,ref:o}),c.createElement("div",{key:"content"},t),c.createElement("div",{key:"buttons"},n.map((function(e,t){return c.createElement(u.Z,{key:t,raised:!0,width:120,margin:"0 8px",onClick:function(){return m(e)}},e)})),c.createElement(u.Z,{cancel:!0,raised:!0,width:100,margin:"0 8px",onClick:function(){return m()}},"Cancel")))}))},22453:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var a=n(67154),r=n.n(a),o=n(6479),i=n.n(o),l=n(76611),s=n(35848),c=n(89088),u=n(19955),d=n(54894),m=n(72475),f=n(29875),p=n(55626),h=["pane","scrollToItem"];const g=(0,m.Z)((function(e){var t=e.pane,n=e.scrollToItem,a=i()(e,h),o=(0,u.useRef)(),m=(0,u.useMemo)((function(){return n?Math.max(0,t.indexOfItem(n)):0}),[]);t.setRect(Object.assign({},t.rect.get(),{width:Math.min(Math.round(c.Z.windowWidth()*s.Z.ModalMaxWidthPerc*.01),800),height:Math.min(Math.round(c.Z.windowHeight()*s.Z.ModalMaxHeightPerc*.01),900)}));var g=function(){var e=o.current.getElement().getBoundingClientRect();t.setRect(Object.assign({},t.rect.get(),{width:Math.round(e.width),height:Math.round(e.height)}))};(0,f.Z)(c.Z.windowSize,g),(0,u.useEffect)((function(){g(),n&&t.type===s.Z.PaneMode.Task&&n.highlight(),l.Z.selectIndex(m,-1)}),[]);return u.createElement(d.Z,r()({},a,{id:"modalPane",width:800,height:900,scrollable:!1,modalID:s.Z.Modals.ModalPane,style:{lineHeight:"unset"},ref:o}),u.createElement("div",{key:"content"},u.createElement(p.Z,{pane:t,isPopup:!0,initialScrollIndex:Math.max(0,m-4)})))}))},1667:(e,t,n)=>{n.r(t),n.d(t,{default:()=>b});var a=n(67154),r=n.n(a),o=n(59713),i=n.n(o),l=n(48926),s=n.n(l),c=n(63038),u=n.n(c),d=n(6479),m=n.n(d),f=n(87757),p=n.n(f),h=n(35848),g=n(19955),y=n(61811),v=n(26975),E=n(15769),A=n(54894),C=n(72475),_=n(48164),k=["title","text","fields","noCancel","validate"];const b=(0,C.Z)((function(e){var t=e.title,n=e.text,a=e.fields,o=e.noCancel,l=e.validate,c=m()(e,k),d=[];a.forEach((function(e,t){d[t]=(0,g.useRef)()}));var f=(0,g.useState)(),C=u()(f,2),b=C[0],x=C[1],w=function(){s()(p().mark((function e(){var t,n;return p().wrap((function(e){for(var a=0;;){if(a++>5e3&&__infLoop&&__infLoop(a))throw new RangeError;switch(e.prev=e.next){case 0:return t=d.map((function(e){return e.current.getValue()})),e.next=3,null===l||void 0===l?void 0:l(t);case 3:(n=e.sent)?x(n):y.default.menus.closeModal(h.Z.Modals.Prompt,t);case 5:case"end":return e.stop()}}}),e)})))()};return(0,_.K7)(i()({},h.Z.KeyCode.Enter,w),[]),g.createElement(A.Z,r()({},c,{id:"modalPrompt",title:t,noCancel:o,closeButton:!o,backdropClose:!o,small:!0,scrollable:!1,modalID:h.Z.Modals.Prompt}),g.createElement("div",{key:"content",className:"c-foreground"},n&&g.createElement("div",{className:"pb-4"},n),a.map((function(e,t){return g.createElement(E.Z,{key:t,focused:0===t,ref:d[t],type:e.type,placeholder:e.placeholder,value:e.value,className:t>0&&"mt-4"})})),b&&g.createElement("div",{className:"mt-2 error"},b)),g.createElement("div",{key:"buttons",className:"flex justify-end"},g.createElement(v.Z,{primary:!0,width:100,onClick:w},"OK"),!o&&g.createElement(v.Z,{width:100,onClick:function(){return y.default.menus.closeModal(h.Z.Modals.Prompt)}},"CANCEL")))}))},95384:(e,t,n)=>{n.r(t),n.d(t,{default:()=>k});var a=n(67154),r=n.n(a),o=n(34575),i=n.n(o),l=n(93913),s=n.n(l),c=n(2205),u=n.n(c),d=n(78585),m=n.n(d),f=n(29754),p=n.n(f),h=n(35848),g=n(61811),y=n(19955),v=n(88194),E=n(26975),A=n(47628),C=n(54894);function _(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=p()(e);if(t){var r=p()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return m()(this,n)}}const k=function(e){u()(n,e);var t=_(n);function n(){return i()(this,n),t.apply(this,arguments)}return s()(n,[{key:"sendReport",value:function(e){var t=this.props;g.default.EmailPreview.reportMessage(t.accountID,t.threadID,t.msgID,this.refText.current.getValue(),e),this.refModal.current.close()}},{key:"onClickSend",value:function(){this.sendReport(!0)}},{key:"onClickCancel",value:function(){this.sendReport(!1)}},{key:"render",value:function(){return y.createElement(C.Z,r()({},this.props,{id:"modalReportProblem",scrollable:!1,modalID:h.Z.Modals.ReportProblem,ref:this.refModal}),y.createElement("div",{key:"content"},y.createElement("div",{className:"c-foreground-medium"},"Please describe the display problem."),y.createElement(A.Z,{ref:this.refText,focused:!0}),y.createElement("div",{className:"c-foreground-medium"},"This will send the content of your email to the developers to fix display errors.")),y.createElement("div",{key:"buttons",style:{textAlign:"right"}},y.createElement(E.Z,{width:100,onClick:this.onClickCancel},"CANCEL"),y.createElement(E.Z,{primary:!0,width:100,onClick:this.onClickSend},"SEND")))}}]),n}(v.a)},31354:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Mt});var a=n(63038),r=n.n(a),o=n(35848),i=n(87452),l=n(89088),s=n(19955),c=n(61811),u=n(54894),d=n(48926),m=n.n(d),f=n(87757),p=n.n(f),h=n(48978),g=n(26975),y=n(9642),v=n(72475),E=n(4253),A=n(35731),C=n(1154),_="text-xs bold c-foreground-very-faded mt-8 mb-4",k=32;const b=(0,v.Z)((function(e){var t,n=e.openSection,a=c.default.billingManager,l=(0,E.Z)(a._hasValidBillingData,a.daysLeftInTrial,a.premiumPlan,h.Z.user,A.Z.onlineStatus,a._premiumStatus),u=r()(l,5),d=u[0],f=u[1],v=u[2],b=u[3],x=u[4],w=(0,s.useState)(!1),D=r()(w,2),Z=D[0],B=D[1],M=(0,y.Z)(),N=function(){var e=m()(p().mark((function e(){return p().wrap((function(e){for(var t=0;;){if(t++>5e3&&__infLoop&&__infLoop(t))throw new RangeError;switch(e.prev=e.next){case 0:case 1:case"end":return e.stop()}}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=m()(p().mark((function e(t,n){return p().wrap((function(e){for(var t=0;;){if(t++>5e3&&__infLoop&&__infLoop(t))throw new RangeError;switch(e.prev=e.next){case 0:return e.abrupt("return",c.default.tryWithErrorMessageHandling(m()(p().mark((function e(){return p().wrap((function(e){for(var t=0,n=0;;){if(t++>5e3&&__infLoop&&__infLoop(t))throw new RangeError;if(n++>5e3&&__infLoop&&__infLoop(n))throw new RangeError;switch(e.prev=e.next){case 0:return e.next=2,h.Z.linkWithGoogle();case 2:case"end":return e.stop()}}}),e)}))),(function(){n(),M()})));case 1:case"end":return e.stop()}}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),S=function(){var e=m()(p().mark((function e(t,n){return p().wrap((function(e){for(var t=0;;){if(t++>5e3&&__infLoop&&__infLoop(t))throw new RangeError;switch(e.prev=e.next){case 0:return e.abrupt("return",c.default.tryWithErrorMessageHandling(m()(p().mark((function e(){return p().wrap((function(e){for(var t=0,n=0;;){if(t++>5e3&&__infLoop&&__infLoop(t))throw new RangeError;if(n++>5e3&&__infLoop&&__infLoop(n))throw new RangeError;switch(e.prev=e.next){case 0:return e.next=2,h.Z.unlinkEmail();case 2:case"end":return e.stop()}}}),e)}))),(function(){n(),M()})));case 1:case"end":return e.stop()}}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),I=function(){var e=m()(p().mark((function e(t,n){return p().wrap((function(e){for(var t=0;;){if(t++>5e3&&__infLoop&&__infLoop(t))throw new RangeError;switch(e.prev=e.next){case 0:return e.abrupt("return",c.default.tryWithErrorMessageHandling(m()(p().mark((function e(){return p().wrap((function(e){for(var t=0,n=0;;){if(t++>5e3&&__infLoop&&__infLoop(t))throw new RangeError;if(n++>5e3&&__infLoop&&__infLoop(n))throw new RangeError;switch(e.prev=e.next){case 0:return e.next=2,h.Z.unlinkGoogle();case 2:case"end":return e.stop()}}}),e)}))),(function(){n(),M()})));case 1:case"end":return e.stop()}}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),T=h.Z.getAccountName(),O=h.Z.getAccountEmail(),R=a.hasPremium(),L=a.hasSubscription(),F=null===(t=h.Z.getEmailProvider())||void 0===t?void 0:t.email,U=h.Z.getGoogleProvider(),W=null===U||void 0===U?void 0:U.email;return!W&&U&&(W=F),s.createElement("div",{key:"content",className:"new-modal-group"},a.isTrialOver()&&!Z&&s.createElement("div",{className:"new-modal-row-1c"},s.createElement("div",{className:"new-modal-row trialEnd"},s.createElement("div",null,"Your trial has ended. Please upgrade to continue using Premium features."),s.createElement("div",{className:"flex justify-center my-4"},s.createElement(g.Z,{raised:!0,primary:!0,onClick:function(){n("Upgrade")}},"UPGRADE"),s.createElement(g.Z,{raised:!0,className:"ml-4",onClick:function(){B(!0)}},"DISMISS"))),s.createElement("hr",null)),s.createElement("div",{className:"pt-4 text-2xl bold center"},T&&"Hi "+T),d&&a.isTrialState()&&s.createElement("div",{className:"subtext center"},"We hope your trial of Premium is going well."),d&&R&&s.createElement("div",{className:"subtext center"},"We are very happy to have you as a Premium Member."),T&&d&&!R&&!a.isTrialState()&&s.createElement("div",{className:"subtext center"},"We hope Moo.do is helping you be productive."),s.createElement("div",{className:_},"ACCOUNT STATUS"),s.createElement("div",{className:"new-modal-subrow"},s.createElement("div",null,s.createElement("div",{className:"subtitle"},"Account email"),s.createElement("div",{className:"subtext"},O)),s.createElement("div",null,s.createElement("div",{className:"subtitle"},"Member since"),s.createElement("div",{className:"subtext"},a.getJoinDate().toString(c.default.International.getFormat(o.Z.DFormat.LongStrDate)))),a.isTrialState()&&!a.isTrialOver()&&s.createElement("div",null,s.createElement("div",{className:"subtitle"},"Days left in trial"),s.createElement("div",{className:"subtext"},f)),R&&s.createElement("div",null,s.createElement("div",{className:"subtitle"},"Premium since"),s.createElement("div",{className:"subtext"},a.getPremiumStartDate().toString(c.default.International.getFormat(o.Z.DFormat.LongStrDate)))),a.canceledUserHasPremiumAccess()&&s.createElement("div",null,s.createElement("div",{className:"subtitle"},"Premium features active until"),s.createElement("div",{className:"subtext"},a.premiumEndDateText())),R&&L&&s.createElement("div",null,s.createElement("div",{className:"subtitle"},"Next billing cycle"),s.createElement("div",{className:"subtext"},a.nextBillingDateText()))),"Online"===x?s.createElement(s.Fragment,null,s.createElement("div",{className:_},"MANAGE SIGNIN"),s.createElement("div",{className:"new-modal-subrow"},b&&s.createElement(s.Fragment,null,s.createElement("div",{className:"flexbox"},s.createElement("div",{className:"mr-4",style:{minWidth:180}},s.createElement("div",null,s.createElement("b",null,"Email signin:")),s.createElement("div",{className:"mt-1"},F)),F?s.createElement("div",null,s.createElement(g.Z,{raised:!0,height:k,onClick:N},"CHANGE EMAIL"),s.createElement(g.Z,{raised:!0,height:k,marginLeft:16,onClick:function(){m()(p().mark((function e(){return p().wrap((function(e){for(var t=0;;){if(t++>5e3&&__infLoop&&__infLoop(t))throw new RangeError;switch(e.prev=e.next){case 0:return e.next=2,h.Z.reauthenticateEmail();case 2:e.sent&&c.default.menus.promptComplex({title:"Enter new password",fields:[{placeholder:"Password",type:"password"},{placeholder:"Confirm password",type:"password"}],validate:function(){var e=m()(p().mark((function e(t){var n,a,o;return p().wrap((function(e){for(var i=0,l=0;;){if(l++>5e3&&__infLoop&&__infLoop(l))throw new RangeError;if(i++>5e3&&__infLoop&&__infLoop(i))throw new RangeError;switch(e.prev=e.next){case 0:return n=r()(t,2),a=n[0],o=n[1],e.abrupt("return",a?a!==o&&"Passwords do not match":"Invalid password");case 2:case"end":return e.stop()}}}),e)})));return function(t){return e.apply(this,arguments)}}(),callback:function(){var e=m()(p().mark((function e(t){var n,a;return p().wrap((function(e){for(var o=0,i=0;;){if(i++>5e3&&__infLoop&&__infLoop(i))throw new RangeError;if(o++>5e3&&__infLoop&&__infLoop(o))throw new RangeError;switch(e.prev=e.next){case 0:if(!t){e.next=4;break}return n=r()(t,1),a=n[0],e.next=4,c.default.tryWithErrorMessageHandling(m()(p().mark((function e(){return p().wrap((function(e){for(var t=0,n=0,r=0;;){if(n++>5e3&&__infLoop&&__infLoop(n))throw new RangeError;if(t++>5e3&&__infLoop&&__infLoop(t))throw new RangeError;if(r++>5e3&&__infLoop&&__infLoop(r))throw new RangeError;switch(e.prev=e.next){case 0:return e.next=2,h.Z.changePassword(a);case 2:case"end":return e.stop()}}}),e)}))),M);case 4:case"end":return e.stop()}}}),e)})));return function(t){return e.apply(this,arguments)}}()});case 4:case"end":return e.stop()}}}),e)})))()}},"CHANGE PASSWORD"),W&&s.createElement(g.Z,{raised:!0,height:k,marginLeft:16,onClick:S},"UNLINK")):s.createElement("div",null,s.createElement(g.Z,{height:k,raised:!0,onClick:function(e,t){return c.default.menus.confirm("Please reauthenticate your Google account first.",function(){var e=m()(p().mark((function e(n){return p().wrap((function(e){for(var a=0;;){if(a++>5e3&&__infLoop&&__infLoop(a))throw new RangeError;switch(e.prev=e.next){case 0:if(!n){e.next=7;break}return e.next=3,h.Z.reauthenticateGoogle();case 3:e.sent&&c.default.menus.promptComplex({title:"Create Email Signin",fields:[{placeholder:"Email",type:"email"},{placeholder:"Password",type:"password"},{placeholder:"Confirm Password",type:"password"}],validate:function(){var e=m()(p().mark((function e(t){var n,a,o,l;return p().wrap((function(e){for(var s=0,c=0;;){if(c++>5e3&&__infLoop&&__infLoop(c))throw new RangeError;if(s++>5e3&&__infLoop&&__infLoop(s))throw new RangeError;switch(e.prev=e.next){case 0:return n=r()(t,3),a=n[0],o=n[1],l=n[2],e.abrupt("return",(i.Z.isEmail(a)?o!==l&&"Passwords do not match":"Invalid email address")||o.length<6&&"Please use a longer password for better security.");case 2:case"end":return e.stop()}}}),e)})));return function(t){return e.apply(this,arguments)}}(),callback:function(){var e=m()(p().mark((function e(n){var a,o,i;return p().wrap((function(e){for(var l=0,s=0;;){if(s++>5e3&&__infLoop&&__infLoop(s))throw new RangeError;if(l++>5e3&&__infLoop&&__infLoop(l))throw new RangeError;switch(e.prev=e.next){case 0:if(!n){e.next=4;break}return a=r()(n,2),o=a[0],i=a[1],e.next=4,c.default.tryWithErrorMessageHandling(m()(p().mark((function e(){return p().wrap((function(e){for(var t=0,n=0,a=0;;){if(n++>5e3&&__infLoop&&__infLoop(n))throw new RangeError;if(t++>5e3&&__infLoop&&__infLoop(t))throw new RangeError;if(a++>5e3&&__infLoop&&__infLoop(a))throw new RangeError;switch(e.prev=e.next){case 0:return e.next=2,h.Z.linkWithEmail(o,i);case 2:case"end":return e.stop()}}}),e)}))),M);case 4:t();case 5:case"end":return e.stop()}}}),e)})));return function(t){return e.apply(this,arguments)}}()}),e.next=8;break;case 7:t();case 8:case"end":return e.stop()}}}),e)})));return function(t){return e.apply(this,arguments)}}(),{textYes:"OK",textNo:"CANCEL"}),!0}},"SETUP"))),s.createElement("div",{className:"flexbox"},s.createElement("div",{className:"mr-4",style:{minWidth:180}},s.createElement("div",null,s.createElement("b",null,"Google signin:")),s.createElement("div",{className:"mt-1"},W)),W?F?s.createElement("div",null,s.createElement(g.Z,{raised:!0,height:k,onClick:I},"UNLINK")):null:s.createElement("div",null,s.createElement(g.Z,{raised:!0,height:k,onClick:P},"SETUP"))))),s.createElement("div",{className:_},"MANAGE ACCOUNT"),s.createElement("div",{className:"new-modal-subrow"},(!R||"Lifetime"===v)&&s.createElement("div",null,s.createElement(g.Z,{raised:!0,height:k,onClick:a.onTapDeleteAccount},"DELETE ACCOUNT")),R&&L&&"Lifetime"!==v&&s.createElement("div",null,s.createElement(g.Z,{raised:!0,height:k,onClick:a.onTapUpdatePaymentMethod},"UPDATE PAYMENT METHOD")),R&&L&&"Lifetime"!==v&&s.createElement("div",null,s.createElement(g.Z,{raised:!0,height:k,onClick:a.cancelSubscription},"CANCEL PREMIUM"))),L&&s.createElement(s.Fragment,null,s.createElement("div",{className:_},"INVOICES"),s.createElement("div",null,s.createElement(g.Z,{raised:!0,height:k,onClick:a.onTapViewInvoices},"VIEW INVOICES")))):s.createElement(C.Z,{className:"mt-8"},"Plase go online to adjust account settings"))}));var x=n(34575),w=n.n(x),D=n(93913),Z=n.n(D),B=n(2205),M=n.n(B),N=n(78585),P=n.n(N),S=n(29754),I=n.n(S),T=n(88194),O=n(8607),R=n(67154),L=n.n(R),F=n(6479),U=n.n(F);function W(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=I()(e);if(t){var r=I()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return P()(this,n)}}const Y=function(e){M()(n,e);var t=W(n);function n(){return w()(this,n),t.apply(this,arguments)}return Z()(n,[{key:"init",value:function(){this.amtMoved=void 0,this.prevPos=void 0,this.isDragging=!1,this.createObservables({dragPosition:void 0})}},{key:"getElement",value:function(){return this.refs.element}},{key:"getDraggingElement",value:function(){return this.refs.draggingElement}},{key:"getDragPosition",value:function(){return this.state.dragPosition}},{key:"onMouseDown",value:function(e){var t=this.props.horizontal,n=t?e.clientX:e.clientY;this.amtMoved=0,this.prevPos={left:e.clientX,top:e.clientY},this.dragOffset=i.Z.offset(this.refs.element)[t?"left":"top"]-n,this.props.allowDragOut&&(this.startPos={left:e.clientX,top:e.clientY}),i.Z.onMouseMoveUp(this.onMouseMoveDragging,this.onMouseUpDragging)}},{key:"onMouseMoveDragging",value:function(e){var t=this.props,n=t.horizontal,a=n?e.clientX:e.clientY;if(this.amtMoved+=Math.abs(e.clientX-this.prevPos.left)+Math.abs(e.clientY-this.prevPos.top),this.amtMoved>3){this.isDragging||(this.isDragging=!0,t.onDragStart(this)),t.onDragMove(this,e);var r=n?"left":"top",o=this.refs.element.parentElement,l=i.Z.offset(o),s=a+this.dragOffset-l[r],c={};n?(c.left=s,t.allowDragOut&&(c.top=e.clientY-this.startPos.top)):(c.top=s,t.allowDragOut&&(c.left=e.clientX-this.startPos.left)),this.dragPosition.set(c)}this.prevPos={left:e.clientX,top:e.clientY}}},{key:"onMouseUpDragging",value:function(e){this.isDragging&&this.props.onDragEnd(this,e),this.amtMoved=void 0,this.prevPos=void 0,this.dragOffset=void 0,this.isDragging=!1,this.dragPosition.set(void 0)}},{key:"render",value:function(){var e=this.state,t=this.props,n=e.dragPosition,a=!i.Z.isEmpty(n),r=i.Z.classNames(t.className,"fancySortableItem",{noClick:t.noDrag},{dragging:a||t.isDragging}),o=i.Z.classNames((a||t.isDragging)&&t.classDragging),c={};return n&&(c[l.Z.transform.react]="translate3d("+(n.left||0)+"px,"+(n.top||0)+"px,0)"),s.createElement("div",{className:r,onMouseDownCapture:this.onMouseDown,ref:"element"},s.createElement("span",{className:o},t.children),a&&s.createElement("div",{className:"draggingElement",style:c,ref:"draggingElement"},t.children))}}]),n}(T.a);var H=["moveChild","horizontal","getDragTargetFromElement","onDragOut","classDragging","onDragEnd"];function j(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=I()(e);if(t){var r=I()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return P()(this,n)}}const z=function(e){M()(n,e);var t=j(n);function n(){return w()(this,n),t.apply(this,arguments)}return Z()(n,[{key:"init",value:function(){this.createObservables({draggingChild:void 0})}},{key:"getElement",value:function(){return this.refs.element}},{key:"onDragStart",value:function(e){this.isDraggingInside=!0,this.dragDidMove=!1,this.draggingChild.set(e)}},{key:"findTargetIndex",value:function(e){for(var t=0,n=s.Children.count(this.props.children),a=this.props.horizontal?"left":"top",r=this.props.horizontal?"width":"height",o=e.props.owner===this?e.props.index:-1,l=e.getDraggingElement(),c=i.Z.offset(l)[a],u=l.getBoundingClientRect()[r],d=-1,m=!1,f=0;f<n;f++){if(t++>5e3&&__infLoop&&__infLoop(t))throw new RangeError;var p=this.refs["el_"+f];if(p!==this.draggingChild.get()){var h=p.getElement(),g=i.Z.offset(h)[a],y=h.getBoundingClientRect()[r],v=Math.min(y,u)/2;if(f>o)c+v>=g&&(d=f,f===n-1&&!m&&c>g+v&&(d=n));else if(c<=g+v)return f}else m=!0}return d}},{key:"onDragMove",value:function(e,t){if(e.getDraggingElement()){var n=this,a=e.props.index,r=e.props.owner;0,this.props.getDragTargetFromElement&&!(n=this.props.getDragTargetFromElement(t.target))&&this.isDraggingInside&&(this.isDraggingInside=!1,this.props.onDragOut(a,r)),n&&(this.isDraggingInside=!0,n.handleDragMove(e,t))}}},{key:"handleDragMove",value:function(e,t){var n=e.props.index,a=e.props.owner,r=this.findTargetIndex(e);r>=0&&(r!==n||this!==a)&&(this.dragDidMove=!0,this.props.moveChild(n,r,a,this))}},{key:"onDragEnd",value:function(e,t){if(this.draggingChild.set(void 0),this.props.onDragEnd){var n=!1;if(this.props.getDragTargetFromElement){var a=this.props.getDragTargetFromElement(t.target);n=a&&a!==this}this.props.onDragEnd(e,n,this.dragDidMove||n)}}},{key:"render",value:function(){var e=this,t=this.props,n=(t.moveChild,t.horizontal),a=(t.getDragTargetFromElement,t.onDragOut,t.classDragging,t.onDragEnd,U()(t,H)),r=i.Z.classNames("fancySortableList",t.className,{dragging:!!this.state.draggingChild},{flexbox:n}),o=s.Children.map(t.children,(function(a,r){return s.createElement(Y,{owner:e,onDragStart:e.onDragStart,onDragMove:e.onDragMove,onDragEnd:e.onDragEnd,ref:"el_"+r,index:r,horizontal:n,noDrag:a.props["data-nodrag"],isDragging:a.props["data-isdragging"],allowDragOut:!!t.getDragTargetFromElement,classDragging:t.classDragging},a)}));return s.createElement("div",L()({},a,{className:r,ref:"element"}),o)}}]),n}(T.a),V=(0,v.Z)((function(e){var t=e.feature,n=e.onlyPro,a=e.openSection,o=(0,E.Z)(c.default.billingManager.hasPremiumFeaturesObservable,c.default.billingManager.premiumLevel),i=r()(o,2),l=i[0],u=i[1];return l&&(!n||"Pro"===u)?null:s.createElement("div",{className:"flex items-center px-4 py-2 mb-4 rounded-lg c-bg-autocomplete-highlight"},s.createElement("div",{className:"flex-1"},t," ",t.endsWith("s")?"are":"is"," a Premium feature."),s.createElement(g.Z,{raised:!0,primary:!0,onClick:function(){return a("Moo.do Account")}},"GO PREMIUM"))}));function G(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=I()(e);if(t){var r=I()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return P()(this,n)}}var K=["overdue","starred","important","#next","#soon","#later","#someday"];const q=function(e){M()(n,e);var t=G(n);function n(){return w()(this,n),t.apply(this,arguments)}return Z()(n,[{key:"init",value:function(){for(var e=0,t=0,n=0,a=c.default.timeline.agendaSort.get(),r=[],o=Object.keys(a).map((function(e){return{key:e,value:a[e]}})),i=0;i<15;i++){if(e++>5e3&&__infLoop&&__infLoop(e))throw new RangeError;o.push(i)}o.sort(this.sortComparator);for(var l=0;l<K.length;l++){if(t++>5e3&&__infLoop&&__infLoop(t))throw new RangeError;var s=K[l];o.indexOfWithProperty("key",s)<0&&r.push({key:s,value:0})}for(var u=O.Z.getAll(),d=0;d<u.length;d++){if(n++>5e3&&__infLoop&&__infLoop(n))throw new RangeError;var m="#"+u[d].text;o.indexOfWithProperty("key",m)<0&&r.push({key:m,value:0})}r.sort(this.sortComparatorNonSort),this.createObservables({sortArray:o,nonSortArray:r,selected:{array:"sort",index:0}})}},{key:"getState",value:function(){return{hasPremiumFeatures:c.default.billingManager.hasPremiumFeaturesObservable}}},{key:"sortComparatorNonSort",value:function(e,t){var n=e.key[0],a=t.key[0];return"#"===n&&"#"!==a?1:"#"===a&&"#"!==n?-1:e.key.localeCompare(t.key)}},{key:"sortComparator",value:function(e,t){return(isNaN(e)?e.value:100*e)-(isNaN(t)?t.value:100*t)}},{key:"moveChild",value:function(e,t,n,a){var r=this.state,o=n&&n!==this.refs.sortList?"nonSort":"sort",i=a&&a!==this.refs.nonSortList?"sort":"nonSort",l=r[o+"Array"],s=r[i+"Array"],c=l===s,u="sort"===o?r.nonSortArray:r.sortArray,d=l[e];c?l.splice(e,1):d.isDragging=!0;var m=u.indexOfWithProperty("key",d.key);m>=0&&u.splice(m,1),s.splice(t,0,d),this[o+"Array"].set(l,!1),this[i+"Array"].set(s,!0)}},{key:"onDragOut",value:function(e,t){var n=t&&t!==this.refs.sortList?"nonSort":"sort",a=this.state[n+"Array"],r="sort"===n?this.nonSortArray:this.sortArray,o=a[e],i=r.indexOfWithProperty("key",o.key);i>=0&&r.splice(i,1)}},{key:"onDragEnd",value:function(e,t,n){var a=e.props.owner,r=e.props.index,o=a&&a!==this.refs.sortList?"nonSort":"sort",i=this.state[o+"Array"][r];if(i.isDragging=!1,t){var l=e.props.owner;(l&&l!==this.refs.nonSortList?this.sortArray:this.nonSortArray).splice(e.props.index,1)}this.sortArray.indexOf(i)<0&&this.nonSortArray.indexOf(i)<0&&this.nonSortArray.push(i),this.sortArray.notify(),n&&this.saveAfterTimeout()}},{key:"saveAfterTimeout",value:function(){this._saveTimeout&&clearTimeout(this._saveTimeout),this._saveTimeout=setTimeout(this.saveToSettings,200)}},{key:"saveToSettings",value:function(){var e=this.state,t=e.hasPremiumFeatures,n=e.sortArray;if(t){for(var a,r=0,o={},i=-1,l=0;l<n.length;l++){if(r++>5e3&&__infLoop&&__infLoop(r))throw new RangeError;var s=n[l];if(isNaN(s)){var u=100*i,d=a&&a>u?a+1:u+1;o[s.key]=d,a=d}else i=s}c.default.timeline.saveAgendaSort(o)}}},{key:"getDragTargetFromElement",value:function(e){var t=i.Z.findParent(e,"fancySortableList"),n=this.refs;return t===n.sortList.getElement()?n.sortList:t===n.nonSortList.getElement()?n.nonSortList:void 0}},{key:"onClickMoveToOtherList",value:function(){var e=this.state.selected,t=e.array,n=e.index,a="sort"===t?"nonSort":"sort",r=this.state[t+"Array"][n];isNaN(r)&&(this[t+"Array"].splice(n,1),this[a+"Array"].splice(0,0,r)),this.saveAfterTimeout()}},{key:"onClickListItem",value:function(e,t){this.selected.set({array:e,index:t})}},{key:"renderListItem",value:function(e,t,n,a){var r=this.state,o=this.onClickListItem.bind(this,a,t);if(isNaN(e)){var l=e.key.capitalize(),c=i.Z.classNames(n,{"tag c-tag":l.startsWith("#")},{"selected c-popup-item":r.selected.array===a&&r.selected.index===t});return s.createElement("div",{key:l,className:c,onClick:o,"data-isdragging":e.isDragging},l)}return s.createElement("div",{key:e,className:n+" date c-date","data-nodrag":!0},s.createElement("span",{className:"icon-calendar"}),s.createElement("span",null,"Today"+(e>0?" + "+e+" days":"")))}},{key:"render",value:function(){var e,t=0,n=0,a=this.state,r=a.sortArray,o=a.nonSortArray,l=[],c=[],u=a.selected.array,d=i.Z.classNames("agendaSortSettingsItem c-background"),m=i.Z.classNames({"icon-arrow_forward":"sort"===u},{"icon-arrow_back":"nonSort"===u});for(e=0;e<r.length;e++){if(t++>5e3&&__infLoop&&__infLoop(t))throw new RangeError;l.push(this.renderListItem(r[e],e,d,"sort"))}for(e=0;e<o.length;e++){if(n++>5e3&&__infLoop&&__infLoop(n))throw new RangeError;c.push(this.renderListItem(o[e],e,d,"nonSort"))}return s.createElement("div",{className:"agendaSortListsContainer modal-row flexbox flexvert",style:{height:"100%"}},s.createElement(V,{feature:"Agenda customization",openSection:this.props.openSection}),s.createElement("div",{className:"modal-row-title"},"Change agenda sort"),s.createElement("div",{className:"modal-subtext c-foreground-faded"},"Customize the sort order of the Agenda. Drag and drop tags and blocks to arrange them relative to dates."),s.createElement("div",{className:i.Z.classNames("modal-row agendaSortLists flex flex-1",!a.hasPremiumFeatures&&"opacity-50 pointer-events-none")},s.createElement("div",{className:"agendaSortListWrapper"},s.createElement("div",{className:"bold"},"Order on Agenda"),s.createElement(z,{className:"h-full agendaSortList w-96 c-border-light",moveChild:this.moveChild,onDragEnd:this.onDragEnd,onDragOut:this.onDragOut,ref:"sortList",getDragTargetFromElement:this.getDragTargetFromElement,classDragging:"c-foreground-very-faded"},l)),s.createElement("div",{className:"flex flex-col items-center justify-center h-full px-4"},s.createElement(g.Z,{raised:!0,round:!1,icon:m,onClick:this.onClickMoveToOtherList})),s.createElement("div",{className:"agendaSortListWrapper"},s.createElement("div",{className:"bold"},"Not on Agenda"),s.createElement(z,{className:"h-full agendaSortList w-96 c-border-light",moveChild:this.moveChild,onDragEnd:this.onDragEnd,onDragOut:this.onDragOut,ref:"nonSortList",getDragTargetFromElement:this.getDragTargetFromElement,classDragging:"c-foreground-very-faded"},c))))}}]),n}(T.a);var Q=n(14424),X=n(19270),J=(n(96214),n(86495)),$=n(63319);const ee=(0,v.Z)((function(e){var t,n=e.checked,a=e.checkedObservable,l=e.disabled,c=e.onChange,u=e.getCheckedFromObservable,d=e.getValueFromChecked;var m=(0,s.useRef)(),f=(0,J.Z)(m),p=(0,E.Z)(a),h=r()(p,1)[0],g=void 0===n?null!==(t=null===u||void 0===u?void 0:u(h))&&void 0!==t?t:h:n;f.width||(f.width=42);var y={backgroundColor:g?o.Z.ColorBrand:"#888"},v={x:g?f.width-18:2},A=i.Z.classNames("relative flex items-center cursor-pointer c-button-raised-primary c-shadow-thin borderBox",{mobutton:!1});return s.createElement($.E.div,{className:A,style:te,initial:y,animate:y,onClick:function(e){if(!l){var t=!g;c&&!1===c(t)||function(e){var t;null===a||void 0===a||a.set(null!==(t=null===d||void 0===d?void 0:d(e))&&void 0!==t?t:e)}(t),i.Z.stopPropagation(e)}},ref:m,transition:{duration:.5}},s.createElement($.E.div,{className:"absolute c-background c-shadow-light",style:ne,initial:v,animate:v,transition:o.Z.TransitionSpring}))}));var te={borderRadius:16,width:42,height:20},ne={borderRadius:50,width:16,height:16};const ae=(0,v.Z)((function(e){var t,n=e.title,a=e.description,o=e.checkedObservable,l=e.disabled,c=e.onChange,u=e.getCheckedFromObservable,d=e.getValueFromChecked;var m=(0,E.Z)(o),f=r()(m,1)[0],p=null!==(t=null===u||void 0===u?void 0:u(f))&&void 0!==t?t:f,h=function(e){var t;return o.set(null!==(t=null===d||void 0===d?void 0:d(e))&&void 0!==t?t:e)},g=i.Z.classNames("cursor-pointer py-4",{"px-4":!1}),y=i.Z.classNames("flex",{"flex-row-reverse":!1}),v=i.Z.classNames("f1","pl-3");return s.createElement("div",{className:g,onClick:function(){if(!l){var e=!p;h(e),c&&!1===c(e)&&h(!e)}}},s.createElement("div",{className:y},s.createElement(ee,{checkedObservable:o,getCheckedFromObservable:u,getValueFromChecked:d,disabled:l,onChange:c}),s.createElement("div",{className:v},s.createElement("div",{className:"font-bold font-big1",style:re},n),a&&s.createElement("div",{className:"pt-1 text-xs leading-tight c-foreground-light"},a))))}));var re={lineHeight:"18px"},oe=n(93379),ie=n.n(oe),le=n(7795),se=n.n(le),ce=n(90569),ue=n.n(ce),de=n(3565),me=n.n(de),fe=n(19216),pe=n.n(fe),he=n(44589),ge=n.n(he),ye=n(42994),ve={};ve.styleTagTransform=ge(),ve.setAttributes=me(),ve.insert=ue().bind(null,"head"),ve.domAPI=se(),ve.insertStyleElement=pe();ie()(ye.Z,ve);const Ee=ye.Z&&ye.Z.locals?ye.Z.locals:void 0,Ae=(0,v.Z)((function(e){var t,n=e.valueObservable,a=e.title,o=e.description,l=e.options,c=e.style,u=e.styleTitle,d=e.className,m=e.onChange,f=e.getValueFromSelected,p=e.getSelectedFromObservable,h=(0,E.Z)(n),g=r()(h,1)[0],y=null!==(t=null===p||void 0===p?void 0:p(g))&&void 0!==t?t:g,v=i.Z.classNames("c-background c-border-heavy my-2 rounded"),A=Object.assign({textIndent:4,width:100,height:32,fontSize:12},c);return s.createElement("div",{className:i.Z.classNames("py-2",d)},s.createElement("div",null,a&&s.createElement("span",{className:i.Z.classNames("font-bold pr-8 inline-block",Ee.title),style:u},a),s.createElement("select",{className:v,onChange:function(e){var t,a=null!==(t=null===f||void 0===f?void 0:f(e.target.value))&&void 0!==t?t:e.target.value;n.set(a),m&&m(a,g)},value:y,style:A},l.map((function(e){var t="string"===typeof e,n=t?e:Object.keys(e)[0],a=t?e:e[n];return s.createElement("option",{key:n,value:n},a)})))),o&&s.createElement("div",{className:"c-foreground-light text-xs leading-tight"},o))}));var Ce=n(77961),_e=n(35797);const ke=(0,v.Z)((function(e){var t,n=e.valueObservable,a=e.title,o=e.description,l=e.minValue,c=e.maxValue,u=e.interval,d=e.readonly,m=(e.style,e.styleTitle),f=e.className,p=e.onChange,h=e.getNumberFromObservable,g=e.getValueFromNumber,y=(0,E.Z)(n),v=r()(y,1)[0],A=null!==(t=null===h||void 0===h?void 0:h(v))&&void 0!==t?t:v;return s.createElement("div",{className:i.Z.classNames("py-2",f)},s.createElement("div",null,a&&s.createElement("span",{className:i.Z.classNames("font-bold pr-8 inline-block",Ee.title),style:m},a),s.createElement(_e.Z,{value:A,minValue:l,maxValue:c,interval:u,readonly:d,onChange:function(e){var t,a=null!==(t=null===g||void 0===g?void 0:g(e))&&void 0!==t?t:e;n.set(a),p&&p(a)}})),o&&s.createElement("div",{className:"c-foreground-light text-xs pt-3 leading-tight"},o))}));var be=n(59618),xe=["Minutes","Hours","Days"],we=function(e){return"Days"===e&&o.Z.MSPerDay||"Hours"===e&&o.Z.MSPerHour||"Minutes"===e&&o.Z.MSPerMinute};const De=(0,v.Z)((function(){var e=this,t=(0,s.useState)((function(){var e,t=Q.Z.getLastBackup();if(t>0){var n=new Date(t);e=X.Z.toHumanText(n)}else e="Not backed up";return e})),n=r()(t,2),a=n[0],l=n[1],u=(0,E.Z)(c.default.settings.backupFrequency),d=r()(u,1)[0],m=(0,Ce.Z)(function(e){return e>=o.Z.MSPerDay?"Days":e>=o.Z.MSPerHour?"Hours":e>=0?"Minutes":void 0}(d),!0),f=r()(m,2),p=f[0],h=f[1],g=Math.floor(d),y=(0,s.useCallback)((function(e){if(e&&!i.Z.isDemoMode()){var t=function(){c.default.settings.backupFrequency.set(o.Z.DefaultBackupFrequency)};Q.Z.isDriveBackupAuthorized()?t():Q.Z.authorize((function(e){e?t():c.default.settings.backupFrequency.set(0)}))}}),[]),v=(0,s.useCallback)((function(e){return Math.floor(e/we(h))}),[h]),A=(0,s.useCallback)((function(e){return Math.floor(e*we(h))}),[h]),C=(0,s.useCallback)((function(e,t){return c.default.settings.backupFrequency.set(g/we(t)*we(e))}),[g]);return s.createElement("div",{key:"content"},s.createElement(ae,{checkedObservable:c.default.settings.backupFrequency,getCheckedFromObservable:function(e){return e>0},getValueFromChecked:function(e){return e?o.Z.DefaultBackupFrequency:0},title:"Enable Drive backups",description:'Automatically backup all data into the "Moo.do Backups" folder in your Google Drive. Backups will run on the following frequency, only if there are any new changes to back up. Moo.do keeps its own encrypted version history, but this gives you an extra level of security that your data is safe. Note that backups to Drive are not encrypted.',onChange:y}),s.createElement("div",null,s.createElement("div",{className:"settingsName ib bold"},"Every"),s.createElement(ke,{className:"ib",valueObservable:c.default.settings.backupFrequency,getNumberFromObservable:v,getValueFromNumber:A,minValue:0,maxValue:60,interval:1}),s.createElement(Ae,{className:"ib",valueObservable:p,options:xe,style:{marginLeft:16,height:32},onChange:C})),s.createElement("div",{className:"py-4"},s.createElement(be.Z,{mode:"contained",onClick:function(){l("Backing up..."),Q.Z.backupAll().then((function(){return e.backupText.set("Backup complete")}))},text:"BACKUP NOW",newStyle:!0}),a&&s.createElement("div",{className:"pt-4"},"Last backup: ",a)),s.createElement("div",{className:"py-4"},s.createElement(be.Z,{mode:"contained",onClick:function(){c.default.menus.closeModal(o.Z.Modals.Settings),c.default.menus.openModal(o.Z.Modals.Backups)},text:"SEE BACKUP HISTORY",newStyle:!0})))}));var Ze=n(80839),Be=n(9346),Me=n(30046),Ne=n(18882),Pe=n(98434),Se=28,Ie=function(e){var t=e.children;return s.createElement("div",{style:{width:40},className:"flex items-center justify-center"},t)},Te=function(){var e=m()(p().mark((function e(t,n,a){return p().wrap((function(e){for(var r=0;;){if(r++>5e3&&__infLoop&&__infLoop(r))throw new RangeError;switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var r=c.default.pluginManager.getAllPluginScopes(n);Me.Z.authAccount(t,r,(function(t){if(t){var a=t.email,r=i.Z.clone(c.default.settings.syncAccounts.get()||{});r[a]={},n.forEach((function(e){return r[a][e]=!0})),c.default.settings.syncAccounts.set(r),Be.Z.updatePluginsEnabled()}e()}),a)})));case 1:case"end":return e.stop()}}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Oe=(0,v.Z)((function(e){var t=e.accountID,n=e.syncAccount,a=(0,s.useState)(!1),l=r()(a,2),u=l[0],d=l[1],f=(0,Ce.Z)(n[o.Z.PluginID.GCalendar]||!1,!0),h=r()(f,2),g=h[0],y=h[1],v=(0,Ce.Z)(n[o.Z.PluginID.Drive]||!1,!0),E=r()(v,2),A=E[0],C=E[1],_=(0,Ce.Z)(n[o.Z.PluginID.Contacts]||!1,!0),k=r()(_,2),b=k[0],x=k[1],w=function(){var e=m()(p().mark((function e(){var n;return p().wrap((function(e){for(var a=0;;){if(a++>5e3&&__infLoop&&__infLoop(a))throw new RangeError;switch(e.prev=e.next){case 0:return e.next=2,c.default.menus.confirm("Are you sure you want to remove ".concat(t,"?"));case 2:e.sent&&(Me.Z.removeAccount(t),delete(n=i.Z.clone(c.default.settings.syncAccounts.get()))[t],c.default.settings.syncAccounts.set(n),Be.Z.updatePluginsEnabled());case 4:case"end":return e.stop()}}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=m()(p().mark((function e(n){var a;return p().wrap((function(e){for(var r=0;;){if(r++>5e3&&__infLoop&&__infLoop(r))throw new RangeError;switch(e.prev=e.next){case 0:return a=[x&&o.Z.PluginID.Contacts,y&&o.Z.PluginID.GCalendar,C&&o.Z.PluginID.Drive].filter((function(e){return!!e})),e.abrupt("return",Te(t,a,n));case 2:case"end":return e.stop()}}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=m()(p().mark((function e(){return p().wrap((function(e){for(var t=0;;){if(t++>5e3&&__infLoop&&__infLoop(t))throw new RangeError;switch(e.prev=e.next){case 0:return e.abrupt("return",D(!1));case 1:case"end":return e.stop()}}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=m()(p().mark((function e(){return p().wrap((function(e){for(var t=0;;){if(t++>5e3&&__infLoop&&__infLoop(t))throw new RangeError;switch(e.prev=e.next){case 0:return e.abrupt("return",D(!0));case 1:case"end":return e.stop()}}}),e)})));return function(){return e.apply(this,arguments)}}();return s.createElement("div",{key:"row"+t,className:"flex c-border"},s.createElement("div",{className:"flex-1"},t),Me.Z.accountHasError(t)?s.createElement(s.Fragment,null,s.createElement("div",{className:"flex items-center justify-center",style:{width:176}},s.createElement(be.Z,{mode:"contained",primary:!0,onClick:B,height:32,text:"FIX AUTHENTICATION",newStyle:!0,showLoader:!0})),s.createElement(Ie,null,s.createElement(be.Z,{icon:"MdClose",iconSize:20,width:40,height:40,onClick:w,newStyle:!0,showLoader:!0}))):s.createElement(s.Fragment,null,s.createElement(Ie,null,s.createElement(Ne.Z,{checkedObservable:b,onChange:function(){return d(!0)}})),s.createElement(Ie,null,s.createElement(Ne.Z,{checkedObservable:g,onChange:function(){return d(!0)}})),s.createElement(Ie,null,s.createElement(Ne.Z,{checkedObservable:A,onChange:function(){return d(!0)}})),s.createElement(Ie,null,u?s.createElement(be.Z,{mode:"contained",width:40,height:32,primary:u,onClick:Z,text:"SAVE",size:11,newStyle:!0}):s.createElement(be.Z,{icon:"MdClose",iconSize:20,width:40,height:40,onClick:w}))))}));const Re=(0,v.Z)((function(e){e.openSection;var t=(0,E.Z)(c.default.settings.syncAccounts,Me.Z.isLoaded,c.default.billingManager._premiumStatus),n=r()(t,2),a=n[0],u=n[1],d=Object.keys(a),f=(0,s.useMemo)((function(){var e=function(){var e=m()(p().mark((function e(t){var n,a,r,i;return p().wrap((function(e){for(var l=0;;){if(l++>5e3&&__infLoop&&__infLoop(l))throw new RangeError;switch(e.prev=e.next){case 0:if(n=c.default.billingManager.premiumLevel.get(),a=d.length,r=o.Z.MaxAccounts[n],!("Pro"===n||a<r)){e.next=10;break}return i=[o.Z.PluginID.Contacts,o.Z.PluginID.GCalendar,o.Z.PluginID.Drive].filter((function(e){return!!e})),e.next=8,Te(void 0,i,!1);case 8:e.next=11;break;case 10:c.default.menus.openContextMenu({componentName:"ReactContextMenuUpsell",element:t.target,premiumMessage:"Using more than ".concat(r," sync account is a Premium feature."),enableMessage:"unlimited sync accounts"});case 11:case"end":return e.stop()}}}),e)})));return function(t){return e.apply(this,arguments)}}();return s.createElement(s.Fragment,null,s.createElement("div",{className:"mt-2 leading-snug c-foreground-faded"},"Plugin data is cached locally on your device and is never sent to any server. See our ",s.createElement("span",{className:"cursor-pointer c-link",onClick:function(){return i.Z.openUrl(l.Z.getPrivacyPolicyURL())}},"Privacy Policy")," for more details."),s.createElement(Pe.Z,{className:"pt-10"},s.createElement("div",{key:"header",className:"flex font-bold text-18"},s.createElement("div",{className:"flex-1"},"Google Accounts"),s.createElement(Ie,null,s.createElement("img",{width:Se,height:Se,src:"/img/plugin-gcontacts.png"})),s.createElement(Ie,null,s.createElement("img",{width:Se,height:Se,src:"/img/plugin-gcal.png"})),s.createElement(Ie,null,s.createElement("img",{width:Se,height:Se,src:"/img/plugin-gdrive.png"})),s.createElement(Ie,null)),d.map((function(e){return s.createElement(Oe,{key:e,accountID:e,syncAccount:a[e]})}))),s.createElement("div",{className:"pt-2 pb-10"},s.createElement(be.Z,{icon:"MdAdd",height:32,mode:"contained",onClick:e,text:"ADD ACCOUNT",newStyle:!0,showLoader:!0})))}),[d,a]);return u?f:s.createElement(C.Z,{style:{marginTop:40}},"Loading Google Authorization")})),Le=(0,v.Z)((function(e){var t=e.openSection,n=(0,E.Z)(Ze.Z._contacts),a=r()(n,1)[0];return s.createElement("div",{key:"content",className:"new-modal-group"},s.createElement("div",{className:"title"},"Sync with Google Contacts"),s.createElement(Re,{openSection:t}),s.createElement("div",{className:"subtext"},s.createElement("span",null,"We will not send emails or otherwise communicate with your contacts unless you ask us to."),s.createElement("span",null," If you need instant access to contacts you just added you can sync them by pressing the button below, otherwise your contacts will appear automatically after a few hours.")),s.createElement("div",{className:"center"},s.createElement(g.Z,{id:"refreshContacts",raised:!0,primary:!0,onClick:Be.Z.onTapRefreshContacts},"REFRESH CONTACTS"),s.createElement("div",{id:"numContacts"},a.length+" contacts loaded")))}));var Fe=n(59713),Ue=n.n(Fe),We=[Ue()({},o.Z.DateFormat.MDY,"M/D/Y"),Ue()({},o.Z.DateFormat.DMY,"D/M/Y"),Ue()({},o.Z.DateFormat.DMYDot,"D.M.Y"),Ue()({},o.Z.DateFormat.YMD,"Y/M/D"),Ue()({},o.Z.DateFormat.YMDDot,"Y.M.D")],Ye=[{Sunday:"Sunday"},{Monday:"Monday"}];const He=(0,v.Z)((function(e){var t=e.openSection,n=(0,E.Z)(c.default.billingManager.hasPremiumFeaturesObservable),a=r()(n,1)[0];return s.createElement("div",{key:"content"},s.createElement(Ae,{title:"Date format",valueObservable:c.default.settings.dateFormat,options:We,style:{width:80},styleTitle:{width:110}}),s.createElement(Ae,{title:"Start week on",valueObservable:c.default.settings.dayWeekStart,getValueFromSelected:function(e){return"Monday"===e?1:0},getSelectedFromObservable:function(e){return 1===e?"Monday":"Sunday"},options:Ye,style:{width:80},styleTitle:{width:110}}),s.createElement(ke,{title:"Number of days in custom calendar view",className:"py-4",valueObservable:c.default.settings.calendarCustomDays,minValue:1,maxValue:14}),l.Z.supportsNotifications()&&s.createElement(s.Fragment,null,s.createElement("hr",null),s.createElement(V,{feature:"Notifications",openSection:t}),s.createElement("div",{className:i.Z.classNames(a&&"opacity-50 pointer-events-none")},s.createElement(ae,{checkedObservable:c.default.settings.disableNotifications,title:"Enable notifications",description:"Display notifications for items with dates and times.",getCheckedFromObservable:function(e){return!e},getValueFromChecked:function(e){return!e},onChange:function(e){e&&a?l.Z.usesHTML5Notifications()?l.Z.hasNotificationPermission()||Notification.requestPermission((function(e){"granted"===e?c.default.timeline.updateNotifications():(c.default.settings.disableNotifications.set(!0),c.default.toasts.pushMessage({text:"To enable notifications in the future, you must first give permission in your browser.",action:o.Z.MessageAction.OpenURL,actionText:"LEARN MORE",data:{url:"https://support.google.com/chrome/answer/6148059"}}))})):c.default.timeline.updateNotifications():c.default.timeline.clearNotifications()}}),s.createElement(ke,{title:"Notification time",valueObservable:c.default.settings.notificationDelay,minValue:0,maxValue:120,interval:5,description:"Time in minutes before event to display a notification about the event.",onChange:function(e){i.Z.sendEvent("NotificationDelay","Changed",e)}}))))}));var je=n(28709);const ze=(0,v.Z)((function(){return s.createElement("div",{key:"content"},s.createElement("div",{className:"modal-row"},s.createElement("div",{className:"mt-4"},s.createElement(g.Z,{raised:!0,onClick:function(){c.default.menus.confirm("This will clear your local data and sign you out. Are you sure?",(function(e){e&&A.Z.clearLocalData()}))}},"Clear Local Data")),s.createElement("div",{className:"mt-4"},s.createElement(g.Z,{raised:!0,onClick:function(e,t){return m()(p().mark((function e(){return p().wrap((function(e){for(var n=0;;){if(n++>5e3&&__infLoop&&__infLoop(n))throw new RangeError;switch(e.prev=e.next){case 0:return e.next=2,je.Z.checkEncryptionProblemsInAllDocs();case 2:e.sent||c.default.menus.alert({text:"No problems detected!"}),t();case 5:case"end":return e.stop()}}}),e)})))(),!0}},"Check for encryption errors")),s.createElement("div",{className:"mt-4"},s.createElement(ae,{checkedObservable:c.default.settings.showDebugInfo,title:"Show Extra Debug Info",description:"Only enable this if the developers asked you for help tracking down an issue."}),s.createElement(ae,{checkedObservable:c.default.settings.disableAnimations,title:"Disable animations",description:"Disable pane and item animations."}))))}));var Ve=n(15769),Ge=o.Z.KeyCode;const Ke=(0,v.Z)((function(e){var t=e.className,n=e.style,a=e.value,u=e.width,d=e.height,m=e.fontSize,f=e.border,p=e.onChange,h=e.backgroundTheme,g=e.disabled,y=e.requiresModifier,v=(0,s.useState)(a),E=r()(v,2),A=E[0],C=E[1],_=(0,s.useState)(),k=r()(_,2),b=k[0],x=k[1],w=(0,s.useRef)(),D=function(){i.Z.batchRenderUpdates((function(){C(""),p("")})),w.current.blur()},Z=A?c.default.hotkeys.printHotkey(A):"";return s.createElement(Ve.Z,{className:t,placeholder:"Enter a hotkey",width:u,value:Z,onKeyDown:function(e){if(e.keyCode!==Ge.Ctrl&&e.keyCode!==Ge.LeftMeta&&e.keyCode!==Ge.Alt&&e.keyCode!==Ge.Shift&&(!y||e.metaKey||e.ctrlKey||e.altKey)){var t=function(e){var t=[],n=l.Z.mac;(n&&e.metaKey||!n&&e.ctrlKey)&&t.push("Pr"),(n&&e.ctrlKey||!n&&e.altKey)&&t.push("Se"),n&&e.altKey&&t.push("Op"),e.shiftKey&&t.push("Sh");var a=e.nativeEvent.code.replace("Key","").replace("Digit","D");if("NumpadEnter"===a&&(a="Enter"),o.Z.KeyCode[a])return t.push(a.capitalize()),t.join("+");c.default.toasts.pushMessage("Key unsupported: "+a+" "+e.keyCode)}(e);t&&(!1!==p(t)?C(t):C(""))}else e.keyCode===Ge.Delete||e.keyCode===Ge.Backspace?D():e.keyCode===Ge.Escape?(C(a),w.current.blur()):C(a);e.preventDefault()},style:Object.assign({caretColor:"transparent"},n),onFocus:function(){x(!0)},onBlur:function(){i.Z.batchRenderUpdates((function(){""===A&&C(a),x(!1)}))},border:f,backgroundTheme:h,height:d,fontSize:m,disabled:g,ref:w,buttonText:b?"X":void 0,onButtonClick:D,blurOnEscape:!0})}));var qe=n(16163);const Qe=(0,v.Z)((function(){var e=(0,s.useState)(""),t=r()(e,2),n=t[0],a=t[1],o=(0,s.useState)(""),i=r()(o,2),u=i[0],d=i[1],m=(0,E.Z)(c.default.settings.appHotkeys),f=r()(m,1)[0];(0,s.useEffect)((function(){c.default.ElectronBridge.getPrefs((function(e){a(e.backupDir),d(e.docsDir)}))}),[]);var p=function(e){return function(t){if(t){if(f.newEmail===t||f.newItem===t)return!1;c.default.settings.appHotkeys.setProperty(e,t)}else c.default.settings.appHotkeys.deleteProperty(e)}};return s.createElement("div",{key:"content"},s.createElement(ae,{checkedObservable:c.default.settings.backupLocal,title:"Enable automatic backups",description:"Backups saved in: ".concat(n)}),l.Z.supportLocalFiles()&&s.createElement(s.Fragment,null,s.createElement("div",{className:"mt-8 modal-row"},s.createElement("div",{className:"settingsName ib bold",style:{marginBottom:8}},"Save local files in:"),s.createElement(Ve.Z,{readonly:!0,value:u,buttonText:"CHANGE",onButtonClick:function(){c.default.ElectronBridge.openDirectoryDialog((function(e){var t=e.filePaths[0];if(t){var n=!1,a=function(){console.log("setting docs folder to",t),c.default.ElectronBridge.setDocsFolder(t,n,(function(e){e||(d(t),qe.Z.reload())}))};qe.Z.numDocuments()>0?c.default.menus.confirm("Do you want move existing files to the new folder?",(function(e){n=e,a()})):a()}}))}})),s.createElement(ae,{checkedObservable:c.default.settings.encryptLocalFiles,title:"Encrypt local files"})),s.createElement("div",{className:"mt-8"},s.createElement("div",{className:"text-xl font-bold"},"Global hotkeys"),s.createElement("div",{className:"flex items-center my-4"},s.createElement("span",{className:"font-bold",style:{width:80}},"New Item:"),s.createElement(Ke,{className:"mx-4",value:f.newItem,width:150,requiresModifier:!0,onChange:p("newItem")})),s.createElement("div",{className:"flex items-center my-4"},s.createElement("span",{className:"font-bold",style:{width:80}},"New Email:"),s.createElement(Ke,{className:"mx-4",value:f.newEmail,width:150,requiresModifier:!0,onChange:p("newEmail")}))))})),Xe=(0,v.Z)((function(e){e.openSection;var t=(0,s.useState)(!1),n=r()(t,2),a=n[0],o=n[1],l=(0,s.useRef)();return s.createElement("div",{key:"content",className:"new-modal-group"},s.createElement("div",{className:"new-modal-title"},s.createElement("div",{className:"title"},"Send Feedback"),s.createElement("div",{className:"subtext middle"},"Send the developers bug reports, feedback, or suggestions. Your feedback is very helpful in planning what to do next.")),s.createElement("div",{className:"earlyAccessFeedback"},s.createElement("textarea",{className:"feedbackTextArea c-background c-foreground",ref:l,style:{marginBottom:16,color:a?"#aaa":null}}),s.createElement("div",{style:{textAlign:"right"}},s.createElement(g.Z,{raised:!0,onClick:function(){l.current.value="",l.current.focus()}},"DISCARD"),s.createElement(g.Z,{raised:!0,primary:!0,marginLeft:16,onClick:function(e,t){var n=l.current.value;if(n&&n.length>2){o(!0);return c.default.sendFeedback("Moo.do Feedback",n).then((function(){l.current.value="",o(!1),t&&i.Z.isFunction(t)&&t()})),!0}}},"SEND"))))}));function Je(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=I()(e);if(t){var r=I()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return P()(this,n)}}var $e=[{"":"None"},Ue()({},o.Z.Prefix.Task,"Task"),Ue()({},o.Z.Prefix.Bullet,"Bullet")];const et=function(e){M()(n,e);var t=Je(n);function n(){return w()(this,n),t.apply(this,arguments)}return Z()(n,[{key:"init",value:function(){var e=this;this.createObservables({isStoragePersisted:!1,usage:NaN,quota:NaN}),l.Z.isStoragePersisted((function(t){e.isStoragePersisted.set(t)})),l.Z.estimateAvailableStorage((function(t){e.usage.set(t.usage),e.quota.set(t.quota)}),(function(){}))}},{key:"onCacheRatioClick",value:function(){this.getCacheRatio()<.98&&(c.default.settings.cacheSizeRatio.set(1),i.Z.sendEvent("CacheRatio","Changed",1),c.default.toasts.pushMessage({text:"Success!",action:o.Z.MessageAction.Okay}))}},{key:"parseFn",value:function(e){return parseFloat(e.toFixed(2))}},{key:"getCacheRatio",value:function(){return this.parseFn(c.default.pluginManager.getCacheSizeRatio())}},{key:"onPersistClick",value:function(e){var t=this;if(this.state.isStoragePersisted)return!1;e&&l.Z.requestStoragePersistence((function(){t.isStoragePersisted.set(!0)}),(function(){t.isStoragePersisted.set(!1)}))}},{key:"render",value:function(){var e=this.getCacheRatio()<.98,t=!l.Z.app&&l.Z.supportsPersistedStorage(),n=l.Z.supportsEstimatedStorage(),a=+(this.usage.get()/1024/1024).toFixed(2),r=+(this.quota.get()/1024/1024).toFixed(2);return s.createElement("div",{key:"content",className:"px-3"},s.createElement(Ae,{title:"Default item type",description:"The default prefix for all new items. If you prefer the bulleted look of an Outliner, choose Bullet. If you prefer a checklist, choose Task. If you prefer the flat look of a document, choose None.",valueObservable:c.default.settings.defaultItemPrefix,options:$e}),s.createElement(ae,{checkedObservable:c.default.settings.showMarkdown,title:"Show markdown formatting",description:"Show the raw Markdown formatting characters in selected items"}),s.createElement(ae,{checkedObservable:c.default.settings.showFormattingToolbar,title:"Enable formatting toolbar",description:"Show a toolbar with formatting hotkeys when text is selected",getCheckedFromObservable:function(e){return e>=0},getValueFromChecked:function(e){return e?1:-1}}),s.createElement(ae,{checkedObservable:c.default.settings.showStatusBar,title:"Show status bar",description:"Show a status bar at the bottom of panes with details about items"}),s.createElement(ae,{checkedObservable:c.default.settings.showImagesInline,title:"Show images inline",description:"Show images inline by default when inserting a link to an image, dragging a file from the Drive pane, or uploading an image from your computer. If disabled, it will show a link to the image."}),s.createElement(ae,{checkedObservable:c.default.settings.openEvernoteApp,title:"Open Evernote links in Evernote app",description:"If not enabled, Evernote links will open the Evernote website"}),l.Z.isDevURL&&s.createElement(ae,{checkedObservable:c.default.settings.testBetaFeatures,title:"Test beta features",description:s.createElement("span",null,"Beta test new UI features that may be unstable. See ",s.createElement("a",{href:"##BR_FORUM_URL##/t/beta-updates",className:"c-link",target:"_blank"},"the forum")," for details.")}),s.createElement("hr",null),t&&s.createElement(ae,{checkedObservable:this.isStoragePersisted,getValueFromChecked:function(){return!0},title:"Enable persistent storage",description:"Allow Moo.do to store your data offline without potential for the browser to delete it. This can help Moo.do's performance if your disk is low on free-space."}),e&&s.createElement("div",{className:"modal-row"},s.createElement(g.Z,{raised:!0,onClick:this.onCacheRatioClick},"Reset Cache Ratio"),s.createElement("div",{className:"modal-subtext c-foreground-faded"},"If you have run out of disk space in the past, we may not be efficiently caching your data. If you have resolved any disk space issues, click this button to efficiently cache your data again.")),n&&s.createElement("div",{className:"pt-4 modal-row"},s.createElement("div",{className:"modal-row-title"},"Estimated disk usage"),s.createElement("div",{className:"modal-subtext"},s.createElement("b",null,"Usage: "),Math.round(a)," MB / ",s.createElement("b",null,"Quota: "),Math.round(r)," MB")))}}]),n}(T.a);var tt=n(77098),nt=n(3214),at=["","Command","Key 1","Key 2","Key 3","Key 4"],rt=[{width:50},{minWidth:160,padded:!0,flex:!0},{width:100},{width:100},{width:100},{width:100}],ot=function(e,t,n,a){var r=c.default.hotkeys.config,o=i.Z.clone(r[e][t]);if(o[n]=a,o=o.filter((function(e){return!!e})),!1===c.default.hotkeys.setHotkey(e,t,o))return c.default.toasts.pushMessage("This hotkey is already taken"),!1},it=function(e,t){c.default.hotkeys.resetHotkey(e,t)},lt=(0,v.Z)((function(e){var t=this,n=e.group,a=e.name,o=e.hasPremiumFeatures,l=e.requiresModifier,u=e.config,d=(0,tt.Z)(),m=r()(d,2),f=m[0],p=m[1];return s.createElement(nt.C3,{key:a,ref:f},s.createElement(nt.zt,null,u!==c.default.hotkeys.defaultConfig[n][a]&&s.createElement(g.Z,{padding:0,width:50,height:30,cancel:!0,display:"block",onClick:it.bind(this,n,a)},"Reset")),s.createElement(nt.zt,null,i.Z.addSpacesToCamelCase(a)),u.map((function(e,r){return s.createElement(nt.zt,{key:e},s.createElement(Ke,{value:e,onChange:ot.bind(t,n,a,r),border:!1,backgroundTheme:"c-bg-light",height:30,fontSize:13,disabled:!o,requiresModifier:l}))})),p&&o&&u.length<4&&s.createElement(nt.zt,null,s.createElement(Ke,{value:"",onChange:ot.bind(this,n,a,u.length),border:!1,backgroundTheme:"c-bg-light",height:30,fontSize:13,requiresModifier:l})))}));const st=(0,v.Z)((function(e){var t=e.openSection,n=(0,E.Z)(c.default.billingManager.hasPremiumFeaturesObservable,c.default.settings.hotkeys),a=r()(n,1)[0],o=c.default.hotkeys.config;return s.createElement("div",{key:"content"},s.createElement(V,{feature:"Custom hotkeys",openSection:t}),s.createElement("div",{className:"text-xl bold"},"Customize Hotkeys"),s.createElement("div",{className:"pt-2 pb-4 text-xs leading-tight c-foreground-light"},"Click on any key to change it."),s.createElement(nt.eM,{columnOptions:rt,style:ct},s.createElement(nt.C3,{header:!0},at.map((function(e,t){return s.createElement(nt.zt,{key:e},e)}))),Object.keys(o).map((function(e){return s.createElement(s.Fragment,{key:e},s.createElement(nt.C3,null,s.createElement(nt.zt,{className:"px-2 text-lg leading-loose bold"},e)),Object.keys(o[e]).map((function(t){return s.createElement(lt,{key:t,group:e,name:t,requiresModifier:"Email"!==e,hasPremiumFeatures:a,config:o[e][t]})})))}))))}));var ct={lineHeight:"30px",border:"1px solid",overflowX:"auto",marginLeft:-8,marginRight:-8};const ut=(0,v.Z)((function(){var e=(0,E.Z)(c.default.settings.encryptionKeys),t=r()(e,1)[0],n=!(null===t||void 0===t||!t[o.Z.EncryptionKeys.UserPassword]),a=(0,s.useState)(!1),l=r()(a,2),u=l[0],d=l[1],f=(0,s.useState)(!1),y=r()(f,2),v=y[0],A=y[1],_=(0,s.useState)(),k=r()(_,2),b=k[0],x=k[1],w=(0,s.useRef)(),D=(0,s.useRef)();(0,s.useEffect)((function(){c.default.onIntroAction("Encryption")}),[]);var Z=function(e,t){var n=w.current.getValue(),a=D.current.getValue(),r=o.Z.EncryptionKeys.UserPassword;if(n){if(n!==a)x("Passwords do not match");else if(n.length<5)x("Password is too short. Please enter a longer password to make it secure.");else if(!i.Z.isDemoMode())return c.default.menus.confirmEncrypt(n,(function(e){e?(A(!0),Q.Z.backupAuto().then((function(){var e=c.default.crypto.getKey(o.Z.EncryptionKeys.UserPassword)||c.default.crypto.getKey(o.Z.EncryptionKeys.Global);(u?c.default.crypto.updateKey:c.default.crypto.addKey)({name:r,password:n,sentinelSalt:h.Z.getEncryptionUid()}).then((function(n){je.Z.updateUserEncryption(n,e).then((function(){d(!1),A(!1),t()}))}))}))):t()})),!0}else x("No password entered")},B=!n||u,M={marginTop:8,width:240};return s.createElement("div",{key:"content"},s.createElement("div",{className:"modal-row"},B?s.createElement(s.Fragment,null,s.createElement("div",null,s.createElement("div",{className:"settingsName ib bold"},"Encrypt data with a password"),s.createElement("div",{className:"modal-subtext c-foreground-faded"},"Your data is encrypted client-side before sending it to the database. For an extra level of security, you can enter your own password for the encryption. This makes it so that even the developers cannot read your data, and it cannot be recovered.")),s.createElement("div",{style:{marginTop:16}},s.createElement(Ve.Z,{type:"password",placeholder:"Password",ref:w,style:M,onButtonClick:Z}),s.createElement(Ve.Z,{type:"password",placeholder:"Confirm Password",ref:D,style:M,onButtonClick:Z})),b&&s.createElement("div",{className:"error",style:{marginTop:8}},b),s.createElement("div",{className:"modal-warning flexbox c-warning"},s.createElement("i",{className:"icon-warning"}),s.createElement("div",null,"If you lose this password, all your data will be lost! For your security, Moo.do cannot recover your password, so keep your password safe. This is competely optional (see above).")),s.createElement("div",{style:{marginTop:8}},s.createElement(g.Z,{raised:!0,primary:!0,onClick:Z},"Save")),v&&s.createElement(C.Z,{center:!0,className:"z-10 bg-gray-900 bg-opacity-70"},"Encrypting...")):s.createElement(s.Fragment,null,s.createElement("div",null,s.createElement("div",{className:"settingsName ib bold"},"Your data is encrypted with your password"),s.createElement("div",{style:{marginTop:16}},s.createElement(g.Z,{raised:!0,primary:!0,onClick:function(e,t){return m()(p().mark((function e(){return p().wrap((function(e){for(var n=0;;){if(n++>5e3&&__infLoop&&__infLoop(n))throw new RangeError;switch(e.prev=e.next){case 0:return e.next=2,je.Z.checkEncryptionProblemsInAllDocs("We have detected some encryption errors in your data. Changing your password will make this unrecoverable, so please fix any encryption errors first.");case 2:e.sent||d(!0),t();case 5:case"end":return e.stop()}}}),e)})))(),!0}},"Change"),s.createElement(g.Z,{raised:!0,cancel:!0,marginLeft:16,onClick:function(e,t){return c.default.menus.confirm("Are you sure you want to remove your encryption password?",(function(e){e?(A(!0),Q.Z.backupAuto().then((function(){var e=c.default.crypto.getKey(o.Z.EncryptionKeys.UserPassword);je.Z.updateUserEncryption(c.default.crypto.getGlobalKeyInfo(),e).then((function(){A(!1),t()}))}))):t()})),!0}},"Remove"))))))}));var dt=n(31288),mt=n(89434),ft=function(){c.default.openUrl(l.Z.getAppDownloadURL())};const pt=(0,v.Z)((function(){var e=(0,E.Z)(c.default.settings.emailViewAccounts,mt.Z.getPluginNew("Email").accountsNeedSignin,c.default.billingManager.premiumLevel),t=r()(e,3),n=t[0],a=t[1],u=t[2],d=(0,s.useCallback)((function(e){var t=u,a=n.length,r=o.Z.MaxAccounts[t];if("Pro"===t||a<r)return!0;c.default.menus.openContextMenu({componentName:"ReactContextMenuUpsell",element:e.target,premiumMessage:"Using more than ".concat(r," sync account is a Premium feature."),enableMessage:"unlimited sync accounts"})}),[n,u]),m=(0,s.useMemo)((function(){var e=function(e){return function(){c.default.menus.confirm("Are you sure you want to remove ".concat(e,"?"),(function(t){if(t){var n=c.default.settings.emailViewAccounts.findIndex((function(t){return t.e===e}));c.default.settings.emailViewAccounts.removeAt(n)}}))}};return c.default.supportEmailViews()||i.Z.isDemoMode()?s.createElement(s.Fragment,null,s.createElement(Pe.Z,{className:"pt-10"},s.createElement("div",{key:"header",className:"flex items-center pb-1"},s.createElement("img",{width:28,height:28,src:"/img/plugin-gmail.png"}),s.createElement("span",{className:"pl-2 font-bold text-18"},"Gmail"),s.createElement("span",{className:"pl-4 c-foreground-very-faded"},"Also check out the ",s.createElement("span",{className:"text-xs cursor-pointer c-link",onClick:function(){return c.default.openUrl(l.Z.getChromeExtensionURL())}},"Chrome Extension")," and ",s.createElement("span",{className:"text-xs cursor-pointer c-link",onClick:function(){return c.default.openUrl(l.Z.getGmailAddonURL())}},"Gmail Add-On"),".")),n.filter((function(e){return"g"===e.s})).map((function(t){var n,r=t.e,i=t.s;return s.createElement("div",{key:r+i,className:"flex items-center"},s.createElement("div",{className:"flex-1 column"},r),a["g:"+r]&&s.createElement("div",{className:"column"},s.createElement(be.Z,{className:"font-semibold",text:"FIX",primary:!0,mode:"contained",padding:"px-4",height:32,iconSize:18,onClick:(n=r,function(){c.default.menus.openModal(o.Z.Modals.GmailAuth,{callback:function(e){e&&e===n&&mt.Z.getPluginNew("Email").setAccountFixed(e,"g")}})})})),s.createElement("div",{className:"column"},s.createElement(be.Z,{icon:"MdClose",width:40,height:40,iconSize:18,onClick:e(r)})))}))),s.createElement("div",{className:"pt-2"},s.createElement(be.Z,{icon:"MdAdd",height:32,mode:"contained",onClick:function(e){d(e)&&c.default.menus.openModal(o.Z.Modals.GmailAuth,{callback:function(e){console.log("authed email",e),e&&c.default.settings.addEmailViewAccount(e,"g")}})},text:"ADD ACCOUNT",newStyle:!0}))):void 0}),[n,n.length,Object.keys(a).length]),f=(0,s.useMemo)((function(){var e=function(e){return function(t){d(t)&&c.default.menus.openModal(o.Z.Modals.OutlookAuth,{business:e,callback:function(t){var n=t.accountID,a=t.num;console.log("authed email",n,a),n&&c.default.settings.addEmailViewAccount(n,"o",a,e)}})}},t=function(e){return function(){c.default.menus.confirm("Are you sure you want to remove ".concat(e.e,"?"),(function(t){if(t){var n=c.default.settings.emailViewAccounts.findIndex((function(t){return t.e===e.e&&t.s===e.s}));c.default.settings.emailViewAccounts.removeAt(n)}}))}},r=function(e){return function(){c.default.menus.openModal(o.Z.Modals.OutlookAuth,{business:e.b,account:e,callback:function(e){var t=e.accountID;t&&mt.Z.getPluginNew("Email").setAccountFixed(t,"o")}})}};return c.default.supportOutlookViews()||i.Z.isDemoMode()?s.createElement(s.Fragment,null,s.createElement(Pe.Z,{className:"pt-10"},s.createElement("div",{key:"header",className:"flex items-center pb-1"},s.createElement("img",{width:28,height:28,src:"/img/plugin-outlook.svg"}),s.createElement("span",{className:"pl-2 font-bold text-18"},"Outlook")),n.filter((function(e){return"o"===e.s})).map((function(e){return s.createElement("div",{key:e.e+e.s,className:"flex items-center"},s.createElement("div",{className:"flex-1 column"},e.e),a["o:"+e.e]&&s.createElement("div",{className:"column"},s.createElement(be.Z,{className:"font-semibold",text:"FIX",primary:!0,mode:"contained",padding:"px-4",height:32,iconSize:18,onClick:r(e)})),s.createElement("div",{className:"column"},s.createElement(be.Z,{icon:"MdClose",width:40,height:40,iconSize:18,onClick:t(e)})))}))),s.createElement("div",{className:"pt-2"},s.createElement(be.Z,{icon:"MdAdd",height:32,mode:"contained",onClick:e(!1),text:"ADD PERSONAL",newStyle:!0}),s.createElement(be.Z,{icon:"MdAdd",height:32,mode:"contained",onClick:e(!0),text:"ADD 365",newStyle:!0,className:"ml-2"}))):void 0}),[n,n.length,Object.keys(a).length]);return s.createElement("div",{key:"content",className:"new-modal-group"},s.createElement("div",{className:"title"},"Sync your Gmail and Outlook accounts"),s.createElement("div",{className:"mt-2 leading-snug c-foreground-faded center"},"Email data is never sent to any server. See our ",s.createElement("span",{className:"cursor-pointer c-link",onClick:function(){return i.Z.openUrl(l.Z.getPrivacyPolicyURL())}},"Privacy Policy")," for more details."),m,f,!c.default.supportEmailViews()&&s.createElement("div",{className:"flex px-6 py-6 mt-10 rounded-lg c-bg-lighter",onClick:ft},s.createElement("div",{className:"flex-1 pr-4"},"Email sync requires features only available in the desktop apps. Please download the ",l.Z.getPlatformName()," app to use email sync."),s.createElement(g.Z,{raised:!0,primary:!0},"DOWNLOAD")),s.createElement("div",{className:"pt-10"},s.createElement("div",{className:o.Z.Tailwind.SettingsHeader},"OPTIONS"),s.createElement(ae,{title:"Archive emails when organized",checkedObservable:c.default.settings.archiveEmailsOnOrganize,description:"If enabled, when you drag an email to a document it will be archived."})))})),ht=(0,v.Z)((function(e){var t=e.openSection;return s.createElement("div",{key:"content",className:"new-modal-group"},s.createElement("div",{className:"title"},"Sync with Google Drive"),s.createElement(Re,{openSection:t}))}));var gt=0,yt=function(e,t){var n=e.accountID&&t.accountID?e.accountID.localeCompare(t.accountID):0;if(0===n)return e.summary.localeCompare(t.summary);var a=Me.Z.getDefaultAccountID();return e.accountID===a&&(n=-1),t.accountID===a&&(n=1),n},vt=(0,v.Z)((function(e){e.openSection;var t,n,a=c.default.pluginManager.getPluginGCalendar(),l=(0,E.Z)(Be.Z.GCalendarsAvailable,Be.Z.GCalendarSyncErrors,Be.Z.GCalendarAddFailure,Be.Z.GCalendarListFailure,Be.Z.GCalendarListLoading,Me.Z.erroredAuthTokens,c.default.settings.syncAccounts,Be.Z.getPluginOptionObservable("GCalendar","importCalendars"),Be.Z.getPluginOptionObservable("GCalendar","exportCalendars")),u=r()(l,9),d=u[0],m=u[1],f=u[2],p=u[3],h=u[4],y=u[5],v=u[6],A=u[7],_=u[8],k=(0,s.useRef)(),b=(0,s.useRef)(!1),x=(0,s.useState)(),w=r()(x,2),D=w[0],Z=w[1],B=a.getSyncAccounts().length>0;(0,s.useEffect)((function(){return Be.Z.refresh(),function(){b.current&&a.isActive()&&a.forceRemoteEventSync()}}),[]);var M=0,N=!1;if(m)for(var P=0,S=0;S<m.length;S++){if(P++>5e3&&__infLoop&&__infLoop(P))throw new RangeError;var I=m[S].result;I===o.Z.SyncResult.FailureOAuth?N=!0:I!==o.Z.SyncResult.FailureNoRead&&I!==o.Z.SyncResult.FailureNoWrite||M++}var T=function(e){var t=!1;if(A)for(var n=0,a=0;a<A.length;++a){if(n++>5e3&&__infLoop&&__infLoop(n))throw new RangeError;var r=A[a];if(i.Z.isObject(r)||(r={id:r}),r.id===e.id){t=!0;break}}return t},O=function(e){var t=!1;return _&&(t=_===e.id),t},R=function(e){var t=o.Z.PluginSettingsID.GCalendar.ImportCalendars,n=O(e);n&&L();var a=A.indexOfWithProperty("id",e.id);if(a>=0)A.removeAt(a);else{try{i.Z.PAssert(491,!n,"Export calendar state must be matching with import calendar state")}catch(r){i.Z.reportError(r)}try{i.Z.PAssert(492,e.accountID,"Calendar should have an accountID")}catch(r){i.Z.reportError(r)}A.push({id:e.id,summary:e.summary,accessRole:e.accessRole,accountID:e.accountID})}Be.Z.setPluginOption(o.Z.PluginID.GCalendar,t,A,!1),b.current=!0},L=function(){Be.Z.setPluginOption(o.Z.PluginID.GCalendar,o.Z.PluginSettingsID.GCalendar.ExportCalendar,null,!1)},F=function(e){O(e)?L():function(e){Be.Z.setPluginOption(o.Z.PluginID.GCalendar,o.Z.PluginSettingsID.GCalendar.ExportCalendar,e.id,!1),b.current=!0,T(e)||R(e)}(e)};return N&&0===d.length?n=s.createElement("div",{className:"center"},s.createElement("div",{className:"error"},"We encountered a sync error. Please allow access to your calendar."),s.createElement("br",null),s.createElement(g.Z,{raised:!0,primary:!0,onClick:Be.Z.enablePlugin.bind(Be.Z,o.Z.PluginID.GCalendar)},"ALLOW")):p?n=s.createElement("div",{className:"center"},s.createElement("div",{className:"error"},"There was an error syncing your calendar list. Please try again."),s.createElement("br",null),s.createElement(g.Z,{raised:!0,primary:!0,onClick:Be.Z.updateCalendarList.bind(Be.Z)},"RETRY")):h&&i.Z.isEmpty(y)?n=s.createElement(C.Z,null,"Loading Google Calendars..."):(M>0&&(n=s.createElement("div",{className:"center"},s.createElement("div",{style:{maxWidth:600,lineHeight:1.5,marginBottom:16},className:"error"},"There was an error reading or saving to your calendars. Please check your Google Calendar settings. The affected calendars are marked with a ",s.createElement(Ne.Z,{checked:!0,error:!0,style:{marginLeft:5,marginRight:5}})," below."))),t=B&&s.createElement(Pe.Z,{className:"calendarSettingsTable new-modal-row"},s.createElement("div",{key:"header",className:"fancyTableHeader"},s.createElement("div",null,"Calendar Name"),s.createElement("div",null,"Sync"),s.createElement("div",null,"Is Default Save")),function(){var e=d,t=Object.keys(v),n=c.default.pluginManager.getPlugin(o.Z.PluginID.GCalendar),a={},r=[];e.sort(yt),e.forEach((function(e){a[e.accountID]||(a[e.accountID]=[]),a[e.accountID].push(e)}));var l=Me.Z.getDefaultAccountID();return t.includes(l)&&(t.remove(l),t.splice(0,0,l)),t.forEach((function(e){var t=a[e];if(r.push(s.createElement("div",{className:"flex items-center leading-normal calendarAccount bold c-blue",key:"account_"+e},s.createElement("div",{className:"flex-1"},"Account: "+e))),t){t.forEach((function(t){var a,l,c=T(t),u=O(t),d="owner"===t.accessRole||"writer"===t.accessRole,f=i.Z.classNames("calendarSettingsName",{import:c},{export:u});if(m){var p=m.indexOfWithProperty("id",t.id);if(p>=0){var h=m[p];h.result===o.Z.SyncResult.FailureNoRead?a=!0:h.result===o.Z.SyncResult.FailureNoWrite&&(l=!0)}}var g=n.getCalendarBackgroundColor(t.id);r.push(s.createElement("div",{key:t.id+e},s.createElement("div",{className:f},t.summary||t.id),s.createElement(Ne.Z,{checked:c,error:a,checkedColor:g,onChange:function(){return R(t)}}),d?s.createElement(Ne.Z,{checked:u,checkedColor:g,error:a||l,radio:!0,onChange:function(){return F(t)}}):s.createElement("div",null)))}));var l=D===e;r.push(s.createElement(s.Fragment,{key:"add"+e},f&&s.createElement("div",{key:"footerError"},s.createElement("div",{style:{textAlign:"center"}},"There was an error creating your new calendar. Please try again.")),l&&s.createElement("div",{key:"footer"},s.createElement(Ve.Z,{ref:k,floatingText:"New calendar name",padding:{left:0,right:24},height:50,buttonText:"ADD",onButtonClick:function(t){return function(e,t){Be.Z.addCalendar(e,t),Z(void 0)}(e,t)}})),!l&&s.createElement("div",{key:"footer"},s.createElement("div",{style:{textAlign:"center"}},s.createElement(g.Z,{height:"auto",onClick:function(){return function(e){Z(e),setTimeout((function(){k.current.focus()}),0)}(e)}},"ADD NEW CALENDAR")))))}})),r}())),s.createElement("div",null,n,t)}));const Et=(0,v.Z)((function(e){var t=e.openSection,n=c.default.pluginManager.getPlugin(o.Z.PluginID.GCalendar);(0,s.useEffect)((function(){c.default.onIntroAction("PluginSettings")}),[]);var a=function(){clearTimeout(gt),gt=setTimeout((function(){var e=c.default.pluginManager.getPlugin(o.Z.PluginID.GCalendar);try{i.Z.PAssert(493,e,"GCalendar plugin does not exist. HOW?")}catch(t){i.Z.reportError(t)}e&&e.runCalendarSync()}),5e3)};return s.createElement("div",{key:"content",className:"new-modal-group"},s.createElement("div",{className:"title"},"Sync with Google Calendar"),s.createElement(Re,{openSection:t}),s.createElement(vt,{openSection:t}),s.createElement("div",{className:i.Z.classNames(o.Z.Tailwind.SettingsHeader)},"OPTIONS"),s.createElement("div",null,s.createElement(ke,{title:"Weeks in the past",className:"py-4",valueObservable:n.getSettingObs(o.Z.PluginSettingsID.GCalendar.WeeksPast),minValue:0,maxValue:-o.Z.CalendarMinSyncWeeks,onChange:a,styleTitle:{width:150}}),s.createElement(ke,{title:"Weeks in the future",className:"py-4",valueObservable:n.getSettingObs(o.Z.PluginSettingsID.GCalendar.WeeksFuture),minValue:0,maxValue:o.Z.CalendarMaxSyncWeeks,onChange:a,styleTitle:{width:150}})),s.createElement(ae,{title:"Display overdue Google Calendar events in agenda",checkedObservable:n.getSettingObs(o.Z.PluginSettingsID.GCalendar.DisplayOverdueInAgenda),description:"In the Agenda view of the Calendar Pane, display events from Google Calendar that happened in the past."}),s.createElement(ae,{title:"Sync dragged events",checkedObservable:n.getSettingObs(o.Z.PluginSettingsID.GCalendar.SyncDraggedEvents),description:"Add events to Google Calendar when dragging onto the Calendar pane."}),s.createElement(ae,{title:"Sync new events created in add item popup by default",checkedObservable:n.getSettingObs(o.Z.PluginSettingsID.GCalendar.SyncNewEvents),description:"When adding events in the New Item popup, an event will be created in the selected Google Calendar."}),s.createElement(ae,{title:"Sync new events created in date popup by default",checkedObservable:n.getSettingObs(o.Z.PluginSettingsID.GCalendar.SyncPopup),description:"When setting dates in the date popup popup, an event will be created in the selected Google Calendar."}),s.createElement(ae,{title:"Create a local item for new calendar events by default",checkedObservable:n.getSettingObs(o.Z.PluginSettingsID.GCalendar.CreateLocalEvents),description:"When adding events in the New Item popup, a Moo.do item will be created in the current document."}))}));var At=n(78942),Ct=n(145),_t={duration:.15},kt={Basic:{month:7,year:5},Pro:{month:12,year:9},Lifetime:{month:399,year:399,discount:299},Legacy:{month:5,year:49/12}},bt={Basic:["20 panes","3 plugin accounts","Notifications"],Pro:["Unlimited panes","Unlimited plugin accounts","Board Folders","Pane naming","Advanced display settings","Agenda customization","Custom hotkeys"],Lifetime:["One time payment","All future features forever"]};function xt(e){var t=e.name;return s.createElement("div",null,bt["Legacy"===t?"Pro":t].map((function(e,t){return s.createElement("div",{key:t,className:"flex items-center py-2"},e&&s.createElement(Ct.J,{name:"MdCheck",className:"mr-2"}),e)})))}var wt=["2m4b","gjgm","pmjw","5pm2"];function Dt(e){var t,n=e.name,a=e.frequency,r=e.popular,l=e.theme,u=e.premiumPlan,d=e.currentPlanID,f=e.size,h=e.onSize,g=e.setPurchasing,y=kt[n][a],v=i.Z.round(y,2),E=kt[n].discount,A="Pro"===u&&"Basic"===n,C="Lifetime"===n?n:o.Z.PremiumPlans[n][a],_=n===u,k=C===d;h&&(t=(0,s.useRef)(),(0,J.d)(t,(function(e){return h(e.height)})));return s.createElement("div",{className:""},s.createElement("div",{className:i.Z.classNames("relative px-6 py-8 text-center rounded-2xl","dark"===l?"c-bg-app":"c-bg-gray-300",r?"border c-border":""),style:{marginTop:r?-24:void 0,paddingBottom:r?48:void 0}},s.createElement("div",{style:{height:f,marginBottom:r?24:void 0},ref:t},r&&s.createElement("div",{className:"flex justify-center pb-2"},s.createElement("div",{className:"px-4 py-1 font-bold rounded-md",style:{backgroundColor:"rgba(43, 177, 243, 0.15)",color:"#25A2E8",fontSize:12}},"MOST POPULAR")),s.createElement("div",{className:"text-xl font-medium",style:{color:"#24CC74"}},n),s.createElement("div",{className:i.Z.classNames("flex justify-center",r?"pt-2":"pt-4",E?"c-foreground-faded":"c-foreground")},s.createElement("div",{className:"relative"},s.createElement("b",{className:"pr-1 text-2xl"},"$"),s.createElement("b",{className:i.Z.classNames(E?"font-light text-2xl":"font-medium text-4xl")},v,E&&s.createElement("div",{className:"absolute h-1 c-bg-lightblue opacity-90",style:{left:-8,right:-8,top:"50%"}})))),"Lifetime"!==n&&s.createElement("div",{className:"pt-4 text-xs font-medium c-foreground-faded"},"per month","year"===a&&", paid annually"),E&&s.createElement(s.Fragment,null,s.createElement("div",null,s.createElement("b",{className:"pr-2 text-2xl"},"$"),s.createElement("b",{className:"text-4xl font-medium c-foreground"},E)),s.createElement("div",{className:"flex justify-center mt-4"},s.createElement("div",{className:"px-4 py-1 font-bold rounded-md text-3xs",style:{backgroundColor:"rgba(43, 177, 243, 0.15)",color:"#25A2E8",fontSize:12}},"Promotional Launch Price"))),s.createElement("div",{className:"relative pt-6 pb-10 leading-tight text-left c-foreground-medium",style:{marginBottom:E?-36:0}},s.createElement(xt,{name:n}))),s.createElement("div",{className:"pb-2 c-foreground-faded"},"Lifetime"===n?"$".concat(E," one time charge"):"$".concat(+y*("year"===a?12:1)," per ").concat(a)),s.createElement(be.Z,{mode:"contained",className:"text-16",primary:!0,disabled:k,text:k?"Current plan":_?"Change to ".concat(a,"ly"):"".concat(A?"Downgrade":"Upgrade"," to ").concat(n),onClick:function(){if(u&&"Free"!==u){var e=wt.includes(d)||"frr6"==d||"p9m6"===d&&("gbf2"===C||"8c7w"===C)||"gbf2"===d&&"8c7w"===C;c.default.menus.confirm("Are you sure you want to change your billing plan to ".concat(n,"?").concat("Lifetime"===n||e?"":" The change will take effect at the end of this billing cycle."),function(){var e=m()(p().mark((function e(t){var r,o,l,s;return p().wrap((function(e){for(var u=0;;){if(u++>5e3&&__infLoop&&__infLoop(u))throw new RangeError;switch(e.prev=e.next){case 0:if(!t){e.next=7;break}return g(!0),e.next=4,At.Z.changePlan({planID:C});case 4:r=e.sent,g(!1),r.value&&(o=r.value,l=o.refund,s="Lifetime"===r.value?"Thank you for signing up for Moo.do Lifetime!":"Your subscription has been changed to the ".concat(n).concat("Lifetime"!==n?" ".concat(i.Z.uppercaseFirst(a),"ly"):""," plan."),l&&(s+=" Because you were already in another plan, we refunded the remaining $".concat(l.toFixed(2)," of the previous subscription.")),c.default.menus.alert({text:s,actionText:"OKAY"}));case 7:case"end":return e.stop()}}}),e)})));return function(t){return e.apply(this,arguments)}}())}else c.default.menus.openModal(o.Z.Modals.Billing,{isUpdate:!1,planName:n,frequency:a})}})))}const Zt=(0,v.Z)((function(){var e=(0,s.useState)(),t=r()(e,2),n=t[0],a=t[1],o=(0,s.useState)(!0),l=r()(o,2),u=l[0],d=l[1],m=(0,s.useState)(!1),f=r()(m,2),p=f[0],h=f[1],g=(0,s.useState)(!1),y=r()(g,2),v=y[0],_=y[1],k=u?"year":"month",b=c.default.billingManager,x=(0,E.Z)(b.premiumPlan,A.Z.onlineStatus),w=r()(x,2),D=w[0],Z=w[1],B=b._planID,M=b.hasSubscription()?D:void 0,N=b.isTrialState()||b.isTrialOverRecently(),P=b.isPlanLegacy(),S=c.default.DisplaySettings.getForegroundColor(),I=c.default.DisplaySettings.getColorTheme(),T="dark"===I?"#52525b":"#777";return"Online"===Z?s.createElement("div",{key:"content",className:"new-modal-group"},s.createElement("div",{className:"text-3xl font-bold text-center c-foreground"},s.createElement("span",{className:"text-gradient"},"Simple, flexible "),"pricing"),s.createElement("div",{className:"pt-4 text-center c-foreground-faded"},"How much is getting hours back everyday worth to you?"),(N||P)&&s.createElement("div",{className:"flex justify-center max-w-xl mx-auto mt-8 mb-4"},s.createElement("div",{className:"px-8 py-4 leading-snug cursor-pointer rounded-xl c-bg-gray-300",onClick:function(){return h(!p)}},p?"If you would prefer to support us with the new pricing model, click here to switch to the new prices.":P?"Since you were a Premium member of Moo.do you are legacied in to the top Pro tier of Legend features. But you can upgrade to the new pricing if you'd like to support us \u2764\ufe0f":"Since you were already in a trial of Moo.do Premium, you can still go Premium with our previous pricing model if you prefer. Click here to switch to the old prices.")),s.createElement("div",{className:"flex justify-center py-16"},s.createElement("div",{className:"relative flex items-center text-sm font-semibold cursor-pointer text-18"},s.createElement($.E.div,{className:"pr-4",initial:{color:u?T:S},animate:{color:u?T:S},transition:_t,onClick:function(){return d(!1)}},"Monthly Billing"),s.createElement(ee,{checked:u,onChange:d}),s.createElement($.E.div,{className:"pl-4",initial:{color:u?S:T},animate:{color:u?S:T},transition:_t,onClick:function(){return d(!0)}},"Yearly Billing"),s.createElement("div",{className:"absolute flex items-start",style:{top:-36,right:-70},onClick:function(){return d(!0)}},s.createElement("svg",{className:"mt-3",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s.createElement("path",{d:"M1 20C1 9.50659 9.50659 1 20 1",stroke:"#25A2E8",strokeWidth:"2"})),s.createElement("div",{className:"px-2 py-1 ml-2 leading-none rounded-lg c-bg-lightblue",style:{fontSize:12,color:"dark"===I?"white":"#25A2E8"}},"SAVE 30%")))),p?s.createElement("div",{className:"max-w-xs mx-auto"},s.createElement(Dt,{name:"Legacy",frequency:k,currentPlanID:B,premiumPlan:M,theme:I,setPurchasing:_})):s.createElement($.E.div,{className:i.Z.classNames("grid gap-2",P?"grid-cols-2":"grid-cols-3"),initial:{opacity:0},animate:{opacity:n?1:0}},!P&&s.createElement(Dt,{name:"Basic",frequency:k,currentPlanID:B,premiumPlan:M,theme:I,size:n,setPurchasing:_}),s.createElement(Dt,{name:"Pro",frequency:k,currentPlanID:B,premiumPlan:M,theme:I,onSize:a,setPurchasing:_}),s.createElement(Dt,{name:"Lifetime",frequency:k,currentPlanID:B,premiumPlan:M,theme:I,size:n,popular:!0,setPurchasing:_})),v&&s.createElement(C.Z,{center:!0,style:{backgroundColor:"rgba(0,0,0,0.8)"}},"Purchasing...")):s.createElement(C.Z,{center:!0},"Plase go online to sign up for Premium")}));var Bt={ACCOUNT:!0,"Moo.do Account":!i.Z.isDemoMode()&&b,Upgrade:Zt,SETTINGS:!0,General:et,"Dates & Calendar":He,"Agenda Sorting":q,Desktop:l.Z.isNativeApp()&&Qe,Backups:De,Security:ut,Hotkeys:st,"SYNC PLUGINS":!0,Email:pt,Calendar:Et,Contacts:Le,Files:ht,SUPPORT:!0,"Send Feedback":Xe,Debug:ze};const Mt=(0,v.Z)((function(e){var t=e.section,n=c.default.billingManager,a=(0,s.useState)(t||"General"),l=r()(a,2),d=l[0],m=l[1],f=(0,E.Z)(n.premiumPlan),p=r()(f,1)[0],h=(0,s.useCallback)((function(e){var t=!Be.Z.isSaveEnabled.get();t||c.default.menus.confirm("You have unsaved changes. Are you sure you want to cancel your changes?",(function(t){t&&(Be.Z.isSaveEnabled.set(!1),m(e))})),t&&m(e)}),[]),g=(0,s.useMemo)((function(){return Object.entries(Bt).map((function(e){var t=r()(e,2),n=t[0],a=t[1];return("Upgrade"!==n||"Lifetime"!==p)&&(a?!0===a?s.createElement(dt.G,{key:n,type:"header"},n):s.createElement(dt.G,{key:n,name:n,onClick:function(){return m(n)}},s.createElement("span",null,n)):null)}))}),[]),y=Bt[d];return s.createElement(u.Z,{id:"modalSettings",width:1e3,height:1e3,sidebarWidth:180,modalID:o.Z.Modals.Settings,scrollable:!0},s.createElement("div",{key:"sidebar"},s.createElement(dt.Z,{inset:!0,selected:d},g)),s.createElement("div",{key:"content"},i.Z.isDemoMode()&&s.createElement("div",{className:"flex justify-center pb-6"},s.createElement("div",{className:"px-6 py-3 font-medium rounded-lg c-bg-lighter"},"Demo Mode: Settings will not be saved")),s.createElement(y,{openSection:h})))}))},36219:(e,t,n)=>{n.r(t),n.d(t,{default:()=>D});var a=n(34575),r=n.n(a),o=n(93913),i=n.n(o),l=n(2205),s=n.n(l),c=n(78585),u=n.n(c),d=n(29754),m=n.n(d),f=n(48978),p=n(35848),h=n(87452),g=n(19955),y=n(61811),v=n(26975),E=n(15769),A=n(54894),C=n(39221),_=n(77617),k=n(98434),b=n(14424),x=n(28709);function w(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=m()(e);if(t){var r=m()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return u()(this,n)}}const D=function(e){s()(n,e);var t=w(n);function n(){return r()(this,n),t.apply(this,arguments)}return i()(n,[{key:"init",value:function(){this.createObservables({page:0,error:!1,invites:[],defaultAcl:p.Z.DocumentAccessRoles.Write}),y.default.onIntroAction("ShareDoc")}},{key:"getState",value:function(){var e=y.default.settings.encryptionKeys,t=this.props.doc;return{acl:t.acl,isShared:t.isShared(),encryptionKeys:e,hasDocPassword:e.get()&&!!e.get()[t.id]}}},{key:"onClickShare",value:function(e,t){var n=this,a=this.refs.invite,r=a.getTokens().map((function(e){return e.email}));if(this.error.set(""),r&&r.length>0)return this.props.doc.shareWithUser(r,this.state.defaultAcl).then((function(e){if(t(),e.error)n.error.set(e.error);else if(e.value){var a=e.value;!0!==a&&h.Z.isArray(a)&&a.forEach((function(e){var t=e.email;e.error,e.shared;e.invited&&!n.invites.includes(t)&&n.invites.push(t)}))}})),a.clearValue(),a.clearTokens(),!0}},{key:"onChangeSelectRole",value:function(e,t){var n=+t;this.props.doc.shareWithUser([e.email],n)}},{key:"onChangeDefaultRole",value:function(e){this.defaultAcl.set(+e.target.value)}},{key:"onClickRemovePermission",value:function(e,t,n){var a=this;return this.props.doc.shareWithUser([e.email],null).then((function(e){n(),e.error&&a.error.set(e.error)})),!0}},{key:"onClickCancel",value:function(){y.default.menus.closeModal(p.Z.Modals.ShareDoc)}},{key:"onClickSkip",value:function(e,t){var n=this;if(y.default.settings.hasUserPassword()){var a=this.props.doc;return b.Z.backupDocumentAll(a).then((function(){var e=a.getBestEncryption();x.Z.updateDocumentEncryption(a,y.default.crypto.getGlobalKeyInfo(),e).then((function(){n.page.set(1),t()}))})),!0}this.page.set(1)}},{key:"onClickEncrypt",value:function(e,t){var n=this.props.doc,a=this.refs.pass1.getValue(),r=this.refs.pass2.getValue(),o=n.id;if(a===r)return b.Z.backupDocumentAll(n).then((function(){var e=n.getBestEncryption();y.default.crypto.addKey({name:o,password:a,sentinelSalt:n.id}).then((function(a){x.Z.updateDocumentEncryption(n,a,e).then((function(){t()}))}))})),!0;this.error.set("Passwords do not match")}},{key:"renderSelect",value:function(e,t){return g.createElement(_.Z,{value:e,onChange:t,style:{height:36,marginRight:8}},g.createElement("option",{value:p.Z.DocumentAccessRoles.Admin},"Admin"),g.createElement("option",{value:p.Z.DocumentAccessRoles.Write},"Write"))}},{key:"renderPageEncryption",value:function(){var e={marginTop:8,width:240};return g.createElement("div",null,g.createElement("div",{className:"font-big4 bold"},"Make this document (".concat(this.props.doc.text.get(),") extra secure?")),g.createElement("div",{className:"modal-subtitle font-small1 c-foreground-light",style:{marginTop:16}},"This document will be encrypted using this password for an extra level of security. You will need to give this password to anyone you share the document with. For your security, Moo.do cannot recover your password, so keep your password safe!"),g.createElement("div",{className:"flexbox flex-center"},g.createElement("div",{style:{marginTop:16}},g.createElement(E.Z,{type:"password",placeholder:"Password",ref:"pass1",style:e}),g.createElement(E.Z,{type:"password",placeholder:"Confirm Password",ref:"pass2",style:e}))),g.createElement("div",{className:"flexbox flex-center"},g.createElement("div",{style:{marginTop:20}},g.createElement(v.Z,{raised:!0,onClick:this.onClickSkip},"SKIP"),g.createElement(v.Z,{primary:!0,raised:!0,style:{marginLeft:24},onClick:this.onClickEncrypt},"ENCRYPT"))))}},{key:"renderPageShare",value:function(){var e=this,t=this.props.doc,n=this.state,a=n.acl,r=n.error,o=n.invites,i=Object.keys(a).filter((function(e){return e!==f.Z.getEncryptionUid()})).map((function(e){return{uid:e,name:a[e].t,email:a[e].e,role:a[e].r}}));return g.createElement(C.Z,{style:{height:"100%"}},g.createElement(k.Z,null,g.createElement("div",{className:"fancyTableHeader font-big4 bold",style:{marginBottom:8}},"Share ",t.text.get()),i.map((function(n){var a=n.name?"".concat(n.name," <").concat(n.email,">"):n.email;return g.createElement("div",{key:n.uid,className:"items-center flexbox"},g.createElement("div",{className:"f1"},a),e.renderSelect(n.role,e.onChangeSelectRole.bind(e,n)),t.isAdmin()&&g.createElement(v.Z,{icon:"icon-close",width:40,height:40,onClick:e.onClickRemovePermission.bind(e,n)}))})),o.map((function(e){return g.createElement("div",{key:e,className:"flexbox"},g.createElement("div",{className:"f1"},e),g.createElement("div",null,"Invited"))}))),t.isAdmin()&&g.createElement(g.Fragment,null,g.createElement("div",{className:"items-center flexbox",style:{marginTop:24}},g.createElement(E.Z,{id:"inputShareInvite",className:"f1",placeholder:"Enter an mail address",autocompleteMode:"email",ref:"invite",style:{marginRight:8}}),this.renderSelect(this.state.defaultAcl,this.onChangeDefaultRole)),g.createElement(v.Z,{primary:!0,raised:!0,onClick:this.onClickShare,style:{marginTop:16}},"INVITE")),r&&g.createElement("div",{className:"error"},r),!t.isAdmin()&&g.createElement("div",{className:"modal-group"},g.createElement("div",{className:"shareNotOwned gd"},"Only the creator of this file can share it with others. Please contact the creator to share it with others."),g.createElement(v.Z,{id:"shareOkay",raised:!0,onClick:this.onClickCancel},"OKAY")))}},{key:"render",value:function(){var e=this.props,t=this.state;e.doc;return g.createElement(A.Z,{id:"shareDoc",modalID:p.Z.Modals.ShareDoc,ref:"modal",width:500,height:320},g.createElement("div",{key:"content"},t.hasDocPassword||t.isShared||1===t.page?this.renderPageShare():this.renderPageEncryption()))}}]),n}(n(88194).a)},99118:(e,t,n)=>{n.r(t),n.d(t,{default:()=>x});var a=n(67154),r=n.n(a),o=n(48926),i=n.n(o),l=n(63038),s=n.n(l),c=n(6479),u=n.n(c),d=n(87757),m=n.n(d),f=n(35848),p=n(19955),h=n(61811),g=n(26975),y=n(15769),v=n(54894),E=n(12443),A=n(78942),C=n(37899);var _=n(72475),k=n(1154),b=["folder"];const x=(0,_.Z)((function(e){var t,n,a=e.folder,o=u()(e,b),l=function(e){var t=(0,p.useState)({}),n=s()(t,2),a=n[0],r=n[1],o=(0,C.Z)();return(0,p.useEffect)((function(){i()(m().mark((function t(){var n;return m().wrap((function(t){for(var a=0;;){if(a++>5e3&&__infLoop&&__infLoop(a))throw new RangeError;switch(t.prev=t.next){case 0:if(!o()){t.next=11;break}return t.prev=1,t.next=4,e();case 4:n=t.sent,o()&&r(n),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),r({error:t.t0});case 11:case"end":return t.stop()}}}),t,null,[[1,8]])})))()}),[]),a}((function(){return A.Z.getTemplateProperties(a.id)})),c=l.value,d=l.error,_=(0,p.useState)(),x=s()(_,2),w=x[0],D=x[1],Z=(0,p.useState)(),B=s()(Z,2),M=B[0],N=B[1],P=(0,p.useRef)();if((c||M)&&(t=p.createElement(p.Fragment,null,p.createElement("div",null,"You can share the template created from this board folder with the following URL:"),p.createElement("div",{className:"mt-4"},p.createElement(y.Z,{readonly:!0,value:"".concat(window.location.origin,"/template/?").concat(a.id)})))),void 0===c&&void 0===d)n=p.createElement(k.Z,{center:!0},"Checking for existing template");else if(d){var S;S="auth/network-request-failed"===(null===d||void 0===d?void 0:d.code)?"Error communicating with server. Please ensure you are online and try again.":"Error: "+JSON.stringify(d),n=p.createElement("div",null,S)}else M||(n=p.createElement(p.Fragment,null,c?p.createElement("div",{className:"mb-4 mt-4"},"Clicking SAVE will update the documents and boards in this saved template."):p.createElement("div",{className:"mb-8"},"This will create a new template that you can share publicly or with your friends. All data in the documents open in these boards will be copied into the template, but it will not continue to sync. If you'd like to update the template you can open this menu again."),p.createElement(y.Z,{focused:!0,ref:P,placeholder:"Enter a name for your template",value:null===c||void 0===c?void 0:c.name}),w&&p.createElement("div",{className:"error mt-4"},w)));return p.createElement(v.Z,r()({},o,{id:"modalCreateTemplate",title:"Create template",small:!0,minHeight:200,width:500,scrollable:!1,modalID:f.Z.Modals.CreateTemplate}),p.createElement("div",{key:"content"},t,n,M&&p.createElement("div",{className:"mt-4 center"},"SAVED")),void 0!==c&&!M&&p.createElement("div",{key:"buttons"},p.createElement(g.Z,{primary:!0,width:100,onClick:function(e,t){var n=P.current.getValue();if(n||c){D(void 0);var r=function(){var e=i()(m().mark((function e(){var r,o;return m().wrap((function(e){for(var i=0;;){if(i++>5e3&&__infLoop&&__infLoop(i))throw new RangeError;switch(e.prev=e.next){case 0:return e.next=2,E.Z.getBoardFolderAsTemplate(a);case 2:return r=e.sent,e.next=5,A.Z.createTemplate(a.id,n,null===c||void 0===c?void 0:c.created,JSON.stringify(r));case 5:(o=e.sent).value?(console.log("updated"),N(!0)):D("Error creating template: "+o.error),t();case 8:case"end":return e.stop()}}}),e)})));return function(){return e.apply(this,arguments)}}();c?h.default.menus.confirm("Are you sure you want to overwrite the existing template?",(function(e){e&&r()})):r()}else D("Please enter a template name");return!0}},"SAVE"),p.createElement(g.Z,{cancel:!0,width:100,onClick:function(){return h.default.menus.closeModal(f.Z.Modals.CreateTemplate)}},"CANCEL")))}))},78096:(e,t,n)=>{n.r(t),n.d(t,{default:()=>p});var a=n(63038),r=n.n(a),o=n(35848),i=n(87452),l=n(19955),s=n(61811),c=n(72475),u=n(4253),d={},m=o.Z.Modals;d[m.Lightbox]=n(67881),d[m.Prompt]=n(1667),d[m.Settings]=n(31354),d[m.Alert]=n(36093),d[m.Billing]=n(96922),d[m.Confirm]=n(65471),d[m.ConfirmComplex]=n(17224),d[m.Options]=n(87938),d[m.ExportData]=n(58831),d[m.ImportData]=n(75722),d[m.Backups]=n(75656),d[m.ReportProblem]=n(95384),d[m.DeleteAccount]=n(85204),d[m.Invoices]=n(64519),d[m.ShareDoc]=n(36219),d[m.ReportBug]=n(3101),d[m.ConfirmEncrypt]=n(69927),d[m.ModalPane]=n(22453),d[m.ErrorCookies]=n(75104),d[m.CreateTemplate]=n(99118),d[m.GmailAuth]=n(1604),d[m.OutlookAuth]=n(66613),d[m.CheckEncryption]=n(19309);var f=d;const p=(0,c.Z)((function(){var e=(0,u.Z)(s.default.menus.modalStack),t=r()(e,1)[0],n=i.Z.classNames("modals absolute",{none:0===t.length});return l.createElement("div",{className:n},t.map((function(e){return l.createElement(f[e.id].default,Object.assign({key:e.id},e))})))}),(function(){return s.default.menus.modalStack.clear()}))},6281:(e,t,n)=>{n.d(t,{Z:()=>v});var a=n(34575),r=n.n(a),o=n(93913),i=n.n(o),l=n(2205),s=n.n(l),c=n(78585),u=n.n(c),d=n(29754),m=n.n(d),f=n(35848),p=n(19955),h=n(61811),g=n(51737);function y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=m()(e);if(t){var r=m()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return u()(this,n)}}const v=function(e){s()(n,e);var t=y(n);function n(){return r()(this,n),t.apply(this,arguments)}return i()(n,[{key:"init",value:function(){var e=this.props,t=e.item.hasNote()&&e.item.getNote(),n=t?t.getParsedText():void 0;this.createObservables({hasValue:!!n}),this.refNoteText=p.createRef()}},{key:"onUnmount",value:function(){clearTimeout(this._noteUpdateTimeout),this._noteUpdateTimeout=void 0,this._saveNote()}},{key:"getValue",value:function(){return this.refNoteText.current.getValue()}},{key:"_saveNote",value:function(){if(this.props.shouldSave){h.default.PaneUpdateBatcher.beginUpdateItems();var e=this.props.item,t=e.hasNote()&&e.getNote(),n=this.refNoteText.current.getValue();!t&&n&&(t=e.createNote()),t&&(n!==t.getRawText()&&t.setText(n,f.Z.ChangeType.Local),n||e.setNote(void 0,f.Z.ChangeType.Local)),h.default.PaneUpdateBatcher.commitUpdateItems()}}},{key:"focus",value:function(){this.refNoteText.current.focus()}},{key:"onChange",value:function(){var e=this,t=this.refNoteText.current.getValue().length>0;t!==this.hasValue.get()&&(this.hasValue.set(t),t&&this.props.onValueSet&&requestAnimationFrame((function(){return e.props.onValueSet}))),clearTimeout(this._noteUpdateTimeout),this._noteUpdateTimeout=setTimeout(this._saveNote,8e3)}},{key:"render",value:function(){var e=this.props,t=h.default.DisplaySettings.fontSize(),n=e.item.hasNote()&&e.item.getNote(),a=n?n.getParsedText():void 0,r=n?void 0:"Add note",o=this.state.hasValue?e.heightValue:e.heightEmpty,i=!e.item.canHaveNote();return p.createElement(g.Z,{ref:this.refNoteText,className:e.className,value:a,placeholder:r,focused:e.focused,onChange:this.onChange,onKeyDown:e.onKeyDown,onKeyPress:e.onKeyPress,selectionStart:e.selectionStart,selectionEnd:e.selectionEnd,fontSize:t,margin:0,height:o,tabIndex:e.tabIndex,richText:!!e.richText,onMaximize:e.richText&&e.onMaximize,isMaximized:e.richText&&e.isMaximized,onClickClose:e.onClickClose,isReadOnly:i,style:e.style})}}]),n}(n(88194).a)},70870:(e,t,n)=>{n.r(t),n.d(t,{default:()=>A});var a=n(67154),r=n.n(a),o=n(63038),i=n.n(o),l=n(6479),s=n.n(l),c=n(35848),u=n(87452),d=n(89088),m=n(19955),f=n(61811),p=n(86407),h=n(6281),g=n(72475),y=n(29875),v=n(4253),E=["pane","note","item","selectionStart","selectionEnd"];const A=(0,g.Z)((function(e){var t=e.pane,n=e.note,a=e.item,o=e.selectionStart,l=e.selectionEnd,g=s()(e,E),A=(0,m.useRef)(),C=(0,v.Z)(t.rect),_=i()(C,1)[0],k=(0,m.useState)(!1),b=i()(k,2),x=b[0],w=b[1],D=Math.max(_.width-20,400);(0,y.Z)(d.Z.windowSize,(function(){setTimeout((function(){var e;return null===(e=A.current)||void 0===e?void 0:e.updateState()}),300)}));var Z=(0,m.useCallback)((function(e){d.Z.getKeyCode(e)!==c.Z.KeyCode.Enter||!e.shiftKey||e.altKey||e.ctrlKey||e.metaKey||(f.default.menus.closeContextMenu(),u.Z.preventAndStop(e))}),[]),B=(0,m.useCallback)((function(){f.default.menus.closeContextMenu()}),[]),M=(0,m.useCallback)((function(e){w(e),e||requestAnimationFrame((function(){return A.current.updateState()}))}),[]);return m.createElement(p.Z,r()({},g,{key:n.id+"_Note",id:"contextMenuNote",width:600,height:300,maxWidth:D,ref:A,canMaximize:!0,isMaximized:x,border:!0,focusTrap:!0}),m.createElement(h.Z,{item:a,focused:!0,onKeyPress:Z,selectionStart:o,selectionEnd:l,richText:!0,onMaximize:M,isMaximized:x,onClickClose:B,shouldSave:!0}))}))},75104:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});var a=n(63038),r=n.n(a),o=n(35848),i=n(89088),l=n(19955),s=n(61811),c=n(72475),u=n(26975),d=n(15769),m=n(69984);const f=(0,c.Z)((function(){var e=(0,l.useState)(!1),t=r()(e,2),n=t[0],a=t[1],c="https://[*.]accounts.google.com:443";return l.createElement("div",{className:"fixed bottom-0 left-0 right-0 flex justify-center pb-4"},l.createElement(m.Z,{title:"Authentication Error",close:function(){s.default.menus.closeModal(o.Z.Modals.ErrorCookies)},width:500,className:"flex flex-col"},l.createElement("div",{className:"p-4 text-15 leading-snug"},l.createElement("div",{className:"pb-2"},"Moo.do is unable to authenticate wth Google because third party cookies may be disabled in your browser."),l.createElement("div",{className:"py-2"},"Please enable third party cookies or add an exception for the following URL and try again:"),l.createElement("div",{className:"py-2 flex items-center"},l.createElement(d.Z,{value:c,readonly:!0,padding:{left:16,right:16}}),l.createElement(u.Z,{raised:!0,height:30,padding:8,marginLeft:24,onClick:function(){navigator.clipboard.writeText(c),a(!0)}},n?"Copied":"COPY")),l.createElement("div",{className:"py-2"},"See this page for how to enable cookies: ",l.createElement("a",{href:"https://www.whatismybrowser.com/guides/how-to-enable-cookies/",target:"_blank"},"https://www.whatismybrowser.com/guides/how-to-enable-cookies/")),l.createElement("div",{className:"py-2"},"If you prefer not to enable third party cookies for Google, you can download the app."),l.createElement("div",{className:"flex justify-center py-2"},l.createElement(u.Z,{raised:!0,onClick:function(){s.default.openUrl(i.Z.getAppDownloadURL())}},"DOWNLOAD")))))}))},44774:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAwCAYAAAB5R9gVAAAABGdBTUEAALGPC/xhBQAAAVVJREFUWAnN2G0KgjAYwPHpGfRkaZeqvgQaK+hY3SUHrk1YzNLay/OiEFp92I+/Mp2F2Mh2lLISWnflFjzH263RQjzMZ19wgs73ez0o1WmtW+dgA01VxrE3p6l2GLsnBy1VYQOtVSEH/atCCgqpQgKKqYIOiq2CBkqtggLKqQIKgqgCBjpJ2Y5CdJ+zrT9A7HHSTA1dxUdHgzCqJIEwq0SDsKsEg6iqBIEoq/wEcVRZBXFV+QJxV5mBtlDFB5VjYTaGZ2sf4R9PM7U9ZU+lLuaetPP/5Die3ToO1+u+MKtHs06qODB2zBnI/jBd4MPQm1VkY79Tb18gB+C62FdBFsZR6yeIo1YQiLJWMIiqVjQIu1YSCLNWFgijVjYIuhYYCKoWKAiiFgoopxYaKLUWOii2FgkophYp6F3r42W5A9s9OcgNvva8xQaysKXlFytoqdYmQH6tF3toSUo0INq9AAAAAElFTkSuQmCC"},39072:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAwCAYAAAB5R9gVAAAABGdBTUEAALGPC/xhBQAAAXRJREFUWAnN119ugjAcwPHWzJ1gnmxzB/BBE0n24m4xfNkTaOL7wOtsl3AXMMb+Vjaa1BG00N8fSEibPpAP3xAKKs2yjzTPH9RAjhEo9WzPr/Vm8zgE0+gXATAxxuxtqeJ9t5tIwv5AtQAApsfT6TPdbp+kUBcgVwvO51KqVhMkXKsVJFXrOkigVhCIs1Y4iKlWZxB1rX4gwlpRIIpa8SDkWmggrFq4IIRaJKCYWnSgnrXIQV1r8YD+1Vrn+bReagysIFfLABRt31v8oBu1xEBttfRbltmfjgEcWh9snUS2kNdBK6WN1vrOWxObWsz+fjxevsxmB1GQDfINWiev83nhaoiB/CoOU438oPrhXS0WpQ9xc1ZQWxWHqUYe0I0qrKCQKjygDlXIQV2r0IF6ViEBxVTBBSFUQQNhVYkHIVeJAtkNsbQ7c1LtzP6FsObhb2rCKv7NBIGoq4SDmKoEgTirXAcJVGkFSVVpgoSrXICGUMUH/QBZNSUy5XWUhwAAAABJRU5ErkJggg=="}}]);

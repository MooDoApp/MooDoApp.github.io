"use strict";(self.webpackChunkLegend=self.webpackChunkLegend||[]).push([[866],{20693:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(19955),o=c(a),i=c(n(45697)),s=c(n(18354)),l=n(20286);function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleKeyUp=n.handleKeyUp.bind(n),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"shouldComponentUpdate",value:function(e){return e.locale!==this.props.locale||e.classNames!==this.props.classNames||e.date.getMonth()!==this.props.date.getMonth()||e.date.getFullYear()!==this.props.date.getFullYear()}},{key:"handleKeyUp",value:function(e){e.keyCode===l.ENTER&&this.props.onClick(e)}},{key:"render",value:function(){var e=this.props,t=e.classNames,n=e.date,r=e.months,a=e.locale,i=e.localeUtils,s=e.onClick;return o.default.createElement("div",{className:t.caption,role:"heading"},o.default.createElement("div",{onClick:s,onKeyUp:this.handleKeyUp},r?r[n.getMonth()]+" "+n.getFullYear():i.formatMonthTitle(n,a)))}}]),t}(a.Component);d.propTypes={date:i.default.instanceOf(Date),months:i.default.arrayOf(i.default.string),locale:i.default.string,localeUtils:i.default.object,onClick:i.default.func,classNames:i.default.shape({caption:i.default.string.isRequired}).isRequired},d.defaultProps={localeUtils:s.default},t.default=d},16689:(e,t)=>{function n(e){return new Date(e.getTime())}function r(e){return e instanceof Date&&!isNaN(e.valueOf())}function a(e,t){var r=n(e);return r.setMonth(e.getMonth()+t),r}function o(e,t){return!(!e||!t)&&(e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear())}function i(e,t){return!(!e||!t)&&(e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear())}function s(e,t){return n(e).setHours(0,0,0,0)<n(t).setHours(0,0,0,0)}function l(e,t){return n(e).setHours(0,0,0,0)>n(t).setHours(0,0,0,0)}function c(e){var t=new Date;return t.setHours(0,0,0,0),s(e,t)}function d(e){var t=new Date((new Date).getTime()+864e5);return t.setHours(0,0,0,0),e>=t}function u(e,t,r){var a=n(e);return a.setHours(0,0,0,0),l(a,t)&&s(a,r)||l(a,r)&&s(a,t)}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{from:null,to:null},n=t.from,r=t.to;return n?n&&r&&o(n,r)&&o(e,n)?(n=null,r=null):r&&s(e,n)?n=e:r&&o(e,r)?(n=e,r=e):s(r=e,n)&&(r=n,n=e):n=e,{from:n,to:r}}function f(e,t){var n=t.from,r=t.to;return n&&o(e,n)||r&&o(e,r)||n&&r&&u(e,n,r)}function p(e){var t=n(e);return t.setHours(0,0,0),t.setDate(t.getDate()+4-(t.getDay()||7)),Math.ceil(((t-new Date(t.getFullYear(),0,1))/864e5+1)/7)}Object.defineProperty(t,"__esModule",{value:!0}),t.clone=n,t.isDate=r,t.addMonths=a,t.isSameDay=o,t.isSameMonth=i,t.isDayBefore=s,t.isDayAfter=l,t.isPastDay=c,t.isFutureDay=d,t.isDayBetween=u,t.addDayToRange=h,t.isDayInRange=f,t.getWeekNumber=p,t.default={addDayToRange:h,addMonths:a,clone:n,getWeekNumber:p,isDate:r,isDayAfter:l,isDayBefore:s,isDayBetween:u,isDayInRange:f,isFutureDay:d,isPastDay:c,isSameDay:o,isSameMonth:i}},79459:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(19955),i=u(o),s=u(n(45697)),l=n(16689),c=n(62273),d=u(n(56989));function u(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t,n){if(e)return function(r){r.persist(),e(t,n,r)}}var m=function(e){function t(){return h(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"shouldComponentUpdate",value:function(e){var t=this,n=Object.keys(this.props),r=Object.keys(e);return n.length!==r.length||n.some((function(n){if("modifiers"===n||"modifiersStyles"===n||"classNames"===n){var r=t.props[n],a=e[n],o=Object.keys(r),i=Object.keys(a);return o.length!==i.length||o.some((function(e){return!(0,c.hasOwnProp)(a,e)||r[e]!==a[e]}))}return"day"===n?!(0,l.isSameDay)(t.props[n],e[n]):!(0,c.hasOwnProp)(e,n)||t.props[n]!==e[n]}))}},{key:"render",value:function(){var e=this.props,t=e.classNames,n=e.modifiersStyles,a=e.day,o=e.tabIndex,s=e.empty,l=e.modifiers,c=e.onMouseEnter,u=e.onMouseLeave,h=e.onMouseUp,f=e.onMouseDown,m=e.onClick,g=e.onKeyDown,y=e.onTouchStart,v=e.onTouchEnd,A=e.onFocus,x=e.ariaLabel,C=e.ariaDisabled,_=e.ariaSelected,b=e.children,k=t.day;t!==d.default?k+=" "+Object.keys(l).join(" "):k+=Object.keys(l).map((function(e){return" "+k+"--"+e})).join("");var w=void 0;return n&&Object.keys(l).filter((function(e){return!!n[e]})).forEach((function(e){w=r({},w,n[e])})),s?i.default.createElement("div",{"aria-disabled":!0,className:k,style:w}):i.default.createElement("div",{className:k,tabIndex:o,style:w,role:"gridcell","aria-label":x,"aria-disabled":C,"aria-selected":_,onClick:p(m,a,l),onKeyDown:p(g,a,l),onMouseEnter:p(c,a,l),onMouseLeave:p(u,a,l),onMouseUp:p(h,a,l),onMouseDown:p(f,a,l),onTouchEnd:p(v,a,l),onTouchStart:p(y,a,l),onFocus:p(A,a,l)},b)}}]),t}(o.Component);m.propTypes={classNames:s.default.shape({day:s.default.string.isRequired}).isRequired,day:s.default.instanceOf(Date).isRequired,children:s.default.node.isRequired,ariaDisabled:s.default.bool,ariaLabel:s.default.string,ariaSelected:s.default.bool,empty:s.default.bool,modifiers:s.default.object,modifiersStyles:s.default.object,onClick:s.default.func,onKeyDown:s.default.func,onMouseEnter:s.default.func,onMouseLeave:s.default.func,onMouseDown:s.default.func,onMouseUp:s.default.func,onTouchEnd:s.default.func,onTouchStart:s.default.func,onFocus:s.default.func,tabIndex:s.default.number},m.defaultProps={tabIndex:-1},m.defaultProps={modifiers:{},modifiersStyles:{},empty:!1},t.default=m},27847:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ModifiersUtils=t.LocaleUtils=t.DateUtils=t.DayPicker=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(19955),i=A(o),s=A(n(45697)),l=A(n(20693)),c=A(n(47872)),d=A(n(84076)),u=A(n(11995)),h=v(n(62273)),f=v(n(16689)),p=v(n(18354)),m=v(n(35948)),g=A(n(56989)),y=n(20286);function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function A(e){return e&&e.__esModule?e:{default:e}}var x=t.DayPicker=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.dayPicker=null,n.showNextMonth=function(e){if(n.allowNextMonth()){var t=n.props.pagedNavigation?n.props.numberOfMonths:1,r=f.addMonths(n.state.currentMonth,t);n.showMonth(r,e)}},n.showPreviousMonth=function(e){if(n.allowPreviousMonth()){var t=n.props.pagedNavigation?n.props.numberOfMonths:1,r=f.addMonths(n.state.currentMonth,-t);n.showMonth(r,e)}},n.handleKeyDown=function(e){switch(e.persist(),e.keyCode){case y.LEFT:"rtl"===n.props.dir?n.showNextMonth():n.showPreviousMonth(),h.cancelEvent(e);break;case y.RIGHT:"rtl"===n.props.dir?n.showPreviousMonth():n.showNextMonth(),h.cancelEvent(e);break;case y.UP:n.showPreviousYear(),h.cancelEvent(e);break;case y.DOWN:n.showNextYear(),h.cancelEvent(e)}n.props.onKeyDown&&n.props.onKeyDown(e)},n.handleDayKeyDown=function(e,t,r){switch(r.persist(),r.keyCode){case y.LEFT:h.cancelEvent(r),"rtl"===n.props.dir?n.focusNextDay(r.target):n.focusPreviousDay(r.target);break;case y.RIGHT:h.cancelEvent(r),"rtl"===n.props.dir?n.focusPreviousDay(r.target):n.focusNextDay(r.target);break;case y.UP:h.cancelEvent(r),n.focusPreviousWeek(r.target);break;case y.DOWN:h.cancelEvent(r),n.focusNextWeek(r.target);break;case y.ENTER:case y.SPACE:h.cancelEvent(r),n.props.onDayClick&&n.handleDayClick(e,t,r)}n.props.onDayKeyDown&&n.props.onDayKeyDown(e,t,r)},n.handleDayClick=function(e,t,r){r.persist(),t[n.props.classNames.outside]&&n.props.enableOutsideDaysClick&&n.handleOutsideDayClick(e),n.props.onDayClick&&n.props.onDayClick(e,t,r)},n.handleTodayButtonClick=function(e){var t=new Date,r=new Date(t.getFullYear(),t.getMonth());n.showMonth(r),e.target.blur(),n.props.onTodayButtonClick&&(e.persist(),n.props.onTodayButtonClick(new Date(t.getFullYear(),t.getMonth(),t.getDate()),m.getModifiersForDay(t,n.props.modifiers),e))};var r=n.getCurrentMonthFromProps(e);return n.state={currentMonth:r},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentDidUpdate",value:function(e){if(e.month!==this.props.month&&!f.isSameMonth(e.month,this.props.month)){var t=this.getCurrentMonthFromProps(this.props);this.setState({currentMonth:t})}}},{key:"getCurrentMonthFromProps",value:function(e){var t=h.startOfMonth(e.month||e.initialMonth||new Date);if(e.pagedNavigation&&e.numberOfMonths>1&&e.fromMonth){var n=h.startOfMonth(e.fromMonth),r=h.getMonthsDiff(n,t);t=f.addMonths(n,Math.floor(r/e.numberOfMonths)*e.numberOfMonths)}else e.toMonth&&e.numberOfMonths>1&&h.getMonthsDiff(t,e.toMonth)<=0&&(t=f.addMonths(h.startOfMonth(e.toMonth),1-this.props.numberOfMonths));return t}},{key:"getNextNavigableMonth",value:function(){return f.addMonths(this.state.currentMonth,this.props.numberOfMonths)}},{key:"getPreviousNavigableMonth",value:function(){return f.addMonths(this.state.currentMonth,-1)}},{key:"allowPreviousMonth",value:function(){var e=f.addMonths(this.state.currentMonth,-1);return this.allowMonth(e)}},{key:"allowNextMonth",value:function(){var e=f.addMonths(this.state.currentMonth,this.props.numberOfMonths);return this.allowMonth(e)}},{key:"allowMonth",value:function(e){var t=this.props,n=t.fromMonth,r=t.toMonth;return!(!t.canChangeMonth||n&&h.getMonthsDiff(n,e)<0||r&&h.getMonthsDiff(r,e)>0)}},{key:"allowYearChange",value:function(){return this.props.canChangeMonth}},{key:"showMonth",value:function(e,t){var n=this;this.allowMonth(e)&&this.setState({currentMonth:h.startOfMonth(e)},(function(){t&&t(),n.props.onMonthChange&&n.props.onMonthChange(n.state.currentMonth)}))}},{key:"showNextYear",value:function(){if(this.allowYearChange()){var e=f.addMonths(this.state.currentMonth,12);this.showMonth(e)}}},{key:"showPreviousYear",value:function(){if(this.allowYearChange()){var e=f.addMonths(this.state.currentMonth,-12);this.showMonth(e)}}},{key:"focus",value:function(){this.wrapper.focus()}},{key:"focusFirstDayOfMonth",value:function(){h.getDayNodes(this.dayPicker,this.props.classNames)[0].focus()}},{key:"focusLastDayOfMonth",value:function(){var e=h.getDayNodes(this.dayPicker,this.props.classNames);e[e.length-1].focus()}},{key:"focusPreviousDay",value:function(e){var t=this,n=h.getDayNodes(this.dayPicker,this.props.classNames),r=h.nodeListToArray(n).indexOf(e);-1!==r&&(0===r?this.showPreviousMonth((function(){return t.focusLastDayOfMonth()})):n[r-1].focus())}},{key:"focusNextDay",value:function(e){var t=this,n=h.getDayNodes(this.dayPicker,this.props.classNames),r=h.nodeListToArray(n).indexOf(e);-1!==r&&(r===n.length-1?this.showNextMonth((function(){return t.focusFirstDayOfMonth()})):n[r+1].focus())}},{key:"focusNextWeek",value:function(e){var t=this,n=h.getDayNodes(this.dayPicker,this.props.classNames),r=h.nodeListToArray(n).indexOf(e);r>n.length-8?this.showNextMonth((function(){var e=7-(n.length-r);h.getDayNodes(t.dayPicker,t.props.classNames)[e].focus()})):n[r+7].focus()}},{key:"focusPreviousWeek",value:function(e){var t=this,n=h.getDayNodes(this.dayPicker,this.props.classNames),r=h.nodeListToArray(n).indexOf(e);r<=6?this.showPreviousMonth((function(){var e=h.getDayNodes(t.dayPicker,t.props.classNames);e[e.length-7+r].focus()})):n[r-7].focus()}},{key:"handleOutsideDayClick",value:function(e){var t=this.state.currentMonth,n=this.props.numberOfMonths,r=h.getMonthsDiff(t,e);r>0&&r>=n?this.showNextMonth():r<0&&this.showPreviousMonth()}},{key:"renderNavbar",value:function(){var e=this.props,t=e.labels,n=e.locale,r=e.localeUtils,a=e.canChangeMonth,o=e.navbarElement,s=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["labels","locale","localeUtils","canChangeMonth","navbarElement"]);if(!a)return null;var l={month:this.state.currentMonth,classNames:this.props.classNames,className:this.props.classNames.navBar,nextMonth:this.getNextNavigableMonth(),previousMonth:this.getPreviousNavigableMonth(),showPreviousButton:this.allowPreviousMonth(),showNextButton:this.allowNextMonth(),onNextClick:this.showNextMonth,onPreviousClick:this.showPreviousMonth,dir:s.dir,labels:t,locale:n,localeUtils:r};return i.default.isValidElement(o)?i.default.cloneElement(o,l):i.default.createElement(o,l)}},{key:"renderMonths",value:function(){for(var e=[],t=h.getFirstDayOfWeekFromProps(this.props),n=0;n<this.props.numberOfMonths;n+=1){var a=f.addMonths(this.state.currentMonth,n);e.push(i.default.createElement(d.default,r({key:n},this.props,{month:a,firstDayOfWeek:t,onDayKeyDown:this.handleDayKeyDown,onDayClick:this.handleDayClick})))}return this.props.reverseMonths&&e.reverse(),e}},{key:"renderFooter",value:function(){return this.props.todayButton?i.default.createElement("div",{className:this.props.classNames.footer},this.renderTodayButton()):null}},{key:"renderTodayButton",value:function(){return i.default.createElement("button",{type:"button",tabIndex:0,className:this.props.classNames.todayButton,"aria-label":this.props.todayButton,onClick:this.handleTodayButtonClick},this.props.todayButton)}},{key:"render",value:function(){var e=this,t=this.props.classNames.container;return this.props.onDayClick||(t=t+" "+this.props.classNames.interactionDisabled),this.props.className&&(t=t+" "+this.props.className),i.default.createElement("div",r({},this.props.containerProps,{className:t,ref:function(t){return e.dayPicker=t},lang:this.props.locale}),i.default.createElement("div",{className:this.props.classNames.wrapper,ref:function(t){return e.wrapper=t},tabIndex:this.props.canChangeMonth&&"undefined"!==typeof this.props.tabIndex?this.props.tabIndex:-1,onKeyDown:this.handleKeyDown,onFocus:this.props.onFocus,onBlur:this.props.onBlur},this.renderNavbar(),i.default.createElement("div",{className:this.props.classNames.months},this.renderMonths()),this.renderFooter()))}}]),t}(o.Component);x.propTypes={initialMonth:s.default.instanceOf(Date),month:s.default.instanceOf(Date),numberOfMonths:s.default.number,fromMonth:s.default.instanceOf(Date),toMonth:s.default.instanceOf(Date),canChangeMonth:s.default.bool,reverseMonths:s.default.bool,pagedNavigation:s.default.bool,todayButton:s.default.string,showWeekNumbers:s.default.bool,showWeekDays:s.default.bool,selectedDays:s.default.oneOfType([s.default.object,s.default.func,s.default.array]),disabledDays:s.default.oneOfType([s.default.object,s.default.func,s.default.array]),modifiers:s.default.object,modifiersStyles:s.default.object,dir:s.default.string,firstDayOfWeek:s.default.oneOf([0,1,2,3,4,5,6]),labels:s.default.shape({nextMonth:s.default.string.isRequired,previousMonth:s.default.string.isRequired}),locale:s.default.string,localeUtils:s.default.shape({formatMonthTitle:s.default.func,formatWeekdayShort:s.default.func,formatWeekdayLong:s.default.func,getFirstDayOfWeek:s.default.func}),months:s.default.arrayOf(s.default.string),weekdaysLong:s.default.arrayOf(s.default.string),weekdaysShort:s.default.arrayOf(s.default.string),showOutsideDays:s.default.bool,enableOutsideDaysClick:s.default.bool,fixedWeeks:s.default.bool,classNames:s.default.shape({body:s.default.string,container:s.default.string,day:s.default.string.isRequired,disabled:s.default.string.isRequired,footer:s.default.string,interactionDisabled:s.default.string,months:s.default.string,month:s.default.string,navBar:s.default.string,outside:s.default.string.isRequired,selected:s.default.string.isRequired,today:s.default.string.isRequired,todayButton:s.default.string,week:s.default.string,wrapper:s.default.string}),className:s.default.string,containerProps:s.default.object,tabIndex:s.default.number,renderDay:s.default.func,renderWeek:s.default.func,weekdayElement:s.default.oneOfType([s.default.element,s.default.func,s.default.instanceOf(o.Component)]),navbarElement:s.default.oneOfType([s.default.element,s.default.func,s.default.instanceOf(o.Component)]),captionElement:s.default.oneOfType([s.default.element,s.default.func,s.default.instanceOf(o.Component)]),onBlur:s.default.func,onFocus:s.default.func,onKeyDown:s.default.func,onDayClick:s.default.func,onDayKeyDown:s.default.func,onDayMouseEnter:s.default.func,onDayMouseLeave:s.default.func,onDayMouseDown:s.default.func,onDayMouseUp:s.default.func,onDayTouchStart:s.default.func,onDayTouchEnd:s.default.func,onDayFocus:s.default.func,onMonthChange:s.default.func,onCaptionClick:s.default.func,onWeekClick:s.default.func,onTodayButtonClick:s.default.func},x.defaultProps={classNames:g.default,tabIndex:0,numberOfMonths:1,labels:{previousMonth:"Previous Month",nextMonth:"Next Month"},locale:"en",localeUtils:p,showOutsideDays:!1,enableOutsideDaysClick:!0,fixedWeeks:!1,canChangeMonth:!0,reverseMonths:!1,pagedNavigation:!1,showWeekNumbers:!1,showWeekDays:!0,renderDay:function(e){return e.getDate()},renderWeek:function(e){return e},weekdayElement:i.default.createElement(u.default,null),navbarElement:i.default.createElement(c.default,{classNames:g.default}),captionElement:i.default.createElement(l.default,{classNames:g.default})},x.VERSION="7.4.8",x.DateUtils=f,x.LocaleUtils=p,x.ModifiersUtils=m,t.DateUtils=f,t.LocaleUtils=p,t.ModifiersUtils=m,t.default=x},62273:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.cancelEvent=function(e){e.preventDefault(),e.stopPropagation()},t.getFirstDayOfMonth=c,t.getDaysInMonth=d,t.getModifiersFromProps=function(e){var t=r({},e.modifiers);e.selectedDays&&(t[e.classNames.selected]=e.selectedDays);e.disabledDays&&(t[e.classNames.disabled]=e.disabledDays);return t},t.getFirstDayOfWeekFromProps=function(e){var t=e.firstDayOfWeek,n=e.locale,r=void 0===n?"en":n,a=e.localeUtils,o=void 0===a?{}:a;if(!isNaN(t))return t;if(o.getFirstDayOfWeek)return o.getFirstDayOfWeek(r);return 0},t.isRangeOfDates=function(e){return!!(e&&e.from&&e.to)},t.getMonthsDiff=function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())},t.getWeekArray=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,i.getFirstDayOfWeek)(),n=arguments[2],r=d(e),a=[],s=[],l=[],c=1;c<=r;c+=1)a.push(new Date(e.getFullYear(),e.getMonth(),c,12));a.forEach((function(e){s.length>0&&e.getDay()===t&&(l.push(s),s=[]),s.push(e),a.indexOf(e)===a.length-1&&l.push(s)}));for(var u=l[0],h=7-u.length;h>0;h-=1){var f=(0,o.clone)(u[0]);f.setDate(u[0].getDate()-1),u.unshift(f)}for(var p=l[l.length-1],m=p.length;m<7;m+=1){var g=(0,o.clone)(p[p.length-1]);g.setDate(p[p.length-1].getDate()+1),p.push(g)}if(n&&l.length<6)for(var y=void 0,v=l.length;v<6;v+=1){for(var A=(y=l[l.length-1])[y.length-1],x=[],C=0;C<7;C+=1){var _=(0,o.clone)(A);_.setDate(A.getDate()+C+1),x.push(_)}l.push(x)}return l},t.startOfMonth=function(e){var t=(0,o.clone)(e);return t.setDate(1),t.setHours(12,0,0,0),t},t.getDayNodes=function(e,t){var n=void 0;n=t===l.default?t.day+"--"+t.outside:""+t.outside;var r=t.day.replace(/ /g,"."),a=n.replace(/ /g,"."),o="."+r+":not(."+a+")";return e.querySelectorAll(o)},t.nodeListToArray=function(e){return Array.prototype.slice.call(e,0)},t.hasOwnProp=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};var a,o=n(16689),i=n(18354),s=n(56989),l=(a=s)&&a.__esModule?a:{default:a};function c(e){return new Date(e.getFullYear(),e.getMonth(),1,12)}function d(e){var t=c(e);return t.setMonth(t.getMonth()+1),t.setDate(t.getDate()-1),t.getDate()}},18354:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.formatDay=o,t.formatMonthTitle=i,t.formatWeekdayShort=s,t.formatWeekdayLong=l,t.getFirstDayOfWeek=c,t.getMonths=d;var n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],r=["Su","Mo","Tu","We","Th","Fr","Sa"],a=["January","February","March","April","May","June","July","August","September","October","November","December"];function o(e){return e.toDateString()}function i(e){return a[e.getMonth()]+" "+e.getFullYear()}function s(e){return r[e]}function l(e){return n[e]}function c(){return 0}function d(){return a}t.default={formatDay:o,formatMonthTitle:i,formatWeekdayShort:s,formatWeekdayLong:l,getFirstDayOfWeek:c,getMonths:d}},35948:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.dayMatchesModifier=o,t.getModifiersForDay=i;var r=n(16689),a=n(62273);function o(e,t){return!!t&&(Array.isArray(t)?t:[t]).some((function(t){return!!t&&(t instanceof Date?(0,r.isSameDay)(e,t):(0,a.isRangeOfDates)(t)?(0,r.isDayInRange)(e,t):t.after&&t.before&&(0,r.isDayAfter)(t.before,t.after)?(0,r.isDayAfter)(e,t.after)&&(0,r.isDayBefore)(e,t.before):t.after&&t.before&&((0,r.isDayAfter)(t.after,t.before)||(0,r.isSameDay)(t.after,t.before))?(0,r.isDayAfter)(e,t.after)||(0,r.isDayBefore)(e,t.before):t.after?(0,r.isDayAfter)(e,t.after):t.before?(0,r.isDayBefore)(e,t.before):t.daysOfWeek?t.daysOfWeek.some((function(t){return e.getDay()===t})):"function"===typeof t&&t(e))}))}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).reduce((function(n,r){var a=t[r];return o(e,a)&&n.push(r),n}),[])}t.default={dayMatchesModifier:o,getModifiersForDay:i}},84076:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(19955),o=p(a),i=p(n(45697)),s=p(n(49392)),l=p(n(79459)),c=n(20286),d=f(n(35948)),u=f(n(62273)),h=f(n(16689));function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function p(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var y=function(e){function t(){var e,n,r;m(this,t);for(var a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=r=g(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.renderDay=function(e){var t=r.props.month.getMonth(),n=u.getModifiersFromProps(r.props),a=d.getModifiersForDay(e,n);h.isSameDay(e,new Date)&&!Object.prototype.hasOwnProperty.call(n,r.props.classNames.today)&&a.push(r.props.classNames.today),e.getMonth()!==t&&a.push(r.props.classNames.outside);var i=e.getMonth()!==t,s=-1;r.props.onDayClick&&!i&&1===e.getDate()&&(s=r.props.tabIndex);var c=""+e.getFullYear()+e.getMonth()+e.getDate(),f={};return a.forEach((function(e){f[e]=!0})),o.default.createElement(l.default,{key:(i?"outside-":"")+c,classNames:r.props.classNames,day:e,modifiers:f,modifiersStyles:r.props.modifiersStyles,empty:i&&!r.props.showOutsideDays&&!r.props.fixedWeeks,tabIndex:s,ariaLabel:r.props.localeUtils.formatDay(e,r.props.locale),ariaDisabled:i||a.indexOf(r.props.classNames.disabled)>-1,ariaSelected:a.indexOf(r.props.classNames.selected)>-1,onClick:r.props.onDayClick,onFocus:r.props.onDayFocus,onKeyDown:r.props.onDayKeyDown,onMouseEnter:r.props.onDayMouseEnter,onMouseLeave:r.props.onDayMouseLeave,onMouseDown:r.props.onDayMouseDown,onMouseUp:r.props.onDayMouseUp,onTouchEnd:r.props.onDayTouchEnd,onTouchStart:r.props.onDayTouchStart},r.props.renderDay(e,f))},g(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classNames,r=t.month,a=t.months,i=t.fixedWeeks,l=t.captionElement,d=t.weekdayElement,f=t.locale,p=t.localeUtils,m=t.weekdaysLong,g=t.weekdaysShort,y=t.firstDayOfWeek,v=t.onCaptionClick,A=t.showWeekNumbers,x=t.showWeekDays,C=t.onWeekClick,_={date:r,classNames:n,months:a,localeUtils:p,locale:f,onClick:v?function(e){return v(r,e)}:void 0},b=o.default.isValidElement(l)?o.default.cloneElement(l,_):o.default.createElement(l,_),k=u.getWeekArray(r,y,i);return o.default.createElement("div",{className:n.month,role:"grid"},b,x&&o.default.createElement(s.default,{classNames:n,weekdaysShort:g,weekdaysLong:m,firstDayOfWeek:y,showWeekNumbers:A,locale:f,localeUtils:p,weekdayElement:d}),o.default.createElement("div",{className:n.body,role:"rowgroup"},k.map((function(t){var a=void 0;return A&&(a=h.getWeekNumber(t[6])),o.default.createElement("div",{key:t[0].getTime(),className:n.week,role:"row"},A&&o.default.createElement("div",{className:n.weekNumber,tabIndex:C?0:-1,role:"gridcell",onClick:C?function(e){return C(a,t,e)}:void 0,onKeyUp:C?function(e){return e.keyCode===c.ENTER&&C(a,t,e)}:void 0},e.props.renderWeek(a,t,r)),t.map(e.renderDay))}))))}}]),t}(a.Component);y.propTypes={classNames:i.default.shape({body:i.default.string.isRequired,month:i.default.string.isRequired,outside:i.default.string.isRequired,today:i.default.string.isRequired,week:i.default.string.isRequired,weekNumber:i.default.string.isRequired,disabled:i.default.string.isRequired,selected:i.default.string.isRequired}).isRequired,tabIndex:i.default.number,month:i.default.instanceOf(Date).isRequired,months:i.default.arrayOf(i.default.string),modifiersStyles:i.default.object,showWeekDays:i.default.bool,showOutsideDays:i.default.bool,renderDay:i.default.func.isRequired,renderWeek:i.default.func.isRequired,captionElement:i.default.oneOfType([i.default.element,i.default.func,i.default.instanceOf(o.default.Component)]).isRequired,weekdayElement:i.default.oneOfType([i.default.element,i.default.func,i.default.instanceOf(o.default.Component)]),fixedWeeks:i.default.bool,showWeekNumbers:i.default.bool,locale:i.default.string.isRequired,localeUtils:i.default.object.isRequired,weekdaysLong:i.default.arrayOf(i.default.string),weekdaysShort:i.default.arrayOf(i.default.string),firstDayOfWeek:i.default.number.isRequired,onCaptionClick:i.default.func,onDayClick:i.default.func,onDayFocus:i.default.func,onDayKeyDown:i.default.func,onDayMouseEnter:i.default.func,onDayMouseLeave:i.default.func,onDayMouseDown:i.default.func,onDayMouseUp:i.default.func,onDayTouchEnd:i.default.func,onDayTouchStart:i.default.func,onWeekClick:i.default.func},t.default=y},47872:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(19955),o=c(a),i=c(n(45697)),s=c(n(56989)),l=n(20286);function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var h=function(e){function t(){var e,n,r;d(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return n=r=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handleNextClick=function(){r.props.onNextClick&&r.props.onNextClick()},r.handlePreviousClick=function(){r.props.onPreviousClick&&r.props.onPreviousClick()},r.handleNextKeyDown=function(e){e.keyCode!==l.ENTER&&e.keyCode!==l.SPACE||(e.preventDefault(),r.handleNextClick())},r.handlePreviousKeyDown=function(e){e.keyCode!==l.ENTER&&e.keyCode!==l.SPACE||(e.preventDefault(),r.handlePreviousClick())},u(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"shouldComponentUpdate",value:function(e){return e.labels!==this.props.labels||e.dir!==this.props.dir||this.props.showPreviousButton!==e.showPreviousButton||this.props.showNextButton!==e.showNextButton}},{key:"render",value:function(){var e=this.props,t=e.classNames,n=e.className,r=e.showPreviousButton,a=e.showNextButton,i=e.labels,s=e.dir,l=void 0,c=void 0,d=void 0,u=void 0,h=void 0,f=void 0;"rtl"===s?(l=this.handleNextClick,c=this.handlePreviousClick,d=this.handleNextKeyDown,u=this.handlePreviousKeyDown,f=r,h=a):(l=this.handlePreviousClick,c=this.handleNextClick,d=this.handlePreviousKeyDown,u=this.handleNextKeyDown,f=a,h=r);var p=h?t.navButtonPrev:t.navButtonPrev+" "+t.navButtonInteractionDisabled,m=f?t.navButtonNext:t.navButtonNext+" "+t.navButtonInteractionDisabled,g=o.default.createElement("span",{tabIndex:"0",role:"button","aria-label":i.previousMonth,key:"previous",className:p,onKeyDown:h?d:void 0,onClick:h?l:void 0}),y=o.default.createElement("span",{tabIndex:"0",role:"button","aria-label":i.nextMonth,key:"right",className:m,onKeyDown:f?u:void 0,onClick:f?c:void 0});return o.default.createElement("div",{className:n||t.navBar},"rtl"===s?[y,g]:[g,y])}}]),t}(a.Component);h.propTypes={classNames:i.default.shape({navBar:i.default.string.isRequired,navButtonPrev:i.default.string.isRequired,navButtonNext:i.default.string.isRequired,navButtonInteractionDisabled:i.default.string.isRequired}),className:i.default.string,showPreviousButton:i.default.bool,showNextButton:i.default.bool,onPreviousClick:i.default.func,onNextClick:i.default.func,dir:i.default.string,labels:i.default.shape({previousMonth:i.default.string.isRequired,nextMonth:i.default.string.isRequired})},h.defaultProps={classNames:s.default,dir:"ltr",labels:{previousMonth:"Previous Month",nextMonth:"Next Month"},showPreviousButton:!0,showNextButton:!0},t.default=h},11995:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(19955),o=s(a),i=s(n(45697));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var d=function(e){function t(){return l(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"shouldComponentUpdate",value:function(e){return this.props!==e}},{key:"render",value:function(){var e=this.props,t=e.weekday,n=e.className,r=e.weekdaysLong,a=e.weekdaysShort,i=e.localeUtils,s=e.locale,l=void 0;l=r?r[t]:i.formatWeekdayLong(t,s);var c=void 0;return c=a?a[t]:i.formatWeekdayShort(t,s),o.default.createElement("div",{className:n,role:"columnheader"},o.default.createElement("abbr",{title:l},c))}}]),t}(a.Component);d.propTypes={weekday:i.default.number,className:i.default.string,locale:i.default.string,localeUtils:i.default.object,weekdaysLong:i.default.arrayOf(i.default.string),weekdaysShort:i.default.arrayOf(i.default.string)},t.default=d},49392:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(19955),o=s(a),i=s(n(45697));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var d=function(e){function t(){return l(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"shouldComponentUpdate",value:function(e){return this.props!==e}},{key:"render",value:function(){for(var e=this.props,t=e.classNames,n=e.firstDayOfWeek,r=e.showWeekNumbers,a=e.weekdaysLong,i=e.weekdaysShort,s=e.locale,l=e.localeUtils,c=e.weekdayElement,d=[],u=0;u<7;u+=1){var h=(u+n)%7,f={key:u,className:t.weekday,weekday:h,weekdaysLong:a,weekdaysShort:i,localeUtils:l,locale:s},p=o.default.isValidElement(c)?o.default.cloneElement(c,f):o.default.createElement(c,f);d.push(p)}return o.default.createElement("div",{className:t.weekdays,role:"rowgroup"},o.default.createElement("div",{className:t.weekdaysRow,role:"row"},r&&o.default.createElement("div",{className:t.weekday}),d))}}]),t}(a.Component);d.propTypes={classNames:i.default.shape({weekday:i.default.string.isRequired,weekdays:i.default.string.isRequired,weekdaysRow:i.default.string.isRequired}).isRequired,firstDayOfWeek:i.default.number.isRequired,weekdaysLong:i.default.arrayOf(i.default.string),weekdaysShort:i.default.arrayOf(i.default.string),showWeekNumbers:i.default.bool,locale:i.default.string.isRequired,localeUtils:i.default.object.isRequired,weekdayElement:i.default.oneOfType([i.default.element,i.default.func,i.default.instanceOf(o.default.Component)])},t.default=d},56989:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default={container:"DayPicker",wrapper:"DayPicker-wrapper",interactionDisabled:"DayPicker--interactionDisabled",months:"DayPicker-Months",month:"DayPicker-Month",navBar:"DayPicker-NavBar",navButtonPrev:"DayPicker-NavButton DayPicker-NavButton--prev",navButtonNext:"DayPicker-NavButton DayPicker-NavButton--next",navButtonInteractionDisabled:"DayPicker-NavButton--interactionDisabled",caption:"DayPicker-Caption",weekdays:"DayPicker-Weekdays",weekdaysRow:"DayPicker-WeekdaysRow",weekday:"DayPicker-Weekday",body:"DayPicker-Body",week:"DayPicker-Week",weekNumber:"DayPicker-WeekNumber",day:"DayPicker-Day",footer:"DayPicker-Footer",todayButton:"DayPicker-TodayButton",today:"today",selected:"selected",disabled:"disabled",outside:"outside"}},13687:(e,t,n)=>{var r=n(27847);Object.defineProperty(t,"ZP",{enumerable:!0,get:function(){return s(r).default}});var a=n(16689);var o=n(18354);var i=n(35948);function s(e){return e&&e.__esModule?e:{default:e}}},20286:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.LEFT=37,t.UP=38,t.RIGHT=39,t.DOWN=40,t.ENTER=13,t.SPACE=32,t.ESC=27,t.TAB=9},52005:(e,t,n)=>{n.d(t,{Z:()=>p});var r=n(94015),a=n.n(r),o=n(23645),i=n.n(o),s=n(61667),l=n.n(s),c=new URL(n(24289),n.b),d=new URL(n(76040),n.b),u=i()(a()),h=l()(c),f=l()(d);u.push([e.id,"/* DayPicker styles */\n\n.DayPicker {\n  display: inline-block;\n  font-size: 1rem;\n}\n\n.DayPicker-wrapper {\n  position: relative;\n\n  flex-direction: row;\n  padding-bottom: 1em;\n\n  -webkit-user-select: none;\n\n     -moz-user-select: none;\n\n      -ms-user-select: none;\n\n          user-select: none;\n}\n\n.DayPicker-Months {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n}\n\n.DayPicker-Month {\n  display: table;\n  margin: 0 1em;\n  margin-top: 1em;\n  border-spacing: 0;\n  border-collapse: collapse;\n\n  -webkit-user-select: none;\n\n     -moz-user-select: none;\n\n      -ms-user-select: none;\n\n          user-select: none;\n}\n\n.DayPicker-NavBar {\n}\n\n.DayPicker-NavButton {\n  position: absolute;\n  top: 1em;\n  right: 1.5em;\n  left: auto;\n\n  display: inline-block;\n  margin-top: 2px;\n  width: 1.25em;\n  height: 1.25em;\n  background-position: center;\n  background-size: 50%;\n  background-repeat: no-repeat;\n  color: #8B9898;\n  cursor: pointer;\n}\n\n.DayPicker-NavButton:hover {\n  opacity: 0.8;\n}\n\n.DayPicker-NavButton--prev {\n  margin-right: 1.5em;\n  background-image: url("+h+");\n}\n\n.DayPicker-NavButton--next {\n  background-image: url("+f+");\n}\n\n.DayPicker-NavButton--interactionDisabled {\n  display: none;\n}\n\n.DayPicker-Caption {\n  display: table-caption;\n  margin-bottom: 0.5em;\n  padding: 0 0.5em;\n  text-align: left;\n}\n\n.DayPicker-Caption > div {\n  font-weight: 500;\n  font-size: 1.15em;\n}\n\n.DayPicker-Weekdays {\n  display: table-header-group;\n  margin-top: 1em;\n}\n\n.DayPicker-WeekdaysRow {\n  display: table-row;\n}\n\n.DayPicker-Weekday {\n  display: table-cell;\n  padding: 0.5em;\n  color: #8B9898;\n  text-align: center;\n  font-size: 0.875em;\n}\n\n.DayPicker-Weekday abbr[title] {\n  border-bottom: none;\n  text-decoration: none;\n}\n\n.DayPicker-Body {\n  display: table-row-group;\n}\n\n.DayPicker-Week {\n  display: table-row;\n}\n\n.DayPicker-Day {\n  display: table-cell;\n  padding: 0.5em;\n  border-radius: 50%;\n  vertical-align: middle;\n  text-align: center;\n  cursor: pointer;\n}\n\n.DayPicker-WeekNumber {\n  display: table-cell;\n  padding: 0.5em;\n  min-width: 1em;\n  border-right: 1px solid #EAECEC;\n  color: #8B9898;\n  vertical-align: middle;\n  text-align: right;\n  font-size: 0.75em;\n  cursor: pointer;\n}\n\n.DayPicker--interactionDisabled .DayPicker-Day {\n  cursor: default;\n}\n\n.DayPicker-Footer {\n  padding-top: 0.5em;\n}\n\n.DayPicker-TodayButton {\n  border: none;\n  background-color: transparent;\n  background-image: none;\n  box-shadow: none;\n  color: #4A90E2;\n  font-size: 0.875em;\n  cursor: pointer;\n}\n\n/* Default modifiers */\n\n.DayPicker-Day--today {\n  color: #D0021B;\n  font-weight: 700;\n}\n\n.DayPicker-Day--outside {\n  color: #8B9898;\n  cursor: default;\n}\n\n.DayPicker-Day--disabled {\n  color: #DCE0E0;\n  cursor: default;\n  /* background-color: #eff1f1; */\n}\n\n/* Example modifiers */\n\n.DayPicker-Day--sunday {\n  background-color: #F7F8F8;\n}\n\n.DayPicker-Day--sunday:not(.DayPicker-Day--today) {\n  color: #DCE0E0;\n}\n\n.DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside) {\n  position: relative;\n\n  background-color: #4A90E2;\n  color: #F0F8FF;\n}\n\n.DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside):hover {\n  background-color: #51A0FA;\n}\n\n.DayPicker:not(.DayPicker--interactionDisabled)\n  .DayPicker-Day:not(.DayPicker-Day--disabled):not(.DayPicker-Day--selected):not(.DayPicker-Day--outside):hover {\n  background-color: #F0F8FF;\n}\n\n/* DayPickerInput */\n\n.DayPickerInput {\n  display: inline-block;\n}\n\n.DayPickerInput-OverlayWrapper {\n  position: relative;\n}\n\n.DayPickerInput-Overlay {\n  position: absolute;\n  left: 0;\n  z-index: 1;\n\n  background: white;\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.15);\n}\n","",{version:3,sources:["webpack://./node_modules/react-day-picker/lib/style.css"],names:[],mappings:"AAAA,qBAAqB;;AAErB;EACE,qBAAqB;EACrB,eAAe;AACjB;;AAEA;EACE,kBAAkB;;EAElB,mBAAmB;EACnB,mBAAmB;;EAEnB,yBAAyB;;KAEtB,sBAAsB;;MAErB,qBAAqB;;UAEjB,iBAAiB;AAC3B;;AAEA;EACE,aAAa;EACb,eAAe;EACf,uBAAuB;AACzB;;AAEA;EACE,cAAc;EACd,aAAa;EACb,eAAe;EACf,iBAAiB;EACjB,yBAAyB;;EAEzB,yBAAyB;;KAEtB,sBAAsB;;MAErB,qBAAqB;;UAEjB,iBAAiB;AAC3B;;AAEA;AACA;;AAEA;EACE,kBAAkB;EAClB,QAAQ;EACR,YAAY;EACZ,UAAU;;EAEV,qBAAqB;EACrB,eAAe;EACf,aAAa;EACb,cAAc;EACd,2BAA2B;EAC3B,oBAAoB;EACpB,4BAA4B;EAC5B,cAAc;EACd,eAAe;AACjB;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,mBAAmB;EACnB,yDAAulB;AACzlB;;AAEA;EACE,yDAAmoB;AACroB;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,sBAAsB;EACtB,oBAAoB;EACpB,gBAAgB;EAChB,gBAAgB;AAClB;;AAEA;EACE,gBAAgB;EAChB,iBAAiB;AACnB;;AAEA;EACE,2BAA2B;EAC3B,eAAe;AACjB;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,mBAAmB;EACnB,cAAc;EACd,cAAc;EACd,kBAAkB;EAClB,kBAAkB;AACpB;;AAEA;EACE,mBAAmB;EACnB,qBAAqB;AACvB;;AAEA;EACE,wBAAwB;AAC1B;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,mBAAmB;EACnB,cAAc;EACd,kBAAkB;EAClB,sBAAsB;EACtB,kBAAkB;EAClB,eAAe;AACjB;;AAEA;EACE,mBAAmB;EACnB,cAAc;EACd,cAAc;EACd,+BAA+B;EAC/B,cAAc;EACd,sBAAsB;EACtB,iBAAiB;EACjB,iBAAiB;EACjB,eAAe;AACjB;;AAEA;EACE,eAAe;AACjB;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,YAAY;EACZ,6BAA6B;EAC7B,sBAAsB;EACtB,gBAAgB;EAChB,cAAc;EACd,kBAAkB;EAClB,eAAe;AACjB;;AAEA,sBAAsB;;AAEtB;EACE,cAAc;EACd,gBAAgB;AAClB;;AAEA;EACE,cAAc;EACd,eAAe;AACjB;;AAEA;EACE,cAAc;EACd,eAAe;EACf,+BAA+B;AACjC;;AAEA,sBAAsB;;AAEtB;EACE,yBAAyB;AAC3B;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,kBAAkB;;EAElB,yBAAyB;EACzB,cAAc;AAChB;;AAEA;EACE,yBAAyB;AAC3B;;AAEA;;EAEE,yBAAyB;AAC3B;;AAEA,mBAAmB;;AAEnB;EACE,qBAAqB;AACvB;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,kBAAkB;EAClB,OAAO;EACP,UAAU;;EAEV,iBAAiB;EACjB,yCAAyC;AAC3C",sourcesContent:["/* DayPicker styles */\n\n.DayPicker {\n  display: inline-block;\n  font-size: 1rem;\n}\n\n.DayPicker-wrapper {\n  position: relative;\n\n  flex-direction: row;\n  padding-bottom: 1em;\n\n  -webkit-user-select: none;\n\n     -moz-user-select: none;\n\n      -ms-user-select: none;\n\n          user-select: none;\n}\n\n.DayPicker-Months {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n}\n\n.DayPicker-Month {\n  display: table;\n  margin: 0 1em;\n  margin-top: 1em;\n  border-spacing: 0;\n  border-collapse: collapse;\n\n  -webkit-user-select: none;\n\n     -moz-user-select: none;\n\n      -ms-user-select: none;\n\n          user-select: none;\n}\n\n.DayPicker-NavBar {\n}\n\n.DayPicker-NavButton {\n  position: absolute;\n  top: 1em;\n  right: 1.5em;\n  left: auto;\n\n  display: inline-block;\n  margin-top: 2px;\n  width: 1.25em;\n  height: 1.25em;\n  background-position: center;\n  background-size: 50%;\n  background-repeat: no-repeat;\n  color: #8B9898;\n  cursor: pointer;\n}\n\n.DayPicker-NavButton:hover {\n  opacity: 0.8;\n}\n\n.DayPicker-NavButton--prev {\n  margin-right: 1.5em;\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAwCAYAAAB5R9gVAAAABGdBTUEAALGPC/xhBQAAAVVJREFUWAnN2G0KgjAYwPHpGfRkaZeqvgQaK+hY3SUHrk1YzNLay/OiEFp92I+/Mp2F2Mh2lLISWnflFjzH263RQjzMZ19wgs73ez0o1WmtW+dgA01VxrE3p6l2GLsnBy1VYQOtVSEH/atCCgqpQgKKqYIOiq2CBkqtggLKqQIKgqgCBjpJ2Y5CdJ+zrT9A7HHSTA1dxUdHgzCqJIEwq0SDsKsEg6iqBIEoq/wEcVRZBXFV+QJxV5mBtlDFB5VjYTaGZ2sf4R9PM7U9ZU+lLuaetPP/5Die3ToO1+u+MKtHs06qODB2zBnI/jBd4MPQm1VkY79Tb18gB+C62FdBFsZR6yeIo1YQiLJWMIiqVjQIu1YSCLNWFgijVjYIuhYYCKoWKAiiFgoopxYaKLUWOii2FgkophYp6F3r42W5A9s9OcgNvva8xQaysKXlFytoqdYmQH6tF3toSUo0INq9AAAAAElFTkSuQmCC');\n}\n\n.DayPicker-NavButton--next {\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAwCAYAAAB5R9gVAAAABGdBTUEAALGPC/xhBQAAAXRJREFUWAnN119ugjAcwPHWzJ1gnmxzB/BBE0n24m4xfNkTaOL7wOtsl3AXMMb+Vjaa1BG00N8fSEibPpAP3xAKKs2yjzTPH9RAjhEo9WzPr/Vm8zgE0+gXATAxxuxtqeJ9t5tIwv5AtQAApsfT6TPdbp+kUBcgVwvO51KqVhMkXKsVJFXrOkigVhCIs1Y4iKlWZxB1rX4gwlpRIIpa8SDkWmggrFq4IIRaJKCYWnSgnrXIQV1r8YD+1Vrn+bReagysIFfLABRt31v8oBu1xEBttfRbltmfjgEcWh9snUS2kNdBK6WN1vrOWxObWsz+fjxevsxmB1GQDfINWiev83nhaoiB/CoOU438oPrhXS0WpQ9xc1ZQWxWHqUYe0I0qrKCQKjygDlXIQV2r0IF6ViEBxVTBBSFUQQNhVYkHIVeJAtkNsbQ7c1LtzP6FsObhb2rCKv7NBIGoq4SDmKoEgTirXAcJVGkFSVVpgoSrXICGUMUH/QBZNSUy5XWUhwAAAABJRU5ErkJggg==');\n}\n\n.DayPicker-NavButton--interactionDisabled {\n  display: none;\n}\n\n.DayPicker-Caption {\n  display: table-caption;\n  margin-bottom: 0.5em;\n  padding: 0 0.5em;\n  text-align: left;\n}\n\n.DayPicker-Caption > div {\n  font-weight: 500;\n  font-size: 1.15em;\n}\n\n.DayPicker-Weekdays {\n  display: table-header-group;\n  margin-top: 1em;\n}\n\n.DayPicker-WeekdaysRow {\n  display: table-row;\n}\n\n.DayPicker-Weekday {\n  display: table-cell;\n  padding: 0.5em;\n  color: #8B9898;\n  text-align: center;\n  font-size: 0.875em;\n}\n\n.DayPicker-Weekday abbr[title] {\n  border-bottom: none;\n  text-decoration: none;\n}\n\n.DayPicker-Body {\n  display: table-row-group;\n}\n\n.DayPicker-Week {\n  display: table-row;\n}\n\n.DayPicker-Day {\n  display: table-cell;\n  padding: 0.5em;\n  border-radius: 50%;\n  vertical-align: middle;\n  text-align: center;\n  cursor: pointer;\n}\n\n.DayPicker-WeekNumber {\n  display: table-cell;\n  padding: 0.5em;\n  min-width: 1em;\n  border-right: 1px solid #EAECEC;\n  color: #8B9898;\n  vertical-align: middle;\n  text-align: right;\n  font-size: 0.75em;\n  cursor: pointer;\n}\n\n.DayPicker--interactionDisabled .DayPicker-Day {\n  cursor: default;\n}\n\n.DayPicker-Footer {\n  padding-top: 0.5em;\n}\n\n.DayPicker-TodayButton {\n  border: none;\n  background-color: transparent;\n  background-image: none;\n  box-shadow: none;\n  color: #4A90E2;\n  font-size: 0.875em;\n  cursor: pointer;\n}\n\n/* Default modifiers */\n\n.DayPicker-Day--today {\n  color: #D0021B;\n  font-weight: 700;\n}\n\n.DayPicker-Day--outside {\n  color: #8B9898;\n  cursor: default;\n}\n\n.DayPicker-Day--disabled {\n  color: #DCE0E0;\n  cursor: default;\n  /* background-color: #eff1f1; */\n}\n\n/* Example modifiers */\n\n.DayPicker-Day--sunday {\n  background-color: #F7F8F8;\n}\n\n.DayPicker-Day--sunday:not(.DayPicker-Day--today) {\n  color: #DCE0E0;\n}\n\n.DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside) {\n  position: relative;\n\n  background-color: #4A90E2;\n  color: #F0F8FF;\n}\n\n.DayPicker-Day--selected:not(.DayPicker-Day--disabled):not(.DayPicker-Day--outside):hover {\n  background-color: #51A0FA;\n}\n\n.DayPicker:not(.DayPicker--interactionDisabled)\n  .DayPicker-Day:not(.DayPicker-Day--disabled):not(.DayPicker-Day--selected):not(.DayPicker-Day--outside):hover {\n  background-color: #F0F8FF;\n}\n\n/* DayPickerInput */\n\n.DayPickerInput {\n  display: inline-block;\n}\n\n.DayPickerInput-OverlayWrapper {\n  position: relative;\n}\n\n.DayPickerInput-Overlay {\n  position: absolute;\n  left: 0;\n  z-index: 1;\n\n  background: white;\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.15);\n}\n"],sourceRoot:""}]);const p=u},35740:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(94015),a=n.n(r),o=n(23645),i=n.n(o)()(a());i.push([e.id,".Cal__Day__root {\n  display: inline-block;\n  box-sizing: border-box;\n  width: 14.28571%;\n  list-style: none;\n  font-size: 16px;\n  text-align: center;\n  cursor: pointer;\n  user-select: none; }\n  .Cal__Day__root.Cal__Day__enabled.Cal__Day__highlighted, .Cal__Day__root.Cal__Day__enabled:active, .Cal__Day__root.Cal__Day__enabled:hover {\n    position: relative;\n    z-index: 1; }\n    .Cal__Day__root.Cal__Day__enabled.Cal__Day__highlighted:before, .Cal__Day__root.Cal__Day__enabled:active:before, .Cal__Day__root.Cal__Day__enabled:hover:before {\n      content: '';\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      width: 52px;\n      height: 52px;\n      margin-top: -26px;\n      margin-left: -26px;\n      border-radius: 50%;\n      background-color: #EFEFEF;\n      z-index: -1; }\n  .Cal__Day__root.Cal__Day__enabled:hover:before {\n    opacity: 0.5; }\n  .Cal__Day__root.Cal__Day__enabled.Cal__Day__highlighted:before, .Cal__Day__root.Cal__Day__enabled:active:before {\n    opacity: 1; }\n  .Cal__Day__root:first-child {\n    position: relative; }\n  .Cal__Day__root.Cal__Day__today {\n    position: relative;\n    z-index: 2; }\n    .Cal__Day__root.Cal__Day__today > span {\n      color: #3d3d3d; }\n    .Cal__Day__root.Cal__Day__today.Cal__Day__disabled > span {\n      color: #AAA; }\n    .Cal__Day__root.Cal__Day__today:before {\n      content: '';\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      width: 52px;\n      height: 52px;\n      margin-top: -26px;\n      margin-left: -26px;\n      border-radius: 50%;\n      box-shadow: inset 0 0 0 1px;\n      z-index: -1; }\n    .Cal__Day__root.Cal__Day__today.Cal__Day__disabled:before {\n      box-shadow: inset 0 0 0 1px #BBB; }\n  .Cal__Day__root.Cal__Day__selected {\n    position: relative; }\n    .Cal__Day__root.Cal__Day__selected > .Cal__Day__month, .Cal__Day__root.Cal__Day__selected > .Cal__Day__year {\n      display: none; }\n    .Cal__Day__root.Cal__Day__selected:before {\n      display: none; }\n    .Cal__Day__root.Cal__Day__selected .Cal__Day__selection {\n      content: '';\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      width: 52px;\n      height: 52px;\n      margin-top: -26px;\n      margin-left: -26px;\n      border-radius: 50%;\n      line-height: 56px;\n      z-index: 2; }\n      .Cal__Day__root.Cal__Day__selected .Cal__Day__selection .Cal__Day__month {\n        top: 9px; }\n      .Cal__Day__root.Cal__Day__selected .Cal__Day__selection .Cal__Day__day {\n        position: relative;\n        top: 5px;\n        font-weight: bold;\n        font-size: 18px; }\n  .Cal__Day__root.Cal__Day__disabled {\n    color: #AAA;\n    cursor: not-allowed; }\n\n.Cal__Day__month, .Cal__Day__year {\n  position: absolute;\n  left: 0;\n  right: 0;\n  font-size: 12px;\n  line-height: 12px;\n  text-transform: capitalize; }\n\n.Cal__Day__month {\n  top: 5px; }\n\n.Cal__Day__year {\n  bottom: 5px; }\n\n/*\n * Range selection styles\n */\n.Cal__Day__range.Cal__Day__selected.Cal__Day__start:after, .Cal__Day__range.Cal__Day__selected.Cal__Day__end:after {\n  content: '';\n  position: absolute;\n  top: 50%;\n  width: 50%;\n  height: 52px;\n  margin-top: -26px;\n  box-shadow: inset 56px 56px; }\n\n.Cal__Day__range.Cal__Day__selected.Cal__Day__disabled .Cal__Day__selection.Cal__Day__selection {\n  background-color: #EEE !important; }\n  .Cal__Day__range.Cal__Day__selected.Cal__Day__disabled .Cal__Day__selection.Cal__Day__selection .Cal__Day__day, .Cal__Day__range.Cal__Day__selected.Cal__Day__disabled .Cal__Day__selection.Cal__Day__selection .Cal__Day__month {\n    color: #AAA;\n    font-weight: 300; }\n\n.Cal__Day__range.Cal__Day__selected.Cal__Day__start .Cal__Day__selection {\n  border-top-left-radius: 50%;\n  border-bottom-left-radius: 50%; }\n\n.Cal__Day__range.Cal__Day__selected.Cal__Day__start:after {\n  right: 0; }\n\n.Cal__Day__range.Cal__Day__selected.Cal__Day__start.Cal__Day__end:after {\n  display: none; }\n\n.Cal__Day__range.Cal__Day__selected.Cal__Day__betweenRange .Cal__Day__selection {\n  left: 0;\n  right: 0;\n  width: 100%;\n  margin-left: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 0; }\n\n.Cal__Day__range.Cal__Day__selected.Cal__Day__betweenRange .Cal__Day__day {\n  top: 0;\n  font-size: 16px; }\n\n.Cal__Day__range.Cal__Day__selected.Cal__Day__betweenRange .Cal__Day__month {\n  display: none; }\n\n.Cal__Day__range.Cal__Day__selected.Cal__Day__end:after {\n  left: 0; }\n\n.Cal__Day__range.Cal__Day__selected.Cal__Day__end .Cal__Day__selection {\n  border-top-right-radius: 50%;\n  border-bottom-right-radius: 50%;\n  color: inherit !important;\n  background-color: #FFF !important;\n  border: 2px solid;\n  box-sizing: border-box; }\n  .Cal__Day__range.Cal__Day__selected.Cal__Day__end .Cal__Day__selection .Cal__Day__day {\n    top: 4px; }\n.Cal__Container__root {\n  position: relative;\n  display: table;\n  z-index: 1;\n  font: 14px 'Helvetica Neue', Helvetica, Arial, sans-serif;\n  line-height: 1.4em;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  font-weight: 300;\n  outline: none;\n  text-align: left; }\n  .Cal__Container__root.Cal__Container__landscape {\n    display: flex;\n    flex-direction: row; }\n    .Cal__Container__root.Cal__Container__landscape .Cal__Container__wrapper {\n      position: relative;\n      flex-grow: 1;\n      overflow: hidden;\n      z-index: 1;\n      border-top-right-radius: 3px;\n      border-bottom-right-radius: 3px; }\n\n.Cal__Container__listWrapper {\n  position: relative;\n  overflow: hidden;\n  background-color: #FFF; }\n.Cal__Header__root {\n  position: relative;\n  display: flex;\n  align-items: center;\n  box-sizing: border-box;\n  overflow: hidden;\n  min-height: 98px;\n  padding: 20px;\n  line-height: 1.3;\n  font-weight: 400;\n  border-top-left-radius: 3px;\n  border-top-right-radius: 3px; }\n  .Cal__Header__root.Cal__Header__landscape {\n    align-items: flex-start;\n    min-width: 200px;\n    border-top-right-radius: 0;\n    border-bottom-left-radius: 3px; }\n    .Cal__Header__root.Cal__Header__landscape .Cal__Header__dateWrapper.Cal__Header__day {\n      flex-grow: 1;\n      height: 76px; }\n\n.Cal__Header__wrapper {\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n  cursor: pointer; }\n  .Cal__Header__wrapper.Cal__Header__blank {\n    height: 58px;\n    line-height: 58px;\n    color: rgba(255, 255, 255, 0.5);\n    font-size: 18px;\n    cursor: default; }\n\n.Cal__Header__dateWrapper {\n  position: relative;\n  display: block;\n  overflow: hidden;\n  color: rgba(255, 255, 255, 0.5);\n  transition: color 0.3s ease; }\n  .Cal__Header__dateWrapper.Cal__Header__active {\n    color: white; }\n  .Cal__Header__dateWrapper.Cal__Header__day {\n    height: 38px;\n    font-size: 36px;\n    line-height: 36px;\n    text-transform: capitalize; }\n  .Cal__Header__dateWrapper.Cal__Header__year {\n    height: 20px;\n    font-size: 18px;\n    line-height: 18px; }\n\n.Cal__Header__date {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0; }\n\n.Cal__Header__range {\n  display: flex;\n  flex-grow: 1; }\n  .Cal__Header__range .Cal__Header__dateWrapper {\n    overflow: visible; }\n  .Cal__Header__range .Cal__Header__wrapper:first-child:before, .Cal__Header__range .Cal__Header__wrapper:first-child:after {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 50%;\n    width: 0;\n    height: 0;\n    margin-top: -50px;\n    margin-left: -50px;\n    border-top: 100px solid transparent;\n    border-bottom: 100px solid transparent;\n    border-left: 60px solid; }\n  .Cal__Header__range .Cal__Header__wrapper:first-child:before {\n    color: rgba(255, 255, 255, 0.15);\n    transform: translateX(1px); }\n  .Cal__Header__range .Cal__Header__wrapper:last-child {\n    margin-left: 60px; }\n  .Cal__Header__range .Cal__Header__wrapper .Cal__Header__date {\n    white-space: nowrap;\n    z-index: 1; }\n.Cal__Today__root {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 32px;\n  padding: 6px;\n  box-sizing: border-box;\n  transform: translate3d(0, -100%, 0);\n  font-weight: 500;\n  line-height: 0;\n  z-index: 10;\n  cursor: pointer;\n  transition: transform 0.3s ease;\n  transition-delay: 0.3s; }\n  .Cal__Today__root.Cal__Today__show {\n    transform: translate3d(0, 0, 0);\n    transition-delay: 0s; }\n    .Cal__Today__root.Cal__Today__show .Cal__Today__chevron {\n      transition: transform 0.3s ease; }\n  .Cal__Today__root .Cal__Today__chevron {\n    position: absolute;\n    top: 50%;\n    margin-top: -6px;\n    margin-left: 5px;\n    transform: rotate(270deg);\n    transition: transform 0.3s ease; }\n  .Cal__Today__root.Cal__Today__chevronUp .Cal__Today__chevron {\n    transform: rotate(180deg); }\n  .Cal__Today__root.Cal__Today__chevronDown .Cal__Today__chevron {\n    transform: rotate(360deg); }\n.Cal__MonthList__root {\n  width: 100% !important;\n  background-color: #FFF;\n  -webkit-overflow-scrolling: touch; }\n  .Cal__MonthList__root.Cal__MonthList__scrolling > div {\n    pointer-events: none; }\n  .Cal__MonthList__root.Cal__MonthList__scrolling label {\n    opacity: 1; }\n.Cal__Weekdays__root {\n  position: relative;\n  z-index: 5;\n  display: flex;\n  padding: 0;\n  margin: 0;\n  list-style: none;\n  box-shadow: inset 0 -1px rgba(0, 0, 0, 0.04); }\n\n.Cal__Weekdays__day {\n  padding: 15px 0;\n  flex-basis: 14.28571%;\n  flex-grow: 1;\n  font-weight: 500;\n  text-align: center; }\n.Cal__Years__root {\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 10;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: #F9F9F9; }\n  .Cal__Years__root:before, .Cal__Years__root:after {\n    content: '';\n    position: absolute;\n    left: 0;\n    right: 0;\n    height: 50px;\n    pointer-events: none;\n    z-index: 1; }\n  .Cal__Years__root:before {\n    top: 0;\n    background: linear-gradient(to bottom, rgba(255, 255, 255, 0.8) 0%, rgba(255, 255, 255, 0) 100%); }\n  .Cal__Years__root:after {\n    bottom: 0;\n    background: linear-gradient(to bottom, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.8) 100%); }\n\n.Cal__Years__list {\n  box-sizing: border-box; }\n  .Cal__Years__list.Cal__Years__center {\n    display: flex;\n    align-items: center;\n    justify-content: center; }\n\n.Cal__Years__year {\n  display: flex;\n  padding: 0 20px;\n  height: 100%;\n  align-items: center;\n  justify-content: center;\n  font-size: 18px;\n  font-weight: 500;\n  text-align: center;\n  cursor: pointer;\n  -webkit-user-select: none;\n  box-sizing: border-box; }\n  .Cal__Years__year.Cal__Years__withMonths {\n    border-bottom: 1px solid #E9E9E9; }\n    .Cal__Years__year.Cal__Years__withMonths label {\n      height: 88px;\n      padding-top: 12px;\n      box-sizing: border-box; }\n  .Cal__Years__year label {\n    flex-basis: 42%; }\n    .Cal__Years__year label span {\n      flex-shrink: 0;\n      color: #333; }\n  .Cal__Years__year ol {\n    display: flex;\n    flex-wrap: wrap;\n    margin: 0;\n    padding: 0;\n    font-size: 14px; }\n    .Cal__Years__year ol li {\n      display: flex;\n      width: 44px;\n      height: 44px;\n      flex-shrink: 0;\n      align-items: center;\n      justify-content: center;\n      list-style: none;\n      border-radius: 50%;\n      box-sizing: border-box;\n      color: #444;\n      font-weight: 400;\n      text-transform: capitalize; }\n      .Cal__Years__year ol li.Cal__Years__currentMonth {\n        border: 1px solid; }\n      .Cal__Years__year ol li.Cal__Years__selected {\n        position: relative;\n        z-index: 1;\n        background-color: blue;\n        color: #FFF !important;\n        border: 0; }\n      .Cal__Years__year ol li.Cal__Years__disabled {\n        cursor: not-allowed;\n        color: #AAA; }\n        .Cal__Years__year ol li.Cal__Years__disabled:hover {\n          background-color: inherit; }\n      .Cal__Years__year ol li:hover {\n        background-color: #EFEFEF; }\n  .Cal__Years__year:hover label > span, .Cal__Years__year.Cal__Years__active label > span {\n    color: inherit; }\n  .Cal__Years__year:hover, .Cal__Years__year.Cal__Years__active {\n    position: relative;\n    z-index: 2; }\n  .Cal__Years__year.Cal__Years__active {\n    font-size: 32px; }\n  .Cal__Years__year.Cal__Years__currentYear {\n    position: relative; }\n    .Cal__Years__year.Cal__Years__currentYear label > span {\n      min-width: 50px;\n      padding-bottom: 5px;\n      border-bottom: 3px solid; }\n    .Cal__Years__year.Cal__Years__currentYear.Cal__Years__active label > span {\n      min-width: 85px; }\n  .Cal__Years__year.Cal__Years__first {\n    padding-top: 40px; }\n  .Cal__Years__year.Cal__Years__last {\n    padding-bottom: 40px; }\n.Cal__Animation__enter {\n  opacity: 0;\n  transform: translate3d(0, -100%, 0);\n  transition: 0.25s ease; }\n\n.Cal__Animation__enter.Cal__Animation__enterActive {\n  opacity: 1;\n  transform: translate3d(0, 0, 0); }\n\n.Cal__Animation__leave {\n  transform: translate3d(0, 0, 0);\n  transition: 0.25s ease; }\n\n.Cal__Animation__leave.Cal__Animation__leaveActive {\n  opacity: 0;\n  transform: translate3d(0, 100%, 0); }\n.Cal__Slider__root, .Cal__Slider__slide {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0; }\n\n.Cal__Slider__root {\n  overflow: hidden; }\n\n.Cal__Slider__slide {\n  padding: 20px 65px; }\n  .Cal__Slider__slide:first-child {\n    padding-left: 20px; }\n\n.Cal__Slider__wrapper {\n  height: 100%;\n  transition: transform 0.3s ease; }\n\n.Cal__Slider__arrow {\n  position: absolute;\n  top: 0;\n  z-index: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 40px;\n  height: 100%;\n  opacity: 0.7;\n  cursor: pointer;\n  border-left: 1px solid rgba(255, 255, 255, 0.1); }\n  .Cal__Slider__arrow svg {\n    width: 15px; }\n  .Cal__Slider__arrow:hover {\n    opacity: 1; }\n\n.Cal__Slider__arrowRight {\n  right: 0; }\n\n.Cal__Slider__arrowLeft {\n  left: 0;\n  transform: scaleX(-1); }\n.Cal__transition__enter {\n  opacity: 0; }\n\n.Cal__transition__enterActive {\n  opacity: 1;\n  transition: opacity 0.3s ease; }\n\n.Cal__transition__leave {\n  opacity: 1; }\n\n.Cal__transition__leaveActive {\n  opacity: 0;\n  transition: opacity 0.3s ease; }\n.Cal__Month__rows {\n  position: relative;\n  background: linear-gradient(to bottom, rgba(255, 255, 255, 0) 50%, rgba(0, 0, 0, 0.05) 100%); }\n\n.Cal__Month__row {\n  padding: 0;\n  margin: 0; }\n  .Cal__Month__row:first-child {\n    text-align: right; }\n    .Cal__Month__row:first-child li {\n      background-color: #FFF;\n      box-shadow: 0 -1px 0 #E9E9E9; }\n  .Cal__Month__row:nth-child(2) {\n    box-shadow: 0 -1px 0 #E9E9E9; }\n  .Cal__Month__row.Cal__Month__partial:first-child li:first-child {\n    box-shadow: 0px -1px 0 #E9E9E9, inset 1px 0 0 #E9E9E9; }\n  .Cal__Month__row.Cal__Month__partial:last-of-type li {\n    position: relative;\n    z-index: 1; }\n\n.Cal__Month__label {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  margin: 0;\n  font-size: 30px;\n  font-weight: 500;\n  z-index: 3;\n  pointer-events: none;\n  background-color: rgba(255, 255, 255, 0.6);\n  opacity: 0;\n  transition: opacity 0.3s ease; }\n  .Cal__Month__label > span {\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 56px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    text-transform: capitalize; }\n  .Cal__Month__label.Cal__Month__partialFirstRow {\n    top: 56px; }\n","",{version:3,sources:["webpack://./node_modules/react-infinite-calendar/styles.css"],names:[],mappings:"AAAA;EACE,qBAAqB;EACrB,sBAAsB;EACtB,gBAAgB;EAChB,gBAAgB;EAChB,eAAe;EACf,kBAAkB;EAClB,eAAe;EACf,iBAAiB,EAAE;EACnB;IACE,kBAAkB;IAClB,UAAU,EAAE;IACZ;MACE,WAAW;MACX,kBAAkB;MAClB,QAAQ;MACR,SAAS;MACT,WAAW;MACX,YAAY;MACZ,iBAAiB;MACjB,kBAAkB;MAClB,kBAAkB;MAClB,yBAAyB;MACzB,WAAW,EAAE;EACjB;IACE,YAAY,EAAE;EAChB;IACE,UAAU,EAAE;EACd;IACE,kBAAkB,EAAE;EACtB;IACE,kBAAkB;IAClB,UAAU,EAAE;IACZ;MACE,cAAc,EAAE;IAClB;MACE,WAAW,EAAE;IACf;MACE,WAAW;MACX,kBAAkB;MAClB,QAAQ;MACR,SAAS;MACT,WAAW;MACX,YAAY;MACZ,iBAAiB;MACjB,kBAAkB;MAClB,kBAAkB;MAClB,2BAA2B;MAC3B,WAAW,EAAE;IACf;MACE,gCAAgC,EAAE;EACtC;IACE,kBAAkB,EAAE;IACpB;MACE,aAAa,EAAE;IACjB;MACE,aAAa,EAAE;IACjB;MACE,WAAW;MACX,kBAAkB;MAClB,QAAQ;MACR,SAAS;MACT,WAAW;MACX,YAAY;MACZ,iBAAiB;MACjB,kBAAkB;MAClB,kBAAkB;MAClB,iBAAiB;MACjB,UAAU,EAAE;MACZ;QACE,QAAQ,EAAE;MACZ;QACE,kBAAkB;QAClB,QAAQ;QACR,iBAAiB;QACjB,eAAe,EAAE;EACvB;IACE,WAAW;IACX,mBAAmB,EAAE;;AAEzB;EACE,kBAAkB;EAClB,OAAO;EACP,QAAQ;EACR,eAAe;EACf,iBAAiB;EACjB,0BAA0B,EAAE;;AAE9B;EACE,QAAQ,EAAE;;AAEZ;EACE,WAAW,EAAE;;AAEf;;EAEE;AACF;EACE,WAAW;EACX,kBAAkB;EAClB,QAAQ;EACR,UAAU;EACV,YAAY;EACZ,iBAAiB;EACjB,2BAA2B,EAAE;;AAE/B;EACE,iCAAiC,EAAE;EACnC;IACE,WAAW;IACX,gBAAgB,EAAE;;AAEtB;EACE,2BAA2B;EAC3B,8BAA8B,EAAE;;AAElC;EACE,QAAQ,EAAE;;AAEZ;EACE,aAAa,EAAE;;AAEjB;EACE,OAAO;EACP,QAAQ;EACR,WAAW;EACX,cAAc;EACd,aAAa;EACb,uBAAuB;EACvB,mBAAmB;EACnB,gBAAgB,EAAE;;AAEpB;EACE,MAAM;EACN,eAAe,EAAE;;AAEnB;EACE,aAAa,EAAE;;AAEjB;EACE,OAAO,EAAE;;AAEX;EACE,4BAA4B;EAC5B,+BAA+B;EAC/B,yBAAyB;EACzB,iCAAiC;EACjC,iBAAiB;EACjB,sBAAsB,EAAE;EACxB;IACE,QAAQ,EAAE;AACd;EACE,kBAAkB;EAClB,cAAc;EACd,UAAU;EACV,yDAAyD;EACzD,kBAAkB;EAClB,mCAAmC;EACnC,kCAAkC;EAClC,gBAAgB;EAChB,aAAa;EACb,gBAAgB,EAAE;EAClB;IACE,aAAa;IACb,mBAAmB,EAAE;IACrB;MACE,kBAAkB;MAClB,YAAY;MACZ,gBAAgB;MAChB,UAAU;MACV,4BAA4B;MAC5B,+BAA+B,EAAE;;AAEvC;EACE,kBAAkB;EAClB,gBAAgB;EAChB,sBAAsB,EAAE;AAC1B;EACE,kBAAkB;EAClB,aAAa;EACb,mBAAmB;EACnB,sBAAsB;EACtB,gBAAgB;EAChB,gBAAgB;EAChB,aAAa;EACb,gBAAgB;EAChB,gBAAgB;EAChB,2BAA2B;EAC3B,4BAA4B,EAAE;EAC9B;IACE,uBAAuB;IACvB,gBAAgB;IAChB,0BAA0B;IAC1B,8BAA8B,EAAE;IAChC;MACE,YAAY;MACZ,YAAY,EAAE;;AAEpB;EACE,aAAa;EACb,sBAAsB;EACtB,YAAY;EACZ,eAAe,EAAE;EACjB;IACE,YAAY;IACZ,iBAAiB;IACjB,+BAA+B;IAC/B,eAAe;IACf,eAAe,EAAE;;AAErB;EACE,kBAAkB;EAClB,cAAc;EACd,gBAAgB;EAChB,+BAA+B;EAC/B,2BAA2B,EAAE;EAC7B;IACE,YAAY,EAAE;EAChB;IACE,YAAY;IACZ,eAAe;IACf,iBAAiB;IACjB,0BAA0B,EAAE;EAC9B;IACE,YAAY;IACZ,eAAe;IACf,iBAAiB,EAAE;;AAEvB;EACE,kBAAkB;EAClB,MAAM;EACN,OAAO;EACP,QAAQ;EACR,SAAS,EAAE;;AAEb;EACE,aAAa;EACb,YAAY,EAAE;EACd;IACE,iBAAiB,EAAE;EACrB;IACE,WAAW;IACX,kBAAkB;IAClB,MAAM;IACN,SAAS;IACT,QAAQ;IACR,SAAS;IACT,iBAAiB;IACjB,kBAAkB;IAClB,mCAAmC;IACnC,sCAAsC;IACtC,uBAAuB,EAAE;EAC3B;IACE,gCAAgC;IAChC,0BAA0B,EAAE;EAC9B;IACE,iBAAiB,EAAE;EACrB;IACE,mBAAmB;IACnB,UAAU,EAAE;AAChB;EACE,kBAAkB;EAClB,MAAM;EACN,OAAO;EACP,QAAQ;EACR,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,YAAY;EACZ,YAAY;EACZ,sBAAsB;EACtB,mCAAmC;EACnC,gBAAgB;EAChB,cAAc;EACd,WAAW;EACX,eAAe;EACf,+BAA+B;EAC/B,sBAAsB,EAAE;EACxB;IACE,+BAA+B;IAC/B,oBAAoB,EAAE;IACtB;MACE,+BAA+B,EAAE;EACrC;IACE,kBAAkB;IAClB,QAAQ;IACR,gBAAgB;IAChB,gBAAgB;IAChB,yBAAyB;IACzB,+BAA+B,EAAE;EACnC;IACE,yBAAyB,EAAE;EAC7B;IACE,yBAAyB,EAAE;AAC/B;EACE,sBAAsB;EACtB,sBAAsB;EACtB,iCAAiC,EAAE;EACnC;IACE,oBAAoB,EAAE;EACxB;IACE,UAAU,EAAE;AAChB;EACE,kBAAkB;EAClB,UAAU;EACV,aAAa;EACb,UAAU;EACV,SAAS;EACT,gBAAgB;EAChB,4CAA4C,EAAE;;AAEhD;EACE,eAAe;EACf,qBAAqB;EACrB,YAAY;EACZ,gBAAgB;EAChB,kBAAkB,EAAE;AACtB;EACE,kBAAkB;EAClB,OAAO;EACP,QAAQ;EACR,SAAS;EACT,WAAW;EACX,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,yBAAyB,EAAE;EAC3B;IACE,WAAW;IACX,kBAAkB;IAClB,OAAO;IACP,QAAQ;IACR,YAAY;IACZ,oBAAoB;IACpB,UAAU,EAAE;EACd;IACE,MAAM;IACN,gGAAgG,EAAE;EACpG;IACE,SAAS;IACT,gGAAgG,EAAE;;AAEtG;EACE,sBAAsB,EAAE;EACxB;IACE,aAAa;IACb,mBAAmB;IACnB,uBAAuB,EAAE;;AAE7B;EACE,aAAa;EACb,eAAe;EACf,YAAY;EACZ,mBAAmB;EACnB,uBAAuB;EACvB,eAAe;EACf,gBAAgB;EAChB,kBAAkB;EAClB,eAAe;EACf,yBAAyB;EACzB,sBAAsB,EAAE;EACxB;IACE,gCAAgC,EAAE;IAClC;MACE,YAAY;MACZ,iBAAiB;MACjB,sBAAsB,EAAE;EAC5B;IACE,eAAe,EAAE;IACjB;MACE,cAAc;MACd,WAAW,EAAE;EACjB;IACE,aAAa;IACb,eAAe;IACf,SAAS;IACT,UAAU;IACV,eAAe,EAAE;IACjB;MACE,aAAa;MACb,WAAW;MACX,YAAY;MACZ,cAAc;MACd,mBAAmB;MACnB,uBAAuB;MACvB,gBAAgB;MAChB,kBAAkB;MAClB,sBAAsB;MACtB,WAAW;MACX,gBAAgB;MAChB,0BAA0B,EAAE;MAC5B;QACE,iBAAiB,EAAE;MACrB;QACE,kBAAkB;QAClB,UAAU;QACV,sBAAsB;QACtB,sBAAsB;QACtB,SAAS,EAAE;MACb;QACE,mBAAmB;QACnB,WAAW,EAAE;QACb;UACE,yBAAyB,EAAE;MAC/B;QACE,yBAAyB,EAAE;EACjC;IACE,cAAc,EAAE;EAClB;IACE,kBAAkB;IAClB,UAAU,EAAE;EACd;IACE,eAAe,EAAE;EACnB;IACE,kBAAkB,EAAE;IACpB;MACE,eAAe;MACf,mBAAmB;MACnB,wBAAwB,EAAE;IAC5B;MACE,eAAe,EAAE;EACrB;IACE,iBAAiB,EAAE;EACrB;IACE,oBAAoB,EAAE;AAC1B;EACE,UAAU;EACV,mCAAmC;EACnC,sBAAsB,EAAE;;AAE1B;EACE,UAAU;EACV,+BAA+B,EAAE;;AAEnC;EACE,+BAA+B;EAC/B,sBAAsB,EAAE;;AAE1B;EACE,UAAU;EACV,kCAAkC,EAAE;AACtC;EACE,kBAAkB;EAClB,MAAM;EACN,OAAO;EACP,QAAQ;EACR,SAAS,EAAE;;AAEb;EACE,gBAAgB,EAAE;;AAEpB;EACE,kBAAkB,EAAE;EACpB;IACE,kBAAkB,EAAE;;AAExB;EACE,YAAY;EACZ,+BAA+B,EAAE;;AAEnC;EACE,kBAAkB;EAClB,MAAM;EACN,UAAU;EACV,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,WAAW;EACX,YAAY;EACZ,YAAY;EACZ,eAAe;EACf,+CAA+C,EAAE;EACjD;IACE,WAAW,EAAE;EACf;IACE,UAAU,EAAE;;AAEhB;EACE,QAAQ,EAAE;;AAEZ;EACE,OAAO;EACP,qBAAqB,EAAE;AACzB;EACE,UAAU,EAAE;;AAEd;EACE,UAAU;EACV,6BAA6B,EAAE;;AAEjC;EACE,UAAU,EAAE;;AAEd;EACE,UAAU;EACV,6BAA6B,EAAE;AACjC;EACE,kBAAkB;EAClB,4FAA4F,EAAE;;AAEhG;EACE,UAAU;EACV,SAAS,EAAE;EACX;IACE,iBAAiB,EAAE;IACnB;MACE,sBAAsB;MACtB,4BAA4B,EAAE;EAClC;IACE,4BAA4B,EAAE;EAChC;IACE,qDAAqD,EAAE;EACzD;IACE,kBAAkB;IAClB,UAAU,EAAE;;AAEhB;EACE,kBAAkB;EAClB,MAAM;EACN,SAAS;EACT,OAAO;EACP,QAAQ;EACR,SAAS;EACT,eAAe;EACf,gBAAgB;EAChB,UAAU;EACV,oBAAoB;EACpB,0CAA0C;EAC1C,UAAU;EACV,6BAA6B,EAAE;EAC/B;IACE,kBAAkB;IAClB,OAAO;IACP,QAAQ;IACR,MAAM;IACN,YAAY;IACZ,aAAa;IACb,mBAAmB;IACnB,uBAAuB;IACvB,0BAA0B,EAAE;EAC9B;IACE,SAAS,EAAE",sourcesContent:[".Cal__Day__root {\n  display: inline-block;\n  box-sizing: border-box;\n  width: 14.28571%;\n  list-style: none;\n  font-size: 16px;\n  text-align: center;\n  cursor: pointer;\n  user-select: none; }\n  .Cal__Day__root.Cal__Day__enabled.Cal__Day__highlighted, .Cal__Day__root.Cal__Day__enabled:active, .Cal__Day__root.Cal__Day__enabled:hover {\n    position: relative;\n    z-index: 1; }\n    .Cal__Day__root.Cal__Day__enabled.Cal__Day__highlighted:before, .Cal__Day__root.Cal__Day__enabled:active:before, .Cal__Day__root.Cal__Day__enabled:hover:before {\n      content: '';\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      width: 52px;\n      height: 52px;\n      margin-top: -26px;\n      margin-left: -26px;\n      border-radius: 50%;\n      background-color: #EFEFEF;\n      z-index: -1; }\n  .Cal__Day__root.Cal__Day__enabled:hover:before {\n    opacity: 0.5; }\n  .Cal__Day__root.Cal__Day__enabled.Cal__Day__highlighted:before, .Cal__Day__root.Cal__Day__enabled:active:before {\n    opacity: 1; }\n  .Cal__Day__root:first-child {\n    position: relative; }\n  .Cal__Day__root.Cal__Day__today {\n    position: relative;\n    z-index: 2; }\n    .Cal__Day__root.Cal__Day__today > span {\n      color: #3d3d3d; }\n    .Cal__Day__root.Cal__Day__today.Cal__Day__disabled > span {\n      color: #AAA; }\n    .Cal__Day__root.Cal__Day__today:before {\n      content: '';\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      width: 52px;\n      height: 52px;\n      margin-top: -26px;\n      margin-left: -26px;\n      border-radius: 50%;\n      box-shadow: inset 0 0 0 1px;\n      z-index: -1; }\n    .Cal__Day__root.Cal__Day__today.Cal__Day__disabled:before {\n      box-shadow: inset 0 0 0 1px #BBB; }\n  .Cal__Day__root.Cal__Day__selected {\n    position: relative; }\n    .Cal__Day__root.Cal__Day__selected > .Cal__Day__month, .Cal__Day__root.Cal__Day__selected > .Cal__Day__year {\n      display: none; }\n    .Cal__Day__root.Cal__Day__selected:before {\n      display: none; }\n    .Cal__Day__root.Cal__Day__selected .Cal__Day__selection {\n      content: '';\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      width: 52px;\n      height: 52px;\n      margin-top: -26px;\n      margin-left: -26px;\n      border-radius: 50%;\n      line-height: 56px;\n      z-index: 2; }\n      .Cal__Day__root.Cal__Day__selected .Cal__Day__selection .Cal__Day__month {\n        top: 9px; }\n      .Cal__Day__root.Cal__Day__selected .Cal__Day__selection .Cal__Day__day {\n        position: relative;\n        top: 5px;\n        font-weight: bold;\n        font-size: 18px; }\n  .Cal__Day__root.Cal__Day__disabled {\n    color: #AAA;\n    cursor: not-allowed; }\n\n.Cal__Day__month, .Cal__Day__year {\n  position: absolute;\n  left: 0;\n  right: 0;\n  font-size: 12px;\n  line-height: 12px;\n  text-transform: capitalize; }\n\n.Cal__Day__month {\n  top: 5px; }\n\n.Cal__Day__year {\n  bottom: 5px; }\n\n/*\n * Range selection styles\n */\n.Cal__Day__range.Cal__Day__selected.Cal__Day__start:after, .Cal__Day__range.Cal__Day__selected.Cal__Day__end:after {\n  content: '';\n  position: absolute;\n  top: 50%;\n  width: 50%;\n  height: 52px;\n  margin-top: -26px;\n  box-shadow: inset 56px 56px; }\n\n.Cal__Day__range.Cal__Day__selected.Cal__Day__disabled .Cal__Day__selection.Cal__Day__selection {\n  background-color: #EEE !important; }\n  .Cal__Day__range.Cal__Day__selected.Cal__Day__disabled .Cal__Day__selection.Cal__Day__selection .Cal__Day__day, .Cal__Day__range.Cal__Day__selected.Cal__Day__disabled .Cal__Day__selection.Cal__Day__selection .Cal__Day__month {\n    color: #AAA;\n    font-weight: 300; }\n\n.Cal__Day__range.Cal__Day__selected.Cal__Day__start .Cal__Day__selection {\n  border-top-left-radius: 50%;\n  border-bottom-left-radius: 50%; }\n\n.Cal__Day__range.Cal__Day__selected.Cal__Day__start:after {\n  right: 0; }\n\n.Cal__Day__range.Cal__Day__selected.Cal__Day__start.Cal__Day__end:after {\n  display: none; }\n\n.Cal__Day__range.Cal__Day__selected.Cal__Day__betweenRange .Cal__Day__selection {\n  left: 0;\n  right: 0;\n  width: 100%;\n  margin-left: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 0; }\n\n.Cal__Day__range.Cal__Day__selected.Cal__Day__betweenRange .Cal__Day__day {\n  top: 0;\n  font-size: 16px; }\n\n.Cal__Day__range.Cal__Day__selected.Cal__Day__betweenRange .Cal__Day__month {\n  display: none; }\n\n.Cal__Day__range.Cal__Day__selected.Cal__Day__end:after {\n  left: 0; }\n\n.Cal__Day__range.Cal__Day__selected.Cal__Day__end .Cal__Day__selection {\n  border-top-right-radius: 50%;\n  border-bottom-right-radius: 50%;\n  color: inherit !important;\n  background-color: #FFF !important;\n  border: 2px solid;\n  box-sizing: border-box; }\n  .Cal__Day__range.Cal__Day__selected.Cal__Day__end .Cal__Day__selection .Cal__Day__day {\n    top: 4px; }\n.Cal__Container__root {\n  position: relative;\n  display: table;\n  z-index: 1;\n  font: 14px 'Helvetica Neue', Helvetica, Arial, sans-serif;\n  line-height: 1.4em;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  font-weight: 300;\n  outline: none;\n  text-align: left; }\n  .Cal__Container__root.Cal__Container__landscape {\n    display: flex;\n    flex-direction: row; }\n    .Cal__Container__root.Cal__Container__landscape .Cal__Container__wrapper {\n      position: relative;\n      flex-grow: 1;\n      overflow: hidden;\n      z-index: 1;\n      border-top-right-radius: 3px;\n      border-bottom-right-radius: 3px; }\n\n.Cal__Container__listWrapper {\n  position: relative;\n  overflow: hidden;\n  background-color: #FFF; }\n.Cal__Header__root {\n  position: relative;\n  display: flex;\n  align-items: center;\n  box-sizing: border-box;\n  overflow: hidden;\n  min-height: 98px;\n  padding: 20px;\n  line-height: 1.3;\n  font-weight: 400;\n  border-top-left-radius: 3px;\n  border-top-right-radius: 3px; }\n  .Cal__Header__root.Cal__Header__landscape {\n    align-items: flex-start;\n    min-width: 200px;\n    border-top-right-radius: 0;\n    border-bottom-left-radius: 3px; }\n    .Cal__Header__root.Cal__Header__landscape .Cal__Header__dateWrapper.Cal__Header__day {\n      flex-grow: 1;\n      height: 76px; }\n\n.Cal__Header__wrapper {\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n  cursor: pointer; }\n  .Cal__Header__wrapper.Cal__Header__blank {\n    height: 58px;\n    line-height: 58px;\n    color: rgba(255, 255, 255, 0.5);\n    font-size: 18px;\n    cursor: default; }\n\n.Cal__Header__dateWrapper {\n  position: relative;\n  display: block;\n  overflow: hidden;\n  color: rgba(255, 255, 255, 0.5);\n  transition: color 0.3s ease; }\n  .Cal__Header__dateWrapper.Cal__Header__active {\n    color: white; }\n  .Cal__Header__dateWrapper.Cal__Header__day {\n    height: 38px;\n    font-size: 36px;\n    line-height: 36px;\n    text-transform: capitalize; }\n  .Cal__Header__dateWrapper.Cal__Header__year {\n    height: 20px;\n    font-size: 18px;\n    line-height: 18px; }\n\n.Cal__Header__date {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0; }\n\n.Cal__Header__range {\n  display: flex;\n  flex-grow: 1; }\n  .Cal__Header__range .Cal__Header__dateWrapper {\n    overflow: visible; }\n  .Cal__Header__range .Cal__Header__wrapper:first-child:before, .Cal__Header__range .Cal__Header__wrapper:first-child:after {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 50%;\n    width: 0;\n    height: 0;\n    margin-top: -50px;\n    margin-left: -50px;\n    border-top: 100px solid transparent;\n    border-bottom: 100px solid transparent;\n    border-left: 60px solid; }\n  .Cal__Header__range .Cal__Header__wrapper:first-child:before {\n    color: rgba(255, 255, 255, 0.15);\n    transform: translateX(1px); }\n  .Cal__Header__range .Cal__Header__wrapper:last-child {\n    margin-left: 60px; }\n  .Cal__Header__range .Cal__Header__wrapper .Cal__Header__date {\n    white-space: nowrap;\n    z-index: 1; }\n.Cal__Today__root {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 32px;\n  padding: 6px;\n  box-sizing: border-box;\n  transform: translate3d(0, -100%, 0);\n  font-weight: 500;\n  line-height: 0;\n  z-index: 10;\n  cursor: pointer;\n  transition: transform 0.3s ease;\n  transition-delay: 0.3s; }\n  .Cal__Today__root.Cal__Today__show {\n    transform: translate3d(0, 0, 0);\n    transition-delay: 0s; }\n    .Cal__Today__root.Cal__Today__show .Cal__Today__chevron {\n      transition: transform 0.3s ease; }\n  .Cal__Today__root .Cal__Today__chevron {\n    position: absolute;\n    top: 50%;\n    margin-top: -6px;\n    margin-left: 5px;\n    transform: rotate(270deg);\n    transition: transform 0.3s ease; }\n  .Cal__Today__root.Cal__Today__chevronUp .Cal__Today__chevron {\n    transform: rotate(180deg); }\n  .Cal__Today__root.Cal__Today__chevronDown .Cal__Today__chevron {\n    transform: rotate(360deg); }\n.Cal__MonthList__root {\n  width: 100% !important;\n  background-color: #FFF;\n  -webkit-overflow-scrolling: touch; }\n  .Cal__MonthList__root.Cal__MonthList__scrolling > div {\n    pointer-events: none; }\n  .Cal__MonthList__root.Cal__MonthList__scrolling label {\n    opacity: 1; }\n.Cal__Weekdays__root {\n  position: relative;\n  z-index: 5;\n  display: flex;\n  padding: 0;\n  margin: 0;\n  list-style: none;\n  box-shadow: inset 0 -1px rgba(0, 0, 0, 0.04); }\n\n.Cal__Weekdays__day {\n  padding: 15px 0;\n  flex-basis: 14.28571%;\n  flex-grow: 1;\n  font-weight: 500;\n  text-align: center; }\n.Cal__Years__root {\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 10;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: #F9F9F9; }\n  .Cal__Years__root:before, .Cal__Years__root:after {\n    content: '';\n    position: absolute;\n    left: 0;\n    right: 0;\n    height: 50px;\n    pointer-events: none;\n    z-index: 1; }\n  .Cal__Years__root:before {\n    top: 0;\n    background: linear-gradient(to bottom, rgba(255, 255, 255, 0.8) 0%, rgba(255, 255, 255, 0) 100%); }\n  .Cal__Years__root:after {\n    bottom: 0;\n    background: linear-gradient(to bottom, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.8) 100%); }\n\n.Cal__Years__list {\n  box-sizing: border-box; }\n  .Cal__Years__list.Cal__Years__center {\n    display: flex;\n    align-items: center;\n    justify-content: center; }\n\n.Cal__Years__year {\n  display: flex;\n  padding: 0 20px;\n  height: 100%;\n  align-items: center;\n  justify-content: center;\n  font-size: 18px;\n  font-weight: 500;\n  text-align: center;\n  cursor: pointer;\n  -webkit-user-select: none;\n  box-sizing: border-box; }\n  .Cal__Years__year.Cal__Years__withMonths {\n    border-bottom: 1px solid #E9E9E9; }\n    .Cal__Years__year.Cal__Years__withMonths label {\n      height: 88px;\n      padding-top: 12px;\n      box-sizing: border-box; }\n  .Cal__Years__year label {\n    flex-basis: 42%; }\n    .Cal__Years__year label span {\n      flex-shrink: 0;\n      color: #333; }\n  .Cal__Years__year ol {\n    display: flex;\n    flex-wrap: wrap;\n    margin: 0;\n    padding: 0;\n    font-size: 14px; }\n    .Cal__Years__year ol li {\n      display: flex;\n      width: 44px;\n      height: 44px;\n      flex-shrink: 0;\n      align-items: center;\n      justify-content: center;\n      list-style: none;\n      border-radius: 50%;\n      box-sizing: border-box;\n      color: #444;\n      font-weight: 400;\n      text-transform: capitalize; }\n      .Cal__Years__year ol li.Cal__Years__currentMonth {\n        border: 1px solid; }\n      .Cal__Years__year ol li.Cal__Years__selected {\n        position: relative;\n        z-index: 1;\n        background-color: blue;\n        color: #FFF !important;\n        border: 0; }\n      .Cal__Years__year ol li.Cal__Years__disabled {\n        cursor: not-allowed;\n        color: #AAA; }\n        .Cal__Years__year ol li.Cal__Years__disabled:hover {\n          background-color: inherit; }\n      .Cal__Years__year ol li:hover {\n        background-color: #EFEFEF; }\n  .Cal__Years__year:hover label > span, .Cal__Years__year.Cal__Years__active label > span {\n    color: inherit; }\n  .Cal__Years__year:hover, .Cal__Years__year.Cal__Years__active {\n    position: relative;\n    z-index: 2; }\n  .Cal__Years__year.Cal__Years__active {\n    font-size: 32px; }\n  .Cal__Years__year.Cal__Years__currentYear {\n    position: relative; }\n    .Cal__Years__year.Cal__Years__currentYear label > span {\n      min-width: 50px;\n      padding-bottom: 5px;\n      border-bottom: 3px solid; }\n    .Cal__Years__year.Cal__Years__currentYear.Cal__Years__active label > span {\n      min-width: 85px; }\n  .Cal__Years__year.Cal__Years__first {\n    padding-top: 40px; }\n  .Cal__Years__year.Cal__Years__last {\n    padding-bottom: 40px; }\n.Cal__Animation__enter {\n  opacity: 0;\n  transform: translate3d(0, -100%, 0);\n  transition: 0.25s ease; }\n\n.Cal__Animation__enter.Cal__Animation__enterActive {\n  opacity: 1;\n  transform: translate3d(0, 0, 0); }\n\n.Cal__Animation__leave {\n  transform: translate3d(0, 0, 0);\n  transition: 0.25s ease; }\n\n.Cal__Animation__leave.Cal__Animation__leaveActive {\n  opacity: 0;\n  transform: translate3d(0, 100%, 0); }\n.Cal__Slider__root, .Cal__Slider__slide {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0; }\n\n.Cal__Slider__root {\n  overflow: hidden; }\n\n.Cal__Slider__slide {\n  padding: 20px 65px; }\n  .Cal__Slider__slide:first-child {\n    padding-left: 20px; }\n\n.Cal__Slider__wrapper {\n  height: 100%;\n  transition: transform 0.3s ease; }\n\n.Cal__Slider__arrow {\n  position: absolute;\n  top: 0;\n  z-index: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 40px;\n  height: 100%;\n  opacity: 0.7;\n  cursor: pointer;\n  border-left: 1px solid rgba(255, 255, 255, 0.1); }\n  .Cal__Slider__arrow svg {\n    width: 15px; }\n  .Cal__Slider__arrow:hover {\n    opacity: 1; }\n\n.Cal__Slider__arrowRight {\n  right: 0; }\n\n.Cal__Slider__arrowLeft {\n  left: 0;\n  transform: scaleX(-1); }\n.Cal__transition__enter {\n  opacity: 0; }\n\n.Cal__transition__enterActive {\n  opacity: 1;\n  transition: opacity 0.3s ease; }\n\n.Cal__transition__leave {\n  opacity: 1; }\n\n.Cal__transition__leaveActive {\n  opacity: 0;\n  transition: opacity 0.3s ease; }\n.Cal__Month__rows {\n  position: relative;\n  background: linear-gradient(to bottom, rgba(255, 255, 255, 0) 50%, rgba(0, 0, 0, 0.05) 100%); }\n\n.Cal__Month__row {\n  padding: 0;\n  margin: 0; }\n  .Cal__Month__row:first-child {\n    text-align: right; }\n    .Cal__Month__row:first-child li {\n      background-color: #FFF;\n      box-shadow: 0 -1px 0 #E9E9E9; }\n  .Cal__Month__row:nth-child(2) {\n    box-shadow: 0 -1px 0 #E9E9E9; }\n  .Cal__Month__row.Cal__Month__partial:first-child li:first-child {\n    box-shadow: 0px -1px 0 #E9E9E9, inset 1px 0 0 #E9E9E9; }\n  .Cal__Month__row.Cal__Month__partial:last-of-type li {\n    position: relative;\n    z-index: 1; }\n\n.Cal__Month__label {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  margin: 0;\n  font-size: 30px;\n  font-weight: 500;\n  z-index: 3;\n  pointer-events: none;\n  background-color: rgba(255, 255, 255, 0.6);\n  opacity: 0;\n  transition: opacity 0.3s ease; }\n  .Cal__Month__label > span {\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 56px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    text-transform: capitalize; }\n  .Cal__Month__label.Cal__Month__partialFirstRow {\n    top: 56px; }\n"],sourceRoot:""}]);const s=i},61667:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},67117:(e,t,n)=>{n.d(t,{Z:()=>k});var r=n(34575),a=n.n(r),o=n(93913),i=n.n(o),s=n(2205),l=n.n(s),c=n(78585),d=n.n(c),u=n(29754),h=n.n(u),f=n(22060),p=n(19421),m=n(11780),g=n(19955),y=n(5093),v=n(12402),A=n(16719),x=n(36385),C=n(48700),_=n(45989);function b(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d()(this,n)}}const k=function(e){l()(n,e);var t=b(n);function n(){return a()(this,n),t.apply(this,arguments)}return i()(n,[{key:"init",value:function(){this.refModal=g.createRef()}},{key:"close",value:function(e){this.props.onClose&&this.props.onClose(),y.default.menus.closeModal(this.props.modalID,e)}},{key:"onCloseButton",value:function(){this.props.onCloseButton?this.props.onCloseButton():this.close()}},{key:"onEscapeKey",value:function(){this.props.noCancel||this.close()}},{key:"getElement",value:function(){return this.refModal.current}},{key:"render",value:function(){var e,t=this.props,n=this.getChildByKey("sidebar"),r=this.getChildByKey("content"),a=this.getChildByKey("buttons"),o=Object.assign({maxHeight:"".concat(f.Z.ModalMaxHeightPerc,"%"),minWidth:t.minWidth,minHeight:t.minHeight,width:t.width||t.small&&400,height:t.height},t.style),i=m.Z.classNames("fancyModal c-bg-app popup c-shadow-popup flexbox flexvert max-h-full will-change-transform",t.className,{small:t.small},{hasSidebar:!!n},{hasButtons:!!a}),s=m.Z.classNames("fancyModalWrapper c-foreground fontPane",{"small flexbox":t.small}),l=m.Z.classNames("fancyModalContent c-border c-background f1",r.props.className),c=g.createElement(t.scrollable?A.Z:"div",{className:l,style:{padding:!1===t.padded?"0":void 0}},r.props.children||r);if(n){var d={width:t.sidebarWidth||180};e=(0,_.jsx)("div",{className:m.Z.classNames("fancyModalSidebar",n.props.className),style:d,children:n.props.children})}return(0,_.jsx)(C.Z,{children:(0,_.jsxs)("div",{className:s,children:[!t.noBackdrop&&(0,_.jsx)(p.E.div,{className:"fixed inset-0 bg-black will-change-opacity",onClick:!1!==t.backdropClose?this.close.bind(this,!1):void 0,initial:{opacity:0},animate:{opacity:.8},transition:{duration:.25}}),(0,_.jsxs)(p.E.div,{className:i,id:t.id,style:o,ref:this.refModal,initial:{scale:.85},animate:{scale:1},transition:f.Z.TransitionSpringMedium,children:[t.title&&!1!==t.closeButton&&(0,_.jsx)(v.Z,{className:"fancyModalClose",icon:"icon-close",iconSize:20,width:36,height:36,onClick:this.onCloseButton,tooltip:"Close"}),t.title&&(0,_.jsx)("div",{className:"fancyModalTitle",children:t.title}),(0,_.jsxs)("div",{className:"fancyModalInside flexbox flex1",children:[e,(0,_.jsxs)("div",{className:"fancyModalContentArea c-border-light c-background flexbox flexvert f1",children:[c,a&&(0,_.jsx)("div",{className:m.Z.classNames("fancyModalButtons c-background"),children:a})]})]})]})]})})}}]),n}(x.a)},71915:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(11780),a=(n(19955),n(27134)),o=n(45989);const i=(0,a.Z)((function(e){var t=e.id,n=e.className,a=e.children,i=r.Z.classNames("fancyTable c-border",n);return(0,o.jsx)("div",{className:i,id:t,children:a})}))},49554:(e,t,n)=>{n.d(t,{zt:()=>l,C3:()=>c,eM:()=>d});var r=n(11780),a=n(19955),o=n(27134),i=n(45989),s=a.createContext([]),l=(0,o.Z)((function(e){var t=e.className,n=e.columnOptions,a=e.header,o=e.borderLeft,s=e.borderRight,l=e.children,c=r.Z.classNames(t,"border-b c-border-heavy borderBox",{"border-l":o},{"border-r":s},{f1:n.flex}),d={minWidth:n.width||n.minWidth,maxWidth:n.width};return(a||n.padded)&&(d.paddingLeft=12,d.paddingRight=12),(0,i.jsx)("div",{className:c,style:d,children:l})})),c=(0,o.c)((0,a.forwardRef)((function(e,t){var n=e.className,o=e.header,c=e.children,d=(0,a.useContext)(s),u=r.Z.classNames("flex",n),h=a.Children.toArray(c);return(0,i.jsx)("div",{className:u,ref:t,children:d.map((function(e,t){return h[t]?a.cloneElement(h[t],Object.assign({borderLeft:t>0,borderRight:h.length>1&&t<d.length-1,columnOptions:e,header:o},h[t].props)):(0,i.jsx)(l,{columnOptions:e},t)}))})}))),d=(0,o.Z)((function(e){var t=e.className,n=e.style,a=e.columnOptions,o=e.children,l=r.Z.classNames(t,"c-border-heavy");return(0,i.jsx)(s.Provider,{value:a,children:(0,i.jsx)("div",{className:l,style:n,children:o})})}))},19617:(e,t,n)=>{n.d(t,{Z:()=>v});var r=n(34575),a=n.n(r),o=n(93913),i=n.n(o),s=n(2205),l=n.n(s),c=n(78585),d=n.n(c),u=n(29754),h=n.n(u),f=n(11780),p=(n(19955),n(36385)),m=n(5093),g=n(45989);function y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d()(this,n)}}const v=function(e){l()(n,e);var t=y(n);function n(){return a()(this,n),t.apply(this,arguments)}return i()(n,[{key:"init",value:function(){this.createObservables({isFocused:this.props.focused||!1})}},{key:"onMount",value:function(){var e=this,t=this.refs.input;this.props.value&&(t.value=this.props.value),this.props.focused&&requestAnimationFrame((function(){t&&(t.focus(),void 0!==e.props.selectionStart&&(t.selectionStart=e.props.selectionStart),void 0!==e.props.selectionEnd&&(t.selectionEnd=e.props.selectionEnd),t.scrollTop=0)}))}},{key:"onUnmount",value:function(){this.isFocused.get()&&this.onBlur()}},{key:"focus",value:function(){this.refs.input.focus()}},{key:"blur",value:function(){this.refs.input.blur()}},{key:"getValue",value:function(){return this.refs.input.value}},{key:"setValue",value:function(e){this.refs.input.value=e}},{key:"getSelectionStart",value:function(){return this.refs.input.selectionStart}},{key:"getSelectionEnd",value:function(){return this.refs.input.selectionEnd}},{key:"onFocus",value:function(e){this.isFocused.set(!0),this.props.onEscape&&(this.__hotkeyEscape=m.default.hotkeys.pushStackEscape(this.handleEscapeKey)),this.props.onFocus&&this.props.onFocus(e)}},{key:"onBlur",value:function(e){this.isFocused.set(!1),this.__hotkeyEscape&&(m.default.hotkeys.popStack(this.__hotkeyEscape),this.__hotkeyEscape=void 0),this.props.onBlur&&this.props.onBlur(e)}},{key:"onKeyPress",value:function(e){this.props.onKeyPress&&this.props.onKeyPress(e)}},{key:"handleEscapeKey",value:function(){this.props.onEscape&&this.props.onEscape()}},{key:"render",value:function(){var e=this.props,t=f.Z.classNames("fancyTextarea c-background c-foreground",e.className),n=!!e.spellCheck||null,r={fontSize:e.fontSize,height:e.height||150,margin:void 0!==e.margin?e.margin:"16px 0",overflow:e.height<=34&&"hidden"};return(0,g.jsx)("textarea",{className:t,style:r,ref:"input",readOnly:!!e.isReadOnly,spellCheck:n,onClick:e.onClick,onChange:e.onChange,onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:e.onKeyDown,onKeyPress:e.onKeyPress,placeholder:e.placeholder,tabIndex:e.tabIndex})}}]),n}(p.a)},96287:(e,t,n)=>{n.r(t),n.d(t,{default:()=>c});var r=n(5093),a=n(19955),o=n(67117),i=n(22060),s=n(27134),l=n(45989);const c=(0,s.Z)((function(){var e=(0,a.useRef)();return(0,a.useEffect)((function(){e.current.addEventListener("ipc-message",(function(e){var t=e.channel,n=e.args;if("signedIn"===t){var a=n[0];r.default.menus.closeModal(i.Z.Modals.GmailAuth,a)}}))}),[]),(0,l.jsx)(o.Z,{id:"modalGmailAuth",modalID:i.Z.Modals.GmailAuth,width:800,height:800,padded:!1,children:(0,l.jsx)("div",{className:"flex flex-col",children:(0,l.jsx)("webview",{src:"https://accounts.google.com/AddSession?hl=en&continue=https://mail.google.com/mail&service=mail",className:"flex-1",preload:"file:authgmail.js",ref:e})},"content")})}))},92319:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});var r=n(63038),a=n.n(r),o=n(22060),i=n(19955),s=n(5093),l=n(67117),c=n(27134),d=n(78966),u=n(45989),h=function e(t){var n=Math.floor(1e3*Math.random())+1;return t.some((function(e){return"o"===e.s&&e.n===n}))?e(t):n};const f=(0,c.Z)((function(e){var t=e.business,n=e.account,r=(0,i.useRef)(),c=t?"https://outlook.office.com/":"https://login.live.com/login.srf",f=(0,d.Z)(s.default.settings.emailViewAccounts),p=a()(f,1)[0],m=n?n.n:(0,i.useMemo)((function(){return h(p)}),[p]);return(0,i.useEffect)((function(){r.current.addEventListener("ipc-message",(function(e){var t=e.channel,n=e.args;if("signedIn"===t){var r=n[0];s.default.menus.closeModal(o.Z.Modals.OutlookAuth,{accountID:r,num:m})}}))}),[]),(0,u.jsx)(l.Z,{id:"modalOutlookAuth",modalID:o.Z.Modals.OutlookAuth,width:800,height:800,padded:!1,children:(0,u.jsx)("div",{className:"flex flex-col",children:(0,u.jsx)("webview",{src:c,className:"flex-1",preload:"file:authoutlook.js",partition:"persist:outlook".concat(m),ref:r})},"content")})}))},42108:(e,t,n)=>{n.r(t),n.d(t,{default:()=>M});var r=n(34575),a=n.n(r),o=n(93913),i=n.n(o),s=n(2205),l=n.n(s),c=n(78585),d=n.n(c),u=n(29754),h=n.n(u),f=n(22060),p=n(11780),m=n(86557),g=n(19955),y=n(5093),v=n(57015),A=n(1465),x=n(86986),C=n(31838),_=n(99151),b=n(72259),k=n(59942),w=n(36385),E=n(41377),j=n(43351),D=n(74792),Z=n(24856),P=n(45989);function B(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d()(this,n)}}const M=function(e){l()(n,e);var t=B(n);function n(){return a()(this,n),t.apply(this,arguments)}return i()(n,[{key:"init",value:function(){var e=this.props;this.refVirtualList=(0,g.createRef)();var t=_.Z.matches.get();this.createObservables({selectedIndex:e.elementInput||e.fromPane||e.onlyMatches?this.getFirstIndex(t):-1,expanded:-1,selectedDocument:b.Z.getDefaultDocument()})}},{key:"onMount",value:function(){if(this.hasOwnInput()){var e=this.props,t=this.refs.input;t&&(t.focus(),t.updateAutocomplete(e.item||e.items&&e.items[0]))}document.addEventListener("keydown",this.onInputKeyDown,!0)}},{key:"componentWillReceiveProps",value:function(e){this.props.matches!==e.matches&&this.updateState(e)}},{key:"onUnmount",value:function(){document.removeEventListener("keydown",this.onInputKeyDown,!0)}},{key:"onBeforeChanged",value:function(e,t){var n=this.refs;if(e.matches!==t.matches&&!e.hasSpecialMatches){this.expanded.set(-1,!1),e.expanded=-1;var r=!n.input||!this.props.allowCustom&&n.input.getValue()&&this.state.matches.length>0?this.getFirstIndex():-1;this.selectedIndex.set(r,!1),e.selectedIndex=r}}},{key:"onAfterChanged",value:function(e,t){e.matches.length>t.matches.length&&setTimeout(function(){this.refs.contextMenu&&this.refs.contextMenu.updateState()}.bind(this),0)}},{key:"getFirstIndex",value:function(e){return(e||this.state.matches).findIndex((function(e){return"header"!==e.type}))}},{key:"getState",value:function(e){var t=this.getSpecialMatches();return{matches:e.matches||t||_.Z.matches,hasSpecialMatches:!!t,owner:_.Z.owner}}},{key:"getClassNameForType",value:function(e){return("contact"===e?"autocomplete_contact":"date"===e&&"autocomplete_date")||"gmailLabel"===e&&"autocomplete_gmailLabel"||"header"===e&&"autocomplete_header"||"item"===e&&"autocomplete_item"||"snooze"===e&&"autocomplete_snooze"||"tag"===e&&"autocomplete_tag"}},{key:"updateTextFromIndex",value:function(){if(this.hasOwnInput()){var e=this.refs.input,t=this.selectedIndex.get(),n="";if(t>=0){var r=this.state.matches[t];n=this.getInsertText(r)}e.setValue(n),e.selectEnd()}}},{key:"onInputKeyDown",value:function(e){var t=this.state.matches,n=this.props;if(n.allowCustom&&e.keyCode===f.Z.KeyCode.Enter)this.onSelected(e),p.Z.preventDefault(e),p.Z.stopPropagation(e);else if(t.length>0){var r=this.selectedIndex.get();if(t.length>1&&(e.keyCode===f.Z.KeyCode.ArrowDown||e.keyCode===f.Z.KeyCode.ArrowUp)){var a,o;if(e.keyCode===f.Z.KeyCode.ArrowUp)"header"===(null===(a=t[--r])||void 0===a?void 0:a.type)&&r--,r<(n.allowCustom?-1:0)&&(r=t.length-1),"header"===(null===(o=t[r])||void 0===o?void 0:o.type)&&r++;else if(e.keyCode===f.Z.KeyCode.ArrowDown){var i;"header"===(null===(i=t[++r])||void 0===i?void 0:i.type)&&r++,r>t.length-1&&(r=n.allowCustom?-1:this.getFirstIndex())}if(r!==this.selectedIndex.get()&&(this.selectedIndex.set(r),this.updateTextFromIndex(),r>=0))try{this.refVirtualList.current.scrollToIndex({index:r,align:"auto",behavior:"auto"})}catch(s){}p.Z.preventDefault(e)}else e.keyCode===f.Z.KeyCode.ArrowRight?this.expanded.set(r):e.keyCode!==f.Z.KeyCode.Enter&&e.keyCode!==f.Z.KeyCode.Tab||r>=0&&(this.onSelected(e),p.Z.preventDefault(e),p.Z.stopPropagation(e))}}},{key:"onEscapeKey",value:function(){this.hide()}},{key:"hide",value:function(){_.Z.hide()}},{key:"onMouseMove",value:function(e){this.selectedIndex.set(e)}},{key:"onClick",value:function(e,t){this.selectedIndex.set(e),this.updateTextFromIndex(),this.onSelected(t)}},{key:"onButtonClick",value:function(e,t,n){this.onSelected(n)}},{key:"hasOwnInput",value:function(){return!this.props.elementInput&&!this.props.fromPane&&!this.props.onlyMatches}},{key:"onSelected",value:function(e){var t,n,r=this.props,a=this.state,o=this.refs.input,i={owner:a.owner};if(r.allowCustom)(r.allowEmpty||o.getValue())&&(n={text:o.getValue()});else{var s=this.selectedIndex.get();n=this.state.matches[s]}n&&("contact"===n.type&&"email"===this.props.mode?i.token=n:"item"===n.type?i.item=n.item:t=_.Z.insertMatch(this.getInsertText(n)),t&&(i.value=t.text,i.offset=t.offset),r.onSelected?r.onSelected(i,e):a.owner&&a.owner.onAutocompleteSelected&&a.owner.onAutocompleteSelected(i),this.hide())}},{key:"getInsertText",value:function(e){return"email"===this.props.mode?e.text+" <"+e.email+">":"snooze"===e.type?e.insertText:e.text}},{key:"insertHighlight",value:function(e){var t=[],n=_.Z.getText(),r=e.toUpperCase().indexOf(n.toUpperCase());return r>=0&&n.length>0?(r>0&&t.push(e.substr(0,r)),t.push((0,P.jsx)("span",{className:"ac-match c-bg-autocomplete-highlight",children:e.substr(r,n.length)},"match")),e.length>r+n.length&&t.push(e.substr(r+n.length))):t=e,t}},{key:"onClickExpand",value:function(e,t){this.expanded.set(e),t.stopPropagation()}},{key:"onClickExpandedInput",value:function(e){e.stopPropagation()}},{key:"onSelectedAddChild",value:function(e,t,n){var r=this.props,a=this.state,o=a.expanded,i=a.matches[o];if(r.onSelected){var s={item:i.item,subItemText:this.refs.inputAdd.getValue()};r.onSelected(s,n)}}},{key:"getSpecialMatches",value:function(){if("snooze"===this.props.mode){var e,t,n,r=new Date,a=r.getHours(),o=r.getDay(),i=k.Z.getTodayPlusMS(f.Z.MSPerHour*Math.min(a+3,23+59/60));e=a<18?k.Z.getTodayPlusMS(19*f.Z.MSPerHour):k.Z.getTodayPlusMS(f.Z.MSPerHour*Math.min(a+2,23+59/60)),t=o<6?k.Z.getTodayPlusMS(f.Z.MSPerDay*(6-r.getDay())+9*f.Z.MSPerHour):6===o?k.Z.getTodayPlusMS(1*f.Z.MSPerDay+9*f.Z.MSPerHour):k.Z.getTodayPlusMS(f.Z.MSPerHour*Math.min(a+3,23+59/60)),n=o>0?k.Z.getTodayPlusMS(f.Z.MSPerDay*(8-r.getDay())+9*f.Z.MSPerHour):k.Z.getTodayPlusMS(f.Z.MSPerDay+9*f.Z.MSPerHour);var s=k.Z.getTodayPlusMS(f.Z.MSPerDay+9*f.Z.MSPerHour),l=k.Z.getTodayPlusMS(f.Z.MSPerDay+19*f.Z.MSPerHour);return[{type:"snooze",icon:"icon-access_time",iconColor:"#f30",text:"Later Today",insertText:"Today "+i.toString(y.default.International.getFormat(f.Z.DFormat.ShortTime)),date:i,showDay:!1},{type:"snooze",icon:"icon-access_time",iconColor:"#fa0",text:"Tonight",insertText:"Today "+e.toString(y.default.International.getFormat(f.Z.DFormat.ShortTime)),date:e,showDay:!1},{type:"snooze",icon:"icon-access_time",iconColor:"#fd0",text:"Tomorrow Morning",insertText:"Tomorrow "+s.toString(y.default.International.getFormat(f.Z.DFormat.ShortTime)),date:s,showDay:!0},{type:"snooze",icon:"icon-access_time",iconColor:"#2a6",text:"Tomorrow Night",insertText:"Tomorrow "+l.toString(y.default.International.getFormat(f.Z.DFormat.ShortTime)),date:l,showDay:!0},{type:"snooze",icon:"icon-access_time",iconColor:p.Z.colorBlue,text:"This Weekend",insertText:t.toString(y.default.International.getFormat(f.Z.DFormat.NoPadShortDayTime)),date:t,showDay:!0},{type:"snooze",icon:"icon-access_time",iconColor:"#b0d",text:"Next Week",insertText:n.toString(y.default.International.getFormat(f.Z.DFormat.NoPadShortDayTime)),date:n,showDay:!0}]}}},{key:"onCloseButton",value:function(){y.default.menus.closeContextMenu()}},{key:"setText",value:function(e){this.refs.input.setValue(e)}},{key:"onAutocompleteDateChange",value:function(e){this.setText(e),this.refs.input.selectEnd()}},{key:"onChangeDocument",value:function(e){this.selectedDocument.set(b.Z.getDocumentById(e))}},{key:"renderRightContent",value:function(){var e=this.state;if(e.matches.length>0&&e.selectedIndex>=0){var t,n=e.matches[e.selectedIndex];if("contact"===(null===n||void 0===n?void 0:n.type)&&(t=(0,P.jsx)(C.Z,{contact:n})),t)return(0,P.jsx)("div",{className:"newAutocompleteRightContent c-border",children:t})}}},{key:"renderObject",value:function(e,t){var n;switch(e.type){case"header":return(0,P.jsx)("span",{className:"autocompleteHeader",children:e.text});case"contact":if(e.text&&e.email){n=this.insertHighlight(e.text);var r=this.insertHighlight(" <"+e.email+">");return(0,P.jsxs)("span",{children:[(0,P.jsx)("span",{className:"contact t-contact",children:n}),r]})}if(e.email)return e.email;if(e.text)return n=this.insertHighlight(e.text),(0,P.jsx)("span",{className:"contact t-contact",children:n});break;case"tag":return n=this.insertHighlight(e.text),(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("span",{className:"tag t-tag",children:n}),(0,P.jsx)("span",{className:"number c-foreground-faded",children:e.count})]});case"snooze":var a=(e.showDay?e.date.toString("dddd")+" ":"")+e.date.toString("h:mm tt");return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("span",{className:"snoozeDate",children:e.text}),(0,P.jsx)("span",{className:"snoozeDetail",children:a})]});case"item":var o=e.item,i=p.Z.parentTextForItem(o),s=t===this.state.expanded,l=p.Z.classNames("autocompleteItem flexbox leading-normal",{hasParent:!!i},{itemExpanded:s}),c="move"===this.props.mode;return(0,P.jsx)("div",{className:l,children:(0,P.jsxs)("div",{className:"autocompleteItemInside f1",children:[(0,P.jsx)(D.Z,{item:o,displayParents:!0,className:"px-3 py-3",numberOfLines:2},o.id),c&&s&&(0,P.jsx)(x.Z,{ref:"inputAdd",placeholder:"Add subitem",buttonText:"MOVE TO CHILD",focused:!0,onButtonClick:this.onSelectedAddChild,onClick:this.onClickExpandedInput})]})});case"gmailLabel":return n=this.insertHighlight(e.text),(0,P.jsx)("span",{children:n});default:try{p.Z.PAssert(286,!1,"Invalid insert text",e.type)}catch(d){p.Z.reportError(d)}}}},{key:"renderMatch",value:function(e,t){var n=this.state.selectedIndex,r=p.Z.classNames("c-border-light",this.getClassNameForType(e.type),{selected:t===n});return(0,P.jsx)(A.Z,{icon:e.icon,iconColor:e.iconColor,className:r,onMouseMove:"header"!==e.type?this.onMouseMove.bind(this,t):void 0,canClose:!1,noMouseUp:!0,onClick:"header"!==e.type?this.onClick.bind(this,t):void 0,children:this.renderObject(e,t)},t)}},{key:"render",value:function(){var e,t,n=this.state,r=n.matches,a=n.selectedIndex,o=n.expanded,i=n.selectedDocument,s=this.props,l=_.Z.isSearchingItems,c=s.text,d=s.buttonText;this.hasOwnInput()&&(t=!!s.allowEmpty||(s.allowCustom?void 0:a>=0));var u,h=p.Z.classNames("newAutocomplete flexbox",s.className,{flexvert:this.hasOwnInput()},{hasOwnInput:this.hasOwnInput()},{expanded:-1!==o});if(this.hasOwnInput()){var f=s.documentSelector&&i.getRootItem()||s.item||s.items&&s.items[0];u=(0,P.jsxs)("div",{className:"newAutocompleteTopBar c-border-heavy",children:[s.documentSelector&&(0,P.jsxs)("div",{className:"flexbox",style:{padding:8},children:[(0,P.jsx)("div",{style:{paddingRight:16},children:"Document:"}),(0,P.jsx)(j.Z,{className:"f1",defaultValue:i.id,onChange:this.onChangeDocument,children:b.Z.getDocumentsArray().map((function(e){return(0,P.jsx)("option",{value:e.id,children:e.text.get()},e.id)}))})]}),(0,P.jsx)(x.Z,{ref:"input",display:"block",className:"f1",placeholder:c,autocompleteMode:s.mode,padding:{left:16,right:16},tokens:s.tokens,onTokenRemoved:s.onTokenRemoved,border:!1,buttonText:d,onEscape:this.onEscapeKey,buttonEnabled:t,onButtonClick:this.onButtonClick,autocompleteItem:f})]})}var g=(0,P.jsx)(Z.Z,{className:"h-full autocompleteMatches f1",items:r,renderItem:this.renderMatch,defaultItemSize:"item"===(null===r||void 0===r||null===(e=r[0])||void 0===e?void 0:e.type)?46:28,ref:this.refVirtualList,data:a}),y=Math.min(p.Z.sum(r.map((function(e){return"item"===e.type?80:28})))+(this.hasOwnInput()?100:0),600);return s.onlyMatches?g:(0,P.jsxs)(v.Z,{className:h,id:s.id,element:s.elementDisplay,width:l?480:void 0,maxWidth:"none",positionOffset:s.positionOffset,height:y,overflowHeight:"swap",ref:"contextMenu",children:[u,g,l&&0===r.length&&(0,P.jsx)("div",{className:"absolute inset-0 p-4",children:"Start typing to find items..."}),this.renderRightContent(),"move"===s.mode&&(0,P.jsx)(E.G,{elements:m.Z.StatusBarElementsDropItems})]})}}]),n}(w.a)},31838:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(86557),a=(n(19955),n(5093)),o=n(27134),i=n(45989);const s=(0,o.Z)((function(e){var t=e.contact,n=function(e){return function(t){a.default.menus.closeContextMenu(),a.default.openUrl(e.link,t,!0)}},o=function(e){return function(t){var n=a.default.pluginManager.getPluginGmail();if(n.isActive()&&n.isEnabled()&&!r.Z.demo){a.default.menus.closeContextMenu();var o={to:[{text:"",email:e.address}]};a.default.menus.openComposeEmail(n,{initData:o})}else a.default.openUrl(e.link,t,!0)}};return(0,i.jsxs)("div",{className:"contactPreview",children:[(0,i.jsx)("div",{className:"contactName c-border",children:t.text}),t.phoneNumbers&&t.phoneNumbers.map((function(e){return(0,i.jsxs)("div",{className:"contactRow contactPhone",children:[(0,i.jsx)("i",{className:"contactButton icon-phone c-foreground-super-faded"}),(0,i.jsx)("span",{className:"contactNumber link",onClick:n(e),children:e.number}),(0,i.jsx)("span",{className:"phoneType c-foreground-faded",children:e.type})]},e.number)})),t.emails&&t.emails.map((function(e){return(0,i.jsxs)("div",{className:"contactRow contactEmail",children:[(0,i.jsx)("i",{className:"icon-mail_outline contactButton c-foreground-super-faded"}),(0,i.jsx)("span",{className:"contactEmail link",onClick:o(e),children:e.address})]},e.address)}))]})}))},6412:(e,t,n)=>{n.r(t),n.d(t,{default:()=>_});var r=n(34575),a=n.n(r),o=n(93913),i=n.n(o),s=n(2205),l=n.n(s),c=n(78585),d=n.n(c),u=n(29754),h=n.n(u),f=(n(19955),n(5093)),p=n(12402),m=n(16804),g=n(57015),y=n(25859),v=n(1465),A=n(36385),x=n(45989);function C(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d()(this,n)}}const _=function(e){l()(n,e);var t=C(n);function n(){return a()(this,n),t.apply(this,arguments)}return i()(n,[{key:"init",value:function(){this.createObservables({anyCalendarsSync:this.computeAnyCalendarsSync()})}},{key:"getState",value:function(){var e=this.props.pane;return{displayCalendars:e.displayCalendars,displayLocalItems:e.displayLocalItems}}},{key:"getSyncCalendars",value:function(){return f.default.pluginManager.getPluginGCalendar().getImportCalendarList()}},{key:"computeAnyCalendarsSync",value:function(){for(var e=0,t=this.props.pane.displayCalendars.get(),n=this.getSyncCalendars(),r=0,a=0;a<n.length;a++){if(e++>5e3&&__infLoop&&__infLoop(e))throw new RangeError;!1!==t[n[a].id]&&r++}return r>0}},{key:"onChangeDisplayCalendar",value:function(e,t){var n=this.props.pane;n.setDisplayCalendar(e,t),n.saveState(),this.anyCalendarsSync.set(this.computeAnyCalendarsSync())}},{key:"onChangeDisplayLocal",value:function(e){this.props.pane.setDisplayLocal(e)}},{key:"onChangeAllCalendars",value:function(e){var t=0,n=this.props.pane,r=this.getSyncCalendars(),a=this.state.displayCalendars;f.default.PaneUpdateBatcher.beginUpdateItems();for(var o=0;o<r.length;o++){if(t++>5e3&&__infLoop&&__infLoop(t))throw new RangeError;var i=r[o];a[i.id]!==e&&n.setDisplayCalendar(i,e)}n.saveState(),f.default.PaneUpdateBatcher.commitUpdateItems()}},{key:"onClickAdd",value:function(){f.default.menus.closeContextMenu(),f.default.menus.openSettings("Calendar")}},{key:"onClickSettings",value:function(){f.default.menus.closeContextMenu(),f.default.menus.openSettings("Calendar")}},{key:"render",value:function(){var e=this,t=this.state,n=this.props,r=f.default.pluginManager.getPluginGCalendar(),a=r.isEnabled(),o=this.getSyncCalendars(),i=t.displayCalendars;return(0,x.jsxs)(g.Z,{id:"contextMenuSelectCalendars",element:n.element,children:[(0,x.jsx)(v.Z,{children:(0,x.jsx)(m.Z,{checked:t.displayLocalItems,onChange:this.onChangeDisplayLocal,children:"Display local events"})}),a&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(y.Z,{children:(0,x.jsx)(m.Z,{checked:t.anyCalendarsSync,onChange:this.onChangeAllCalendars,size:14,children:"Google Calendars"})}),o&&o.map((function(t){var n=r.getCalendarBackgroundColor(t.id);return(0,x.jsx)(v.Z,{children:(0,x.jsx)(m.Z,{checked:!1!==i[t.id],checkedColor:n,onChange:e.onChangeDisplayCalendar.bind(e,t),children:t.summary||t.id})},t.id)})),(!o||0===o.length)&&(0,x.jsx)("div",{className:"center",style:{marginTop:8},children:(0,x.jsx)(p.Z,{raised:!0,primary:!0,onClick:this.onClickAdd,children:"ADD CALENDARS"})})]}),!a&&(0,x.jsx)("div",{className:"center",style:{marginTop:24},children:(0,x.jsx)(p.Z,{raised:!0,primary:!0,onClick:this.onClickSettings,children:"ENABLE CALENDARS"})})]},"contextMenuSelectCalendars")}}]),n}(A.a)},69137:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});n(19955);var r=n(31838),a=n(57015),o=n(27134),i=n(45989);const s=(0,o.Z)((function(e){var t=e.contact,n=e.element;return(0,i.jsx)(a.Z,{id:"contextMenuContactDetails",element:n,children:(0,i.jsx)(r.Z,{contact:t})},"contextMenuContactDetails")}))},18887:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ue});var r=n(59713),a=n.n(r),o=n(6479),i=n.n(o),s=n(5093),l=n(19955),c=n(27134),d=n(57015),u=n(48926),h=n.n(u),f=n(63038),p=n.n(f),m=n(87757),g=n.n(m),y=n(22060),v=n(11780),A=n(7151),x=(n(65880),n(59942)),C=n(17208),_=n(72581),b=n(14198),k=n(68805),w=n(16804),E=n(86986),j=n(86557),D=n(45989),Z=["onChange"];function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=0,n=1;n<arguments.length;n++){if(t++>5e3&&__infLoop&&__infLoop(t))throw new RangeError;var r=null!=arguments[n]?arguments[n]:{};n%2?P(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const M=(0,c.Z)((function(e){var t=e.onChange,n=i()(e,Z),r=(0,l.useRef)(),a=(0,l.useCallback)((function(e){return 0===e.length||!!s.default.parseDate(e)}),[]),o=(0,l.useCallback)((function(e){r.current=s.default.parseDate(e),j.Z.isiOS||t(r.current)}),[t]),c=(0,l.useCallback)((function(){0}),[t]);return(0,D.jsx)(E.Z,B(B({},n),{},{onChange:o,onBlur:c,validator:a,type:void 0,noUpdateValueWhileFocused:!0}))}));var N=["onChange","value"];function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=0,n=1;n<arguments.length;n++){if(t++>5e3&&__infLoop&&__infLoop(t))throw new RangeError;var r=null!=arguments[n]?arguments[n]:{};n%2?O(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var I=/^(1[0-2]|0?[1-9])(?:[:.]?([0-5]?[0-9]))?(\u25cf?[AP]M)?$/,T=/^(2[0-3]|[01]?[0-9])(?:[:.]?([0-5]?[0-9]))?$/;const L=(0,c.Z)((function(e){var t,n=e.onChange,r=e.value,a=i()(e,N),o=(0,l.useRef)(),s=(0,l.useCallback)((function(e){var t=e.toUpperCase();return 0===e.length||!(!t.match(I)&&!t.match(T))}),[]),c=(0,l.useCallback)((function(e){var t;if(e.length>0){var r=e.toUpperCase(),a=r.match(I)||r.match(T);if(a){var i=function(e){var t=+e[1],n=+e[2]||0;return 12===t&&"AM"===e[3]?t=0:12!==t&&"PM"===e[3]&&(t+=12),{hours:t,minutes:n}}(a),s=i.hours,l=i.minutes;t={hours:s,minutes:l,ms:0===s&&0===l?1:0}}}o.current=t,j.Z.isiOS||n(t)}),[n]),d=(0,l.useCallback)((function(){0}),[n]);null===(t=r)||void 0===t||t.toUpperCase().match(I);return(0,D.jsx)(E.Z,S(S({},a),{},{value:r,onChange:c,validator:s,noUpdateValueWhileFocused:!0,type:void 0,onBlur:d}))}));var R=n(65981),F=(n(97850),n(72135),y.Z.Mobile.TopBarHeight,n(13687)),U=n(93379),W=n.n(U),Y=n(7795),H=n.n(Y),z=n(90569),V=n.n(z),G=n(3565),K=n.n(G),q=n(19216),Q=n.n(q),X=n(44589),J=n.n(X),$=n(52005),ee={};ee.styleTagTransform=J(),ee.setAttributes=K(),ee.insert=V().bind(null,"head"),ee.domAPI=H(),ee.insertStyleElement=Q();W()($.Z,ee);$.Z&&$.Z.locals&&$.Z.locals;var te,ne=n(78966),re={weekends:{daysOfWeek:[0,6]},all:{daysOfWeek:[0,1,2,3,4,5,6]}};const ae=(0,c.Z)((function(e){var t=e.refMooDate,n=e.onDoubleClick,r=e.onChange,a=(0,ne.Z)(s.default.settings.dayWeekStart),o=p()(a,1)[0],i=(0,l.useRef)({day:void 0,time:0}),c=(0,C.Z)(),d=t.current,u=null===d||void 0===d?void 0:d.getStart(),h=null===d||void 0===d?void 0:d.getEnd(),f=(null===d||void 0===d?void 0:d.isRepeatDate())&&!(null!==d&&void 0!==d&&d.isRange()),m=Object.assign({from:u,to:h},re),g=f?null===d||void 0===d?void 0:d.getAllDates():[u,{from:u,to:h}],v=(0,l.useCallback)((function(e){var n=t.current;e.clearTime(),te=e,n?n.setDate(e):n=t.current=new _.Z(e),c(),r()}),[]),A=(0,l.useCallback)((function(e,n,a){var o=t.current;if(1===a.buttons&&o){var i;e.clearTime();var s=null!==(i=te)&&void 0!==i&&i.isBefore(e)?[te,e]:[e,te],l=p()(s,2),d=l[0],u=l[1];if(x.Z.isSameDay(d,u))o.setDate(d);else{var h=null===o||void 0===o?void 0:o.getTime(),f=h?h/y.Z.MSPerHour:0;o.setRange(d,u,f)}c(),r()}}),[]),b=(0,l.useCallback)((function(e){var t=Date.now();i.current.day===e&&t-i.current.time<500?(i.current=null,n()):i.current={day:e,time:t}}),[]),k=f?"":"DatePickerRange";return(0,D.jsx)("div",{className:"flex justify-center",style:{lineHeight:"normal"},children:(0,D.jsx)(F.ZP,{className:k,showOutsideDays:!0,modifiers:m,modifiersStyles:undefined,selectedDays:g,firstDayOfWeek:o,onDayMouseDown:v,onDayMouseEnter:A,onDayClick:b})})}));var oe=[{id:"none",value:"No repeat"},{id:"daily",value:"Daily"},{id:"weekly",value:"Weekly"},{id:"weekdays",value:"Weekdays"},{id:"monthly",value:"Monthly"},{id:"yearly",value:"Yearly"}],ie=32;const se=(0,c.Z)((function(e){var t,n,r,a,o,i,c=e.item,d=e.paneObject,u=e.textOffset,f=e.focused,m=e.onUnmount,j=e.close,Z=(0,l.useRef)(!1),P=(0,l.useRef)(null===(t=c.getMooDate())||void 0===t?void 0:t.clone()),B=(0,l.useRef)(),N=(0,l.useRef)(),O=(0,l.useState)(null===(n=P.current)||void 0===n?void 0:n.toText()),S=p()(O,2),I=S[0],T=S[1],F=(0,b.Z)(null===(r=P.current)||void 0===r?void 0:r.repeatComplete),U=p()(F,1)[0],W=(0,C.Z)(),Y=s.default.pluginManager.getPluginGCalendar(),H=c.hasPluginAttachment(y.Z.PluginID.GCalendar),z=Y.getWriteableCalendarsForItem(c),V=z.calendars,G=z.selected;!v.Z.isDemoMode()&&!P.current&&Y.isEnabled()&&Y.getSetting("syncPopup")&&(B.current=Y.getDefaultExportCalendarID()),void 0!==B.current&&(G=B.current);var K,q="",Q="",X="",J="";if(P.current){var $=P.current;o=$.getStart(),i=$.getEnd();var ee,te=$.getRRuleOptions(),ne=te&&function(e){var t=e.interval,n=e.freq,r=e.byweekday;return n===A.Di.DAILY&&1===t?"daily":n===A.Di.WEEKLY&&r&&r.length>1?"weekdays":n===A.Di.WEEKLY&&1===t?"weekly":n===A.Di.MONTHLY&&1===t?"monthly":n===A.Di.YEARLY&&1===t?"yearly":"Custom"}(te);if(ne)K=(null===(ee=oe.find((function(e){return e.id===ne})))||void 0===ee?void 0:ee.value)||"Custom";var re=$.isRange(),se=$.isRepeatDate()&&!re;q=o.toString("yyyy-MM-dd")||"",Q=o.hasTimeOfDay()?x.Z.getTimeText(o):"",X=re||$.hasUntil()||$.getDuration()&&!se?i.toString("yyyy-MM-dd"):"",J=o.hasTimeOfDay()&&i.hasTimeOfDay()?x.Z.getTimeText(i):""}(0,l.useEffect)((function(){return s.default.onIntroAction("Date"),function(){if(c){var e=P.current,t=d?d.getDisplayText():c.getDisplayText({showMarkdown:!1});e&&e.setRepeatOnComplete(U.get()),c.setMooDate(e,y.Z.ChangeType.Local,["repeatComplete"].concat(null!==e&&void 0!==e&&e.duration?["duration"]:[]));var n=d||{item:c,showMarkdown:function(){return s.default.settings.showMarkdown.get()}};if(e&&c.getRawText().indexOf(y.Z.CharDate)<0){void 0===u&&(u=t.length);var r=u,a=0,o="";t[u-1]&&t[u-1]!==y.Z.PrefixDate&&" "!==t[r]&&(o=" "),t[u-1]===y.Z.PrefixDate&&(r--,a++);var i=c.elsNew.spliceText(o+y.Z.CharDate+" ",r,a,n);i[u-1]===y.Z.PrefixDate&&(i=v.Z.stringRemove(i,r-1,1)),c.setText(i,y.Z.ChangeType.Local)}else if(Z.current&&u&&!e&&t[u-1]===y.Z.PrefixDate){var l=c.elsNew.spliceText("",u-1,1,n);c.setText(l,y.Z.ChangeType.Local)}if(e){var h=B.current;if(void 0!==h)s.default.pluginManager.getPluginGCalendar().setCalendarForItem(c,h)}}null===m||void 0===m||m()}}),[]);var le,ce=(0,l.useCallback)((function(){var e;Z.current=!0,T((null===(e=P.current)||void 0===e?void 0:e.toText())||""),W()}),[]),de=(0,l.useCallback)((function(){ce()}),[]),ue=(0,l.useCallback)((function(){j()}),[]),he=(0,l.useCallback)((function(e){Z.current=!0,P.current=e?x.Z.parseText(e):void 0,T(e),W()}),[]),fe=(0,l.useCallback)((function(e){P.current||(P.current=new _.Z(e)),P.current.setDate(e),ce()}),[]),pe=(0,l.useCallback)((function(e){P.current||(P.current=new _.Z(Date.today()));var t=P.current;if(e){var n=e.hours,r=e.minutes;t.setHours(n+r/60),0===t.getDuration()&&t.setDuration(y.Z.MSPerHour)}else t.clearTime();ce()}),[]),me=(0,l.useCallback)((function(e){P.current||(P.current=new _.Z(Date.today()));var t=P.current;if(e)if(t.isSingleDate()){var n=t.getEnd();e.setHours(n.getHours(),n.getMinutes(),0,n.getMilliseconds());var r=+e-+t.getDate();r>0&&t.setDuration(r)}else t.setUntil(e);else t.clearTime(),t.setDuration(0);ce()}),[]),ge=(0,l.useCallback)((function(e){P.current||(P.current=new _.Z(new Date));var t=P.current;if(e){var n=e.hours,r=e.minutes,a=e.ms,o=t.getStart(),i=(t.isSingleDate()?t.getEnd():t.getStart()).clone();i.setHours(n,r,0,a);var s=+i-+o;t.setDuration(s)}ce()}),[]),ye=(0,l.useCallback)(function(){var e=h()(g().mark((function e(t){var n,r,a,o;return g().wrap((function(e){for(var i=0;;){if(i++>5e3&&__infLoop&&__infLoop(i))throw new RangeError;switch(e.prev=e.next){case 0:if(!(n=P.current)){e.next=9;break}return e.next=4,s.default.menus.openContextMenuList("Repeat",t.target,oe);case 4:r=e.sent,a=n.getStart(),"daily"===r?o={freq:A.Ci.DAILY,interval:1}:"weekdays"===r?o={freq:A.Ci.WEEKLY,interval:1,byweekday:[0,1,2,3,4].map((function(e){return new A.OG(e,void 0)}))}:"weekly"===r?o={freq:A.Ci.WEEKLY,interval:1}:"monthly"===r?o={freq:A.Ci.MONTHLY,interval:1}:"yearly"===r?o={freq:A.Ci.YEARLY,interval:1}:"none"===r&&n.setDate(a),o&&(o.byweekday||(o.byweekday=null),o=Object.assign({dtstart:x.Z.toUTCDate(a.clearTime())},o),n.updateRRuleOptions(o)),ce();case 9:case"end":return e.stop()}}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),ve=(0,l.useCallback)(function(){var e=h()(g().mark((function e(t){var n,r;return g().wrap((function(e){for(var a=0;;){if(a++>5e3&&__infLoop&&__infLoop(a))throw new RangeError;switch(e.prev=e.next){case 0:if(n=(G?[{id:null,value:"Remove from Calendar"}]:[]).concat(V.map((function(e){return{id:e.id,value:e.summary}}))),!K){e.next=5;break}s.default.toasts.pushMessage("Syncing repeat dates with Google Calendar is not currently supported"),e.next=16;break;case 5:e.next=11;break;case 8:r=e.sent,e.next=14;break;case 11:return e.next=13,s.default.menus.openContextMenuList("Select a calendar",t.target,n);case 13:r=e.sent;case 14:B.current=r,W();case 16:case"end":return e.stop()}}}),e)})));return function(t){return e.apply(this,arguments)}}(),[G,K,V,W]),Ae=(0,l.useCallback)((function(){P.current=void 0,ce()}),[]),xe=G?(null===V||void 0===V||null===(a=V.find((function(e){return e.id===G})))||void 0===a?void 0:a.summary)||G:"".concat(H?"Remove from":"Add to"," calendar"),Ce=K||"Repeat",_e=(0,D.jsx)(E.Z,{placeholder:"Type or select a date",className:"flex-1",border:!1,value:I,onChange:he,focused:f,height:void 0,buttonText:"Clear",onButtonClick:Ae,buttonEnabled:!!I,onEnter:j,ref:N});return le=(0,D.jsx)("div",{children:_e}),(0,D.jsxs)("div",{className:"flex flex-col c-foreground",children:[le,(0,D.jsxs)("div",{children:[(0,D.jsxs)("div",{className:"flex items-center px-2 pt-2 border-t c-border",children:[(0,D.jsx)("div",{className:"pr-3 c-foreground-light",style:{width:52},children:"Starts:"}),(0,D.jsx)(R.J,{name:"MdToday",size:18,className:"c-foreground-light"}),(0,D.jsx)(M,{placeholder:"Start date",value:q,height:ie,width:160,className:"ml-2",onChange:fe}),(0,D.jsx)(L,{placeholder:"Start time",border:!0,value:Q,height:ie,width:140,className:"ml-2",onChange:pe})]}),(0,D.jsxs)("div",{className:"flex items-center px-2 pt-2",children:[(0,D.jsx)("div",{className:"pr-3 c-foreground-light",style:{width:52},children:"Ends:"}),(0,D.jsx)(R.J,{name:"IoMdCalendar",size:18,className:"c-foreground-light"}),(0,D.jsx)(M,{placeholder:"End date",value:X,height:ie,width:160,className:"ml-2",onChange:me}),(0,D.jsx)(L,{placeholder:"End time",border:!0,value:J,height:ie,width:140,className:"ml-2",onChange:ge})]}),(null===V||void 0===V?void 0:V.length)>0&&(0,D.jsx)("div",{className:"flex items-center px-2 pt-2",children:(0,D.jsx)(k.Z,{mode:"outlined",padding:"px-3",icon:"IoIosCalendar",iconSize:18,text:xe,height:ie,align:"left",onMouseDown:ve})}),(0,D.jsxs)("div",{className:"flex items-center px-2 pt-2",children:[(v.Z.isDemoMode()||!G)&&(0,D.jsx)(k.Z,{mode:"outlined",padding:"px-3",icon:"IoIosRepeat",iconSize:18,text:Ce,height:ie,align:"left",onMouseDown:ye,disabled:!P.current}),(!v.Z.isDemoMode()||K)&&(0,D.jsx)(w.Z,{className:"ml-3",checkedObservable:U,disabled:!K,children:"Repeat from complete"})]}),(0,D.jsx)(ae,{data:I,refMooDate:P,onChange:de,onDoubleClick:ue})]})]})}));var le=["id","item","paneObject","textOffset","onUnmount"];function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function de(e){for(var t=0,n=1;n<arguments.length;n++){if(t++>5e3&&__infLoop&&__infLoop(t))throw new RangeError;var r=null!=arguments[n]?arguments[n]:{};n%2?ce(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ce(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const ue=(0,c.Z)((function(e){var t=e.id,n=e.item,r=e.paneObject,a=e.textOffset,o=e.onUnmount,l=i()(e,le);return(0,D.jsx)(d.Z,de(de({},l),{},{id:t,width:400,maxHeight:800,padding:"0",focusTrap:!0,children:(0,D.jsx)(se,{item:n,paneObject:r,textOffset:a,onUnmount:o,close:function(){s.default.menus.closeContextMenu(t)},focused:!0})}))}))},5999:(e,t,n)=>{n.r(t),n.d(t,{default:()=>A});var r=n(34575),a=n.n(r),o=n(93913),i=n.n(o),s=n(2205),l=n.n(s),c=n(78585),d=n.n(c),u=n(29754),h=n.n(u),f=(n(19955),n(36385)),p=n(12402),m=n(57015),g=n(86986),y=n(45989);function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d()(this,n)}}const A=function(e){l()(n,e);var t=v(n);function n(){return a()(this,n),t.apply(this,arguments)}return i()(n,[{key:"init",value:function(){}},{key:"onClickSavePassword",value:function(){this.refs.pass1.getValue(),this.refs.pass2.getValue()}},{key:"render",value:function(){var e=this.props,t={marginTop:8,width:240};return(0,y.jsxs)(m.Z,{id:"contextMenuDocumentPassword",className:"padded",element:e.element,focusTrap:!0,children:[(0,y.jsx)("div",{className:"bold",children:"Enter a password"}),(0,y.jsxs)("div",{children:[(0,y.jsx)(g.Z,{type:"password",placeholder:"Password",ref:"pass1",style:t,onEnter:this.onClickSavePassword}),(0,y.jsx)(g.Z,{type:"password",placeholder:"Confirm Password",ref:"pass2",style:t,onEnter:this.onClickSavePassword})]}),(0,y.jsx)("div",{style:{marginTop:8},children:(0,y.jsx)(p.Z,{raised:!0,primary:!0,onClick:this.onClickSavePassword,children:"Save"})})]},"contextMenuDocumentPassword")}}]),n}(f.a)},70691:(e,t,n)=>{n.r(t),n.d(t,{default:()=>k});var r=n(59713),a=n.n(r),o=n(63038),i=n.n(o),s=n(6479),l=n.n(s),c=n(30146),d=n(22060),u=n(11780),h=n(19955),f=n(65359),p=n(5093),m=n(57015),g=n(86986),y=n(27134),v=n(78966),A=n(68805),x=n(45989),C=["item","pane","itemParent","paneObject","insertIndex","image"];function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=0,n=1;n<arguments.length;n++){if(t++>5e3&&__infLoop&&__infLoop(t))throw new RangeError;var r=null!=arguments[n]?arguments[n]:{};n%2?_(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const k=(0,y.Z)((function(e){var t=e.item,n=e.pane,r=e.itemParent,a=e.paneObject,o=e.insertIndex,s=e.image,y=l()(e,C),_=(0,h.useRef)(),k=(0,h.useRef)(),w=(0,h.useRef)(),E=(0,h.useState)(!1),j=i()(E,2),D=j[0],Z=j[1],P=p.default.pluginManager.getPlugin(d.Z.PluginID.Drive).isEnabled(),B=c.Z.hasError(),M=(0,v.Z)(c.Z.erroredAuthTokens,p.default.settings.syncAccounts),N=i()(M,2),O=N[0],S=N[1],I=!u.Z.isEmpty(S),T=function(e){for(var t=0,r=p.default.pluginManager.getPluginDrive(),a=0;a<e.length;a++){if(t++>5e3&&__infLoop&&__infLoop(t))throw new RangeError;r.handleDropFile(e[a],n,{target:_.current.getElement()},L(0===a))}_.current.close()},L=function(e){return function(i){var s=isNaN(o)?a.index+1:o;if(e&&t)t.setText(i,d.Z.ChangeType.Local);else{var l=r||t.parent(),c=n.createVMLI({text:i},{parent:l,changeType:d.Z.ChangeType.AllLocal});l.insertItem(c,s)}return t}},R=function(){_.current.close(),p.default.menus.openSettings("Files")},F=u.Z.classNames("uploadDropZone",{"hovered c-bg-light":D}),U=s?"image":"file";return(0,h.createElement)(m.Z,b(b({},y),{},{key:"contextMenuDropZone",id:"contextMenuDropZone",name:"ReactContextMenuDropZone",ref:_,focusTrap:!0}),s&&(0,x.jsx)(g.Z,{focused:!0,placeholder:"Enter an image address",height:32,buttonText:"ADD",onButtonClick:function(){_.current.close();var e=w.current.getValue();if(n.setIgnoreRestoreScroll(),t)f.Z.selectIndex(a.index,0,0),t.onInsertLink({href:e},p.default.settings.showImagesInline.get());else{var i=r,s=n.createVMLI({text:p.default.settings.getDefaultItemText()},{parent:i,changeType:d.Z.ChangeType.AllLocal});i.insertItem(s,o),f.Z.selectIndex(o,s.getParsedText().length),s.onInsertLink({href:e},p.default.settings.showImagesInline.get())}},ref:w}),s&&(0,x.jsx)("div",{className:"dropOr center c-foreground-faded",children:"or"}),I&&P?P&&!B?(0,x.jsxs)("div",{className:F,onClick:function(){k.current.click()},onDragEnter:function(){Z(!0)},onDragLeave:function(){Z(!1)},onDrop:function(e){var t=e.dataTransfer;t.files&&t.files.length>0&&T(t.files)},children:[(D?"Drop file(s)":"Drag files here or click")+" to add "+U+".",(0,x.jsx)("input",{type:"file",ref:k,className:"hidden",multiple:!0,onChange:function(e){return e.target.files&&e.target.files.length>0&&T(e.target.files),!1}})]}):B?(0,x.jsxs)("div",{className:"leading-normal whitespace-pre-wrap",children:["Error syncing with Drive account: ",Object.keys(O)[0],". Please fix sync before uploading.",(0,x.jsx)("div",{className:"pt-4 text-center",children:(0,x.jsx)(A.Z,{newStyle:!0,primary:!0,mode:"contained",text:"FIX SYNC",onClick:function(){c.Z.fixAuth(Object.keys(O)[0]),p.default.menus.closeContextMenu("ReactContextMenuDropZone")}})})]}):(0,x.jsx)("div",{className:F,onClick:R,children:"Enable the Google Drive plugin to upload files"}):(0,x.jsxs)("div",{className:"leading-normal whitespace-pre-wrap",children:["Uploading files and images uses Google Drive. Please add a sync account with Drive in the settings.",(0,x.jsx)("div",{className:"pt-4 text-center",children:(0,x.jsx)(A.Z,{newStyle:!0,primary:!0,mode:"contained",text:"ENABLE",onClick:R})})]}))}))},97481:(e,t,n)=>{n.r(t),n.d(t,{default:()=>A});var r=n(34575),a=n.n(r),o=n(93913),i=n.n(o),s=n(2205),l=n.n(s),c=n(78585),d=n.n(c),u=n(29754),h=n.n(u),f=n(22060),p=(n(19955),n(36385)),m=n(5093),g=n(57015),y=n(45989);function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d()(this,n)}}const A=function(e){l()(n,e);var t=v(n);function n(){return a()(this,n),t.apply(this,arguments)}return i()(n,[{key:"_generateParticipantTextExpanded",value:function(e){return e.text?(0,y.jsxs)("span",{children:[(0,y.jsx)("b",{children:e.text})," <"+e.email+">"]}):e.email}},{key:"renderLabels",value:function(){for(var e=0,t=m.default.pluginManager.getPluginGmail(),n=this.props.accountID,r=this.props.message.labelIds,a=[],o=0;o<r.length;o++){if(e++>5e3&&__infLoop&&__infLoop(e))throw new RangeError;var i=t._getLabelByID(n,r[o]);a.push((0,y.jsx)("div",{children:i.getName()},o))}return this.renderLine("labels",a)}},{key:"renderParticipants",value:function(e){var t=this,n=this.props.message[e].map((function(e,n){return(0,y.jsx)("div",{children:t._generateParticipantTextExpanded(e)},n)}));return this.renderLine(e,n)}},{key:"renderLine",value:function(e,t){return(0,y.jsxs)("div",{className:"emailDetailsLine flexbox",children:[(0,y.jsx)("div",{children:e+":"}),(0,y.jsx)("span",{className:"f1",children:t})]})}},{key:"render",value:function(){var e=this.props.message,t=e.date,n=t.toString(m.default.International.getFormat(f.Z.DFormat.DayMonthDateYear))+" at "+t.toString(m.default.International.getFormat(f.Z.DFormat.ShortTime));return(0,y.jsxs)(g.Z,{id:"contextMenuEmailDetails",element:this.props.element,children:[this.renderLine("from",this._generateParticipantTextExpanded(e.from)),e.to&&this.renderParticipants("to"),e.cc&&this.renderParticipants("cc"),e.bcc&&this.renderParticipants("bcc"),this.renderLine("date",n),this.renderLine("subject",e.subject),e.labelIds&&this.renderLabels()]},"contextMenuEmailDetails")}}]),n}(p.a)},88744:(e,t,n)=>{n.r(t),n.d(t,{default:()=>c});var r=n(22060),a=(n(19955),n(57015)),o=n(1465),i=n(25859),s=n(27134),l=n(45989);const c=(0,s.Z)((function(e){var t=e.element,n=e.onSelected,s=function(e){n(e)};return(0,l.jsxs)(a.Z,{id:"contextMenuGmailSort",element:t,children:[(0,l.jsx)(i.Z,{children:"Sort by"}),(0,l.jsx)(o.Z,{icon:"icon-access_time",onClick:function(){return s(r.Z.GmailViewMode.Date)},children:r.Z.GmailViewMode.Date}),(0,l.jsx)(o.Z,{icon:"icon-exclamation",onClick:function(){return s(r.Z.GmailViewMode.Priority)},children:r.Z.GmailViewMode.Priority})]},"contextMenuGmailSort")}))},23993:(e,t,n)=>{n.r(t),n.d(t,{default:()=>l});n(19955);var r=n(57015),a=n(49898),o=n(27134),i=n(1465),s=n(45989);const l=(0,o.Z)((function(e){var t,n=e.pane,o=e.element,l="Saved"===(null===(t=n.zoomedItem.get())||void 0===t?void 0:t.accountID),c=a.Z.getSelectedItems(n),d=!0,u=!0,h=!0,f=!0,p=!0;c.forEach((function(e){d=d&&e.isRead.get(),u=u&&e.isStarred.get(),h=h&&!e.labels.includes("inbox"),f=f&&e.labels.includes("trash"),p=p&&"g"===e.service}));return(0,s.jsxs)(r.Z,{element:o,children:[(0,s.jsx)(i.Z,{icon:"icon-align-left",hotkey:{name:"CopyToItem",group:"Email"},onClick:function(){n.autocompleteCopy()},children:"Copy to Item"}),(0,s.jsx)(i.Z,{icon:"icon-add",hotkey:{name:"CopyToNewItem",group:"Email"},onClick:function(){n.autocompleteCreateTask()},children:"Copy to New Item"}),(0,s.jsx)("hr",{}),!l&&(0,s.jsx)(i.Z,{icon:"icon-star",hotkey:{name:"Star",group:"Email"},onClick:function(){n.doMultiselectAction("Star")},children:u?"Unstar":"Star"}),(0,s.jsx)(i.Z,{icon:d?"icon-unread":"icon-drafts",iconSize:14,hotkey:{name:d?"MarkUnread":"MarkRead",group:"Email"},onClick:function(){n.doMultiselectAction(d?"MarkUnread":"MarkRead")},children:d?"Mark as unread":"Mark as read"}),p&&(0,s.jsx)(i.Z,{icon:"icon-gmail",iconSize:14,hotkey:{name:"OpenInGmail",group:"Email"},onClick:function(){n.doMultiselectAction("OpenInGmail")},children:"Open in Gmail"}),(0,s.jsx)("hr",{}),!l&&(0,s.jsx)(i.Z,{disabled:h,icon:"icon-check",iconSize:14,hotkey:{name:"Archive",group:"Email"},onClick:function(){n.doMultiselectAction("Archive")},children:"Archive"}),(0,s.jsx)(i.Z,{disabled:f,icon:"icon-delete",iconSize:14,hotkey:{name:"Delete",group:"Email"},onClick:function(){n.doMultiselectAction("Delete")},children:l?"Remove from Saved":"Delete"})]},"contextMenuInboxItem")}))},57357:(e,t,n)=>{n.r(t),n.d(t,{default:()=>j});var r=n(59713),a=n.n(r),o=n(34575),i=n.n(o),s=n(93913),l=n.n(s),c=n(2205),d=n.n(c),u=n(78585),h=n.n(u),f=n(29754),p=n.n(f),m=n(22060),g=n(19955),y=n(5093),v=n(12402),A=n(57015),x=n(86986),C=n(36385),_=n(86557),b=n(45989);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=0,n=1;n<arguments.length;n++){if(t++>5e3&&__infLoop&&__infLoop(t))throw new RangeError;var r=null!=arguments[n]?arguments[n]:{};n%2?k(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function E(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var a=p()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}const j=function(e){d()(n,e);var t=E(n);function n(){return i()(this,n),t.apply(this,arguments)}return l()(n,[{key:"init",value:function(){var e=this.props,t=e.text,n=e.href;if(n)this.text=t,this.href=n;else{var r=m.Z.Regexp.MDLink,a=new RegExp(/\S{2,}\.[^0-9.\s]{2,}\S*$/);r.lastIndex=0;var o=r.exec(t);o?(this.text=o[2],this.href=o[3]):null===a.exec(t)?this.text=t:this.href=t}this.refText=g.createRef(),this.refLink=g.createRef()}},{key:"getHotkeys",value:function(){return[y.default.hotkeys.create(m.Z.KeyCode.Enter,!0,m.Z.Primary.Either,m.Z.Shift.Either,this.onClick),y.default.hotkeys.create(m.Z.KeyCode.Escape,!0,m.Z.Primary.Either,m.Z.Shift.Either,this.close)]}},{key:"onMount",value:function(){var e;(e=this.href||!this.text?this.refText.current:this.refLink.current).focus(),e.selectAll()}},{key:"close",value:function(){y.default.menus.closeContextMenu("ReactContextMenuInsertLink")}},{key:"onClickRemove",value:function(){var e=this.refText.current.getValue();this.props.onInsertLink({text:e,href:void 0,isUpdate:!0})}},{key:"onClick",value:function(){var e=this.refText.current.getValue(),t=this.refLink.current.getValue();(e||t)&&y.default.menus.isContextMenuOpen("ReactContextMenuInsertLink")&&(t=_.Z.parseTextForFilePath(t),this.close(),this.props.onInsertLink({text:e,href:t,isUpdate:!!this.props.href}))}},{key:"render",value:function(){return(0,g.createElement)(A.Z,w(w({},this.props),{},{key:"contextMenuInsertLink",id:"contextMenuInsertLink",focusTrap:!0}),(0,b.jsxs)("div",{className:"flexbox",children:[(0,b.jsx)("span",{children:"Text"}),(0,b.jsx)(x.Z,{className:"f1",ref:this.refText,height:28,width:300,maxWidth:300,value:this.text||this.href,onEnter:this.onClick,onEscape:this.close})]}),(0,b.jsxs)("div",{className:"flexbox",children:[(0,b.jsx)("span",{children:"URL"}),(0,b.jsx)(x.Z,{className:"f1",ref:this.refLink,height:28,width:300,maxWidth:300,value:this.href,onEnter:this.onClick,onEscape:this.close})]}),(0,b.jsxs)("div",{className:"flexbox",style:{marginTop:16},children:[this.href&&(0,b.jsx)(v.Z,{cancel:!0,height:32,onClick:this.onClickRemove,children:"REMOVE"}),(0,b.jsx)("div",{className:"f1"}),(0,b.jsx)(v.Z,{primary:!0,height:32,onClick:this.onClick,children:this.props.href?"EDIT":"INSERT"})]}))}}]),n}(C.a)},73173:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Z});var r=n(34575),a=n.n(r),o=n(93913),i=n.n(o),s=n(2205),l=n.n(s),c=n(78585),d=n.n(c),u=n(29754),h=n.n(u),f=n(22060),p=n(11780),m=n(86557),g=(n(19955),n(65359)),y=n(5093),v=n(15148),A=n(12402),x=n(57015),C=n(25859),_=n(1465),b=n(59942),k=n(36385),w=n(66935),E=n(28860),j=n(45989);function D(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d()(this,n)}}const Z=function(e){l()(n,e);var t=D(n);function n(){return a()(this,n),t.apply(this,arguments)}return i()(n,[{key:"init",value:function(){var e=this,t=this.props,n=!1;this.mod=m.Z.secModKey,this.priMod=m.Z.priModKey,this.items=[],this.paneObjects=[],y.default.onIntroAction("RightClickItem"),t.pane.applyToSelection((function(r,a,o,i){t.item===r&&(n=!0),e.item||(e.item=r,e.paneObject=i),e.hasSelection=!0,e.items.push(r),e.paneObjects.push(i)})),n||(this.item=void 0,this.hasSelection=!1),this.item||(this.item=t.item,this.paneObject=t.paneObject,this.items=[this.item],this.paneObjects=[this.paneObject],this.hasSelection=!1);try{p.Z.PAssert(287,this.item,"Must have a valid item")}catch(r){p.Z.reportError(r)}}},{key:"forAllItems",value:function(e){y.default.PaneUpdateBatcher.beginUpdateItems(),this.items.forEach(e),y.default.PaneUpdateBatcher.commitUpdateItems()}},{key:"onClickComplete",value:function(){this.hasSelection?p.Z.focusedPane.applyFnToSelection("setComplete",{toggle:"isComplete",value2:f.Z.ChangeType.Local}):this.item.setComplete(!this.item.isComplete(),f.Z.ChangeType.Local)}},{key:"onClickStar",value:function(){this.hasSelection?p.Z.focusedPane.applyFnToSelection("setStarred",{toggle:"isStarred",value2:f.Z.ChangeType.Local}):this.item.setStarred(!this.item.isStarred(),f.Z.ChangeType.Local)}},{key:"onClickPriority",value:function(e){this.hasSelection?this.props.pane.applyPriorityToSelection(e):this.item.setPriority(e,f.Z.ChangeType.Local),y.default.menus.closeContextMenu()}},{key:"onClickIndent",value:function(e){g.Z.fireKeyEvent(void 0,{normCode:f.Z.KeyCode.Tab,shiftKey:e})}},{key:"onClickMove",value:function(){this.props.pane.autocompleteMove()}},{key:"onClickCreateTask",value:function(){this.props.pane.autocompleteCreateTask()}},{key:"onClickNote",value:function(){this.props.pane.openNoteContextMenuByPaneObject(this.props.paneObject)}},{key:"onClickCollapse",value:function(){this.paneObject.toggleCollapsed()}},{key:"onClickZoom",value:function(){var e=this.props,t=e.pane,n=e.paneObject;t.canZoomToItem(this.item)&&(g.Z.setFocusedPane(t),t.zoomIn(this.item,{mirrorsPath:n.getMirrorsPath()}))}},{key:"onClickZoomNewPane",value:function(e){this.clonePane(e)}},{key:"onClickZoomNewOutlinePane",value:function(e){this.clonePane(e,!0)}},{key:"clonePane",value:function(e,t){if(y.default.PaneManager.checkAddingPane(e.target)){var n=this.props.pane,r={item:this.item},a=y.default.PaneManager;t?(r.search=null,a.clonePaneAsOutline(n,r)):a.clonePane(n,r)}}},{key:"onClickHighlight",value:function(){y.default.PaneManager.scrollToAndHighlightItem(this.item,this.props.pane)}},{key:"onClickArchive",value:function(){var e=this.props.pane;e.isWriteable&&(this.hasSelection?e.archiveSelected(!0):this.props.item.archiveSelf(f.Z.ChangeType.Local))}},{key:"onClickUnarchive",value:function(){this.item.unArchive(f.Z.ChangeType.Local)}},{key:"onClickUndelete",value:function(){this.item.unDelete(f.Z.ChangeType.Local)}},{key:"onClickDelete",value:function(){var e=this.item,t=this.props.pane;if(e.isNote())e.parent().setNote(void 0,f.Z.ChangeType.Local),y.default.menus.closeContextMenu(),g.Z.reset();else if(t.isWriteable)if(t.isViewDates()&&!e.hasAttachmentType(f.Z.PluginType.Calendar)&&e.hasChildren()){var n="Remove Date",r="Delete All";y.default.menus.options("The item you are deleting has children.",[n,r],(function(t){if(t===n){e.setMooDate(void 0,f.Z.ChangeType.Local,!0);var a=e.getParsedText().replace(f.Z.CharDate,"");e.setText(a,f.Z.ChangeType.Local)}else t===r&&e.deleteSelf(f.Z.ChangeType.Local)}))}else this.hasSelection?(v.Z.saveDeleteSelection(),t.deleteSelected()):(e.hasAttachmentType(f.Z.PluginType.Calendar)&&this.deleteCalendar(),e.deleteSelf(f.Z.ChangeType.Local))}},{key:"onClickAddCalendar",value:function(){var e=y.default.pluginManager.getPluginGCalendar(),t=this.item;e&&(e.createEventForItem(t),t.itemChanged.notify())}},{key:"onClickAddDate",value:function(){y.default.menus.openDate({element:this.props.element,item:this.item,pane:this.paneObject.pane,paneObject:this.paneObject})}},{key:"onClickRemoveDate",value:function(){this.deleteCalendar(),this.forAllItems((function(e){return e.setMooDate(void 0,f.Z.ChangeType.Local,!0)}))}},{key:"onClickDeleteCalendar",value:function(){var e=0;this.deleteCalendar();for(var t=0;t<this.items.length;t++){if(e++>5e3&&__infLoop&&__infLoop(e))throw new RangeError;var n=this.items[t];n.getDocumentOwner()||n.deleteSelf(f.Z.ChangeType.Local)}}},{key:"deleteCalendar",value:function(){for(var e=0,t=this.props.pane,n=0,r=function(e,r){n--,r?0===n&&t.updateItems():y.default.toasts.pushMessage({text:"There was an error removing the event from your Google Calendar.",action:f.Z.MessageAction.Okay})},a=0;a<this.items.length;a++){if(e++>5e3&&__infLoop&&__infLoop(e))throw new RangeError;var o=this.items[a];if(o.hasAttachmentType(f.Z.PluginType.Calendar)){var i=o.getAttachmentByPlugin(f.Z.PluginID.GCalendar);try{p.Z.PAssert(288,i,"Must be able to get a valid attachment")}catch(l){p.Z.reportError(l)}try{p.Z.PAssert(289,this.item,"Must have a valid item")}catch(l){p.Z.reportError(l)}var s=i.getPlugin();s.hasWritePermissionForAttach(i)?(n++,g.Z.reset(),s.deleteCalendarEventForItem(o,i,p.Z.newEmptyFn(),p.Z.newEmptyFn(),r)):y.default.toasts.pushMessage(f.Z.MessageID.ReadOnlyCalendar)}}}},{key:"onClickReply",value:function(){this.hasSelection?this.props.pane.replySelected():this.props.pane.openEmailByItem(this.item,f.Z.EmailResponseMode.Reply)}},{key:"onClickReplyAll",value:function(){this.hasSelection?this.props.pane.replyAllSelected():this.props.pane.openEmailByItem(this.item,f.Z.EmailResponseMode.ReplyAll)}},{key:"onClickForward",value:function(){this.hasSelection?this.props.pane.forwardSelected():this.props.pane.openEmailByItem(this.item,f.Z.EmailResponseMode.Forward)}},{key:"onClickRead",value:function(){var e=this.item,t=e.getAttachmentByType(f.Z.PluginType.Email),n=t.getPlugin(),r=n.isItemUnread(e);this.hasSelection?this.props.pane.markReadSelected(r):r?n.performAction(f.Z.PluginAction.Gmail.MarkRead,!1,t):n.performAction(f.Z.PluginAction.Gmail.MarkUnread,!1,t)}},{key:"onClickStarGmail",value:function(){if(this.hasSelection)this.props.pane.toggleStarSelected();else{var e=this.item.getAttachmentByType(f.Z.PluginType.Email),t=e.getPlugin();t.isItemStarred(this.item)?t.performAction(f.Z.PluginAction.Gmail.Unstar,!1,e):t.performAction(f.Z.PluginAction.Gmail.Star,!1,e)}}},{key:"onClickLabel",value:function(){this.props.pane.autocompleteLabel()}},{key:"onClickSchedule",value:function(){this.props.pane.autocompleteSchedule({item:this.item,element:this.props.element})}},{key:"onClickArchiveGmail",value:function(){var e=this.item,t=e.getAttachmentByType(f.Z.PluginType.Email),n=t.getPlugin(),r=n.isItemArchived(e);"PaneGmail"===this.props.pane.type&&this.hasSelection?this.props.pane.archiveSelected(!r):r?n.performAction(f.Z.PluginAction.Gmail.Unarchive,!1,t):n.performAction(f.Z.PluginAction.Gmail.Archive,!1,t)}},{key:"onClickDeleteGmail",value:function(){var e=this.item,t=this.props.pane,n=e.getAttachmentByType(f.Z.PluginType.Email).getPlugin(),r=n.isItemFullTrashed(e);t.type===f.Z.PaneMode.Gmail?this.hasSelection?t.deleteSelected({comparator:n.isGmailItem}):n.isGmailItem(e)&&(this.onClickDeleteCalendar(),e.deleteSelf(f.Z.ChangeType.Local)):r?n.undeleteItem(e):n.deleteItem(e)}},{key:"onClickPrefix",value:function(e){g.Z.applyPrefixToSelection(e,!this.hasSelection&&this.item),y.default.menus.closeContextMenu()}},{key:"onClickShowMDImageText",value:function(e){this.props.pane.search.clearStickyMatches();var t=this.item.getRawText(),n=e.substr(1);t=t.replace(e,n),this.item.setText(t,f.Z.ChangeType.Local)}},{key:"onClickShowDriveImageText",value:function(e){this.props.pane.search.clearStickyMatches();var t=this.item,n=t.getAttachmentByPlugin(f.Z.PluginID.Drive);n.getPlugin().setShowInline(t,n,e)}},{key:"onClickMakeLinkImage",value:function(e){var t=0;this.props.pane.search.clearStickyMatches();var n,r,a=this.item.getRawText();for(f.Z.Regexp.MDLink.lastIndex=0;null!==(n=f.Z.Regexp.MDLink.exec(a));){if(t++>5e3&&__infLoop&&__infLoop(t))throw new RangeError;n[3]===e&&(e=n[0],r="!["+n[2]+"]("+n[3]+(n[4]?n[4]:"")+")")}r||(r=e.startsWith("[")?"!"+e:"!["+e+"]("+e+")"),a=a.replace(e,r),this.item.setText(a,f.Z.ChangeType.Local)}},{key:"onViewInDrive",value:function(){var e=this.item,t=e.getAttachmentByPlugin(f.Z.PluginID.Drive);t.getPlugin().openAttach(t,e,this.props.pane)}},{key:"onClickFixSync",value:function(){p.Z.focusedPane.applyToSelection((function(e){var t=e.getDocumentOwner();t.getBacking().saveItem(t,e,e.getFullSaveData(),f.Z.ChangeType.Local,f.Z.SaveFlag.All)}))}},{key:"renderMenuItemMDImage",value:function(e){var t=e.getAttribute("data-original-text");if(t)return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(_.Z,{onClick:this.onClickShowMDImageText.bind(this,t),children:"Show as text"}),(0,j.jsx)("hr",{})]})}},{key:"renderMenuLink",value:function(e){var t=this,n=this.props,r=n.item,a=n.element,o=n.paneObject,i=e.getAttribute("data-text")||e.textContent,s=e.getAttribute("data-href"),l=p.Z.isUrlImage(s);return(0,j.jsxs)(j.Fragment,{children:[l&&(0,j.jsx)(_.Z,{onClick:function(){t.onClickMakeLinkImage(s)},children:"Show Image"}),(0,j.jsx)(_.Z,{onClick:function(){y.default.menus.openContextMenu({componentName:"ReactContextMenuInsertLink",element:a,onInsertLink:r.onInsertLink,text:i,href:s})},children:"Edit link"}),(0,j.jsx)(_.Z,{onClick:function(){var t=E.Z.getChildNodeOffset(e,!0);g.Z.selectIndex(o.index,t),r.onInsertLink({text:i,href:void 0,isUpdate:!0})},children:"Remove link"}),(0,j.jsx)("hr",{})]})}},{key:"renderMenuLinkImage",value:function(e){var t=e.getAttribute("data-original-text")||e.getAttribute("data-href")||e.textContent;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(_.Z,{onClick:this.onClickMakeLinkImage.bind(this,t),children:"Show as image"}),(0,j.jsx)("hr",{})]})}},{key:"renderMenuDate",value:function(){return(0,j.jsx)("span",{children:(0,j.jsx)(_.Z,{icon:"icon-calendar",hotkey:{name:"AddToCalendar"},onClick:this.onClickAddCalendar,children:"Add to Google Calendar"})})}},{key:"renderMenuNote",value:function(){return(0,j.jsxs)("span",{children:[(0,j.jsx)(_.Z,{icon:"icon-edit",hotkey:{name:"EditNote"},onClick:this.onClickNote,children:"Edit"}),(0,j.jsx)(_.Z,{icon:"icon-delete",onClick:this.onClickDelete,clickCloses:!1,children:"Delete"})]})}},{key:"renderMenuDefault",value:function(){var e,t,n,r=this.props.pane,a=this.item,o=this.priMod,i=r.isViewCalendar(),s=!i,l=r.supportIndent&&!a.isNote()&&0!==a.getIndex()&&!r.isViewFlatList(),c=r.supportIndent&&!a.isNote()&&a.parent()!==p.Z.focusedItem&&!r.isViewFlatList(),d=y.default.pluginManager.getPluginGCalendar(),u=!!a.getMooDate(),h=!!a.getDocumentOwner();if(a.getDate()&&(e=(0,j.jsx)(_.Z,{icon:"icon-today",onClick:this.onClickRemoveDate,children:"Remove date"}),d))if(a.hasAttachmentType(f.Z.PluginType.Calendar)){var m=a.getAttachmentByType(f.Z.PluginType.Calendar);t=(0,j.jsx)(_.Z,{icon:"icon-delete",disabled:!d.hasWritePermissionForAttach(m),onClick:this.onClickDeleteCalendar,children:"Remove from Google Calendar"})}else t=(0,j.jsx)(_.Z,{icon:"icon-calendar",hotkey:s&&{name:"AddToCalendar"},onClick:this.onClickAddCalendar,children:"Add to Google Calendar"});if(a.hasAttachmentType(f.Z.PluginType.Email)){var g=a.getAttachmentByType(f.Z.PluginType.Email),v=g.getPlugin();if(g.getPlugin().shouldUseNewEmailPlugin(g)){var x=w.Z.getPluginNew("Email"),k=x.getById(g.id);if(!k||"g"===(null===k||void 0===k?void 0:k.service)){n=(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("hr",{}),(0,j.jsx)(_.Z,{icon:"icon-gmail",iconSize:14,onClick:function(){x.openInGmailByAttach(g)},children:"Open in Gmail"})]})}}else{var E=v.isItemArchived(a),D=v.isItemFullTrashed(a);n=(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("hr",{}),(0,j.jsx)(_.Z,{disabled:D,icon:"icon-task",onClick:this.onClickArchiveGmail,children:"".concat(E?"Unarchive":"Archive"," email")}),(0,j.jsx)(_.Z,{icon:"icon-delete",onClick:this.onClickDeleteGmail,children:"".concat(D?"Undelete":"Delete"," email")})]})}}return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(_.Z,{icon:"icon-check",hotkey:s&&{name:"Complete"},onClick:this.onClickComplete,children:a.isComplete()?"Uncomplete":"Complete"}),(0,j.jsx)(_.Z,{icon:"icon-zoom-in",hotkey:s&&{name:"ZoomIn"},onClick:this.onClickZoom,children:"Zoom In"}),(0,j.jsx)(_.Z,{icon:"icon-star",hotkey:s&&{name:"Star"},onClick:this.onClickStar,children:a.isStarred()?"Unstar":"Star"}),(0,j.jsx)(C.Z,{hotkey:s&&o+" + #",border:!1,children:"Priority"}),(0,j.jsxs)("div",{className:"box-content px-3 pt-1 horizontalMenu",children:[(0,j.jsx)(A.Z,{className:"c-border-heavy itemPriorityHigh t-priority1",width:24,height:24,tooltipHotkey:s&&{name:"Priority1"},onClick:this.onClickPriority.bind(this,f.Z.VMLIFlag.P1)}),(0,j.jsx)(A.Z,{className:"c-border-heavy itemPriorityMed t-priority2",width:24,height:24,tooltipHotkey:s&&{name:"Priority2"},onClick:this.onClickPriority.bind(this,f.Z.VMLIFlag.P2)}),(0,j.jsx)(A.Z,{className:"c-border-heavy itemPriorityLow t-priority3",width:24,height:24,tooltipHotkey:s&&{name:"Priority3"},onClick:this.onClickPriority.bind(this,f.Z.VMLIFlag.P3)}),(0,j.jsx)(A.Z,{className:"c-border-heavy itemPriorityNone",width:24,height:24,tooltipHotkey:s&&{name:"PriorityNone"},onClick:this.onClickPriority.bind(this,f.Z.VMLIFlag.None)})]}),(0,j.jsx)(C.Z,{border:!1,children:"Item Type"}),(0,j.jsxs)("div",{className:"box-content px-3 pt-1 pb-1 horizontalMenu",children:[(0,j.jsx)(A.Z,{className:"c-border-heavy",iconSize:14,width:24,height:24,tooltip:"None",onClick:this.onClickPrefix.bind(this,null)}),(0,j.jsx)(A.Z,{className:"c-border-heavy",icon:"icon-project",iconSize:18,width:24,height:24,tooltip:"Project",onClick:this.onClickPrefix.bind(this,f.Z.Prefix.Header)}),(0,j.jsx)(A.Z,{className:"c-border-heavy",icon:"icon-check",iconSize:15,width:24,height:24,tooltip:"Task",onClick:this.onClickPrefix.bind(this,f.Z.Prefix.Task)}),(0,j.jsx)(A.Z,{className:"c-border-heavy",icon:"icon-bullet",iconSize:22,width:24,height:24,tooltip:"Bullet",onClick:this.onClickPrefix.bind(this,f.Z.Prefix.Bullet)}),(0,j.jsx)(A.Z,{className:"c-border-heavy",icon:"icon-numlist",iconSize:13,width:24,height:24,tooltip:"Numbered List",onClick:this.onClickPrefix.bind(this,f.Z.Prefix.NumList)})]}),(e||t)&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("hr",{}),e,t]}),(0,j.jsx)("hr",{}),l&&(0,j.jsx)(_.Z,{icon:"icon-format_indent_increase",hotkey:{name:"Indent"},onClick:this.onClickIndent.bind(this,!1),children:"Indent"}),c&&(0,j.jsx)(_.Z,{icon:"icon-format_indent_decrease",hotkey:{name:"Unindent"},onClick:this.onClickIndent.bind(this,!0),children:"Unindent"}),!i&&(0,j.jsx)(_.Z,{iconNew:"MdOpenInNew",hotkey:{name:"MoveAutocomplete"},onClick:this.onClickMove,children:"Move / Copy / Link / Mirror"}),(0,j.jsx)("hr",{}),!i&&(0,j.jsx)(_.Z,{icon:"icon-sticky-note-o",hotkey:{name:"EditNote"},onClick:this.onClickNote,children:"Add Note"}),!u&&(0,j.jsx)(_.Z,{icon:"icon-calendar",hotkey:{name:"Date"},onClick:this.onClickAddDate,children:"Add Date"}),h&&(0,j.jsx)(_.Z,{icon:"icon-zoom-in-plus",onClick:this.onClickZoomNewPane,children:"Open in New Pane"}),h&&(0,j.jsx)(_.Z,{icon:"icon-format_list_bulleted",onClick:this.onClickZoomNewOutlinePane,children:"Open in New Outline Pane"}),h&&(0,j.jsx)(_.Z,{icon:"icon-keyboard-tab",hotkey:{name:"HighlightInAllPanes"},onClick:this.onClickHighlight,children:"Highlight in all panes"}),n,(0,j.jsx)("hr",{}),h&&(0,j.jsx)(_.Z,{icon:"icon-task",onClick:this.onClickArchive,children:"Archive Item"}),h&&(0,j.jsx)(_.Z,{icon:"icon-delete",hotkey:{name:"DeleteItem"},onClick:this.onClickDelete,children:"Delete"}),this.props.showExtra&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("hr",{}),(0,j.jsx)(_.Z,{icon:"icon-link",onClick:this.onClickFixSync,children:"Fix Sync"})]}),(0,j.jsxs)(_.Z,{className:"mt-2 mb-1 text-xs",hoverEffects:!1,faded:!0,customLayout:!0,style:{lineHeight:1.35},children:[(0,j.jsxs)("div",{className:"flex",children:[(0,j.jsx)("b",{className:"f1",children:"Created"}),(0,j.jsx)("div",{children:b.Z.toHumanText(a.dateCreated)})]}),(0,j.jsxs)("div",{className:"flex",children:[(0,j.jsx)("b",{className:"f1",children:"Modified"}),(0,j.jsx)("div",{children:b.Z.toHumanText(a.dateModified)})]}),a.isComplete()&&a.dateCompleted&&(0,j.jsxs)("div",{className:"flex",children:[(0,j.jsx)("b",{className:"f1",children:"Completed"}),(0,j.jsx)("div",{children:b.Z.toHumanText(a.dateCompleted)})]})]})]})}},{key:"renderMenuArchived",value:function(){return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(_.Z,{icon:"icon-task",onClick:this.onClickUnarchive,children:"Unarchive"}),(0,j.jsx)(_.Z,{icon:"icon-delete",onClick:this.onClickDelete,children:"Delete"})]})}},{key:"renderMenuDeleted",value:function(){return(0,j.jsx)(_.Z,{icon:"icon-task",onClick:this.onClickUndelete,children:"Undelete"})}},{key:"renderMenuDrive",value:function(){var e=this.props.pane,t=this.item,n=this.paneObject.isCollapsed(),r=e.supportCollapsing&&(t.isHeader()||t.hasChildren()),a=t.isHeader()||t.hasChildren(),o=t.getAttachmentByPlugin(f.Z.PluginID.Drive),i=o.getPlugin().isImage(o),s=o.getField("showInline");return(0,j.jsxs)(j.Fragment,{children:[!e.plugin&&i&&(0,j.jsx)(_.Z,{onClick:this.onClickShowDriveImageText.bind(this,!s),children:"Show as "+(s?"text":"image")}),e.plugin&&(0,j.jsx)(_.Z,{disabled:!r,icon:n?"icon-add":"icon-minus",hotkey:{name:"Collapse"},onClick:this.onClickCollapse,children:n?"Expand":"Collapse"}),e.plugin&&(0,j.jsx)(_.Z,{disabled:!a,icon:"icon-zoom-in",hotkey:{name:"ZoomIn"},onClick:this.onClickZoom,children:"Zoom In"}),(0,j.jsx)(_.Z,{onClick:this.onViewInDrive,children:"View in Drive"}),!e.plugin&&(0,j.jsx)("hr",{})]})}},{key:"renderMenuGmail",value:function(e){var t=this.item,n=this.mod,r="PaneGmail"===this.props.pane.type,a=e.getPlugin(),o=a.isItemUnread(t),i=a.isItemStarred(t),s=a.isItemArchived(t),l=a.isItemFullTrashed(t),c=(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(_.Z,{icon:"icon-reply",hotkey:r&&{name:"Reply",group:"Legacy Email"},onClick:this.onClickReply,children:"Reply"}),(0,j.jsx)(_.Z,{icon:"icon-reply-all",hotkey:r&&{name:"ReplyAll",group:"Legacy Email"},onClick:this.onClickReplyAll,children:"Reply All"}),(0,j.jsx)(_.Z,{icon:"icon-forward",hotkey:r&&{name:"Forward",group:"Legacy Email"},onClick:this.onClickForward,children:"Forward"}),(0,j.jsx)("hr",{})]});return(0,j.jsxs)(j.Fragment,{children:[c,r&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(_.Z,{icon:o?"icon-drafts":"icon-unread",iconSize:14,hotkey:o?void 0:{name:"MarkUnread",group:"Legacy Email"},onClick:this.onClickRead,children:o?"Mark as read":"Mark as unread"}),(0,j.jsx)(_.Z,{icon:"icon-star",hotkey:{name:"Star",group:r?"Email":"Pane"},onClick:this.onClickStarGmail,children:i?"Unstar":"Star"}),(0,j.jsx)("hr",{}),(0,j.jsx)(_.Z,{className:"mat-subheader",hotkey:{name:n+" + #"},children:"Priority"}),(0,j.jsxs)("div",{id:"contextMenuPriority",className:"horizontalMenu",children:[(0,j.jsx)(A.Z,{className:"c-border-heavy",id:"itemPriorityNone",onClick:this.onClickPriority.bind(this,f.Z.VMLIFlag.None)}),(0,j.jsx)(A.Z,{className:"c-border-heavy",id:"itemPriorityLow",onClick:this.onClickPriority.bind(this,f.Z.VMLIFlag.P3)}),(0,j.jsx)(A.Z,{className:"c-border-heavy",id:"itemPriorityMed",onClick:this.onClickPriority.bind(this,f.Z.VMLIFlag.P2)}),(0,j.jsx)(A.Z,{className:"c-border-heavy",id:"itemPriorityHigh",onClick:this.onClickPriority.bind(this,f.Z.VMLIFlag.P1)})]}),(0,j.jsx)("hr",{}),(0,j.jsx)(_.Z,{icon:"icon-tag",hotkey:{name:"Label",group:"Legacy Email"},onClick:this.onClickLabel,children:"Label"}),(0,j.jsx)(_.Z,{icon:"icon-check",hotkey:{name:"Task",group:"Legacy Email"},onClick:this.onClickCreateTask,children:"Create Task"}),(0,j.jsx)(_.Z,{icon:"icon-align-left",hotkey:{name:"Move",group:"Legacy Email"},onClick:this.onClickMove,children:"Add to Outline"}),(0,j.jsx)(_.Z,{icon:"icon-calendar",hotkey:{name:"Schedule",group:"Legacy Email"},onClick:this.onClickSchedule,children:"Add To Calendar"}),(0,j.jsx)("hr",{}),(0,j.jsx)(_.Z,{disabled:l,icon:"icon-task",hotkey:{name:"Archive",group:"Legacy Email"},onClick:this.onClickArchiveGmail,children:s?"Unarchive":"Archive"}),(0,j.jsx)(_.Z,{icon:"icon-delete",hotkey:{name:"Delete",group:"Legacy Email"},onClick:this.onClickDeleteGmail,children:l?"Undelete":"Delete"})]})]})}},{key:"render",value:function(){var e,t,n=this.props,r=n.pane,a=this.item,o=n.element,i=p.Z.getPluginForElement(o);if(i){var s=p.Z.hasClass(i,"plugin_drive")&&f.Z.PluginID.Drive||p.Z.hasClass(i,"plugin_gmail")&&f.Z.PluginID.Gmail||p.Z.hasClass(i,"syncedToCalendar")&&f.Z.PluginID.GCalendar||"";if(s&&a.hasPluginAttachment(s)){var l=a.getAttachmentByPlugin(s);if(!l.getPlugin().shouldUseNewEmailPlugin(l)){switch(s){case f.Z.PluginID.Drive:t=this.renderMenuDrive();break;case f.Z.PluginID.Gmail:t=this.renderMenuGmail(a.getAttachmentByPlugin(s))}r.plugin||(e=t,t=void 0)}}}else p.Z.hasClass(o,"link")?e=this.renderMenuLink(o):p.Z.hasClass(o.parentElement,"link")?e=this.renderMenuLink(o.parentElement):p.Z.hasClass(o,"linkImage")?e=this.renderMenuLinkImage(o):p.Z.hasClass(o,"mdImage")?e=this.renderMenuItemMDImage(o):p.Z.hasClass(o,"driveImage")?e=this.renderMenuDrive():a.isNote()&&(t=this.renderMenuNote());if(!t){var c=r.getContextMenuMode();switch(c){case"Normal":t=this.renderMenuDefault();break;case"Archived":t=this.renderMenuArchived();break;case"Deleted":t=this.renderMenuDeleted();break;case"Gmail":t=this.renderMenuGmail(a.getAttachmentByPlugin(f.Z.PluginID.Gmail));break;case"Drive":t=this.renderMenuDrive();break;default:try{p.Z.PAssert(290,!1,"Unknown context menu mdoe: "+c)}catch(d){p.Z.reportError(d)}}}return(0,j.jsxs)(x.Z,{id:"contextMenuItem",element:n.element,supportArrows:!0,pos:n.pos,noBackdrop:n.noBackdrop,children:[e,t]})}}]),n}(k.a)},18128:(e,t,n)=>{n.r(t),n.d(t,{default:()=>A});var r=n(59713),a=n.n(r),o=n(63038),i=n.n(o),s=n(6479),l=n.n(s),c=n(11780),d=n(19955),u=n(57015),h=n(27134),f=n(1465),p=n(74792),m=n(45989),g=["title","items","onSelect"];function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=0,n=1;n<arguments.length;n++){if(t++>5e3&&__infLoop&&__infLoop(t))throw new RangeError;var r=null!=arguments[n]?arguments[n]:{};n%2?y(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const A=(0,h.Z)((function(e){var t=e.title,n=e.items,r=e.onSelect,a=l()(e,g),o=(0,d.useState)(-1),s=i()(o,2),h=s[0],y=s[1];return(0,d.createElement)(u.Z,v(v({},a),{},{key:"contextMenuItemList",id:"contextMenuItemList",name:"ReactContextMenuItemList",focusTrap:!0,supportArrows:!0,width:400,onSelectedIndexChanged:function(e){y(e)}}),t&&(0,m.jsx)("div",{className:"px-3 pb-2 font-medium text-14",children:t}),n.map((function(e,t){return(0,m.jsx)(f.Z,{className:c.Z.classNames({"selected leading-normal c-bg-dark":h===t}),onClick:(n=e,function(){return r(n)}),children:(0,m.jsx)(p.Z,{item:e,numberOfLines:4,selected:h===t,displayParents:!0,className:"py-3 leading-normal borderBox"})},e.id);var n})))}))},19620:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var r=n(59713),a=n.n(r),o=n(6479),i=n.n(o),s=n(11780),l=(n(19955),n(57015)),c=n(27134),d=n(25859),u=n(1465),h=n(45989),f=["title","options","onSelect","selected"];function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=0,n=1;n<arguments.length;n++){if(t++>5e3&&__infLoop&&__infLoop(t))throw new RangeError;var r=null!=arguments[n]?arguments[n]:{};n%2?p(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const g=(0,c.Z)((function(e){var t=e.title,n=e.options,r=e.onSelect,a=e.selected,o=i()(e,f);return(0,h.jsxs)(l.Z,m(m({id:"contextMenuList",supportArrows:!0},o),{},{children:[t&&(0,h.jsx)(d.Z,{children:t}),n.map((function(e,t){return"header"in e?(0,h.jsx)(d.Z,{children:e.header},e.header):"hr"===e.id?(0,h.jsx)("hr",{},t):(0,h.jsx)(u.Z,{selected:e.id===a,className:s.Z.classNames(e.id===a&&"font-bold"),onClick:(n=e,function(){r(n)}),children:e.value},e.id);var n}))]}),"contextMenuList")}))},55076:(e,t,n)=>{n.r(t),n.d(t,{default:()=>k});var r=n(59713),a=n.n(r),o=n(63038),i=n.n(o),s=n(30146),l=n(22060),c=n(11780),d=n(86557),u=n(19955),h=n(5093),f=n(12402),p=n(57015),m=n(1465),g=n(94668),y=n(59942),v=n(27134),A=n(78966),x=n(65981),C=n(45989);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=0,n=1;n<arguments.length;n++){if(t++>5e3&&__infLoop&&__infLoop(t))throw new RangeError;var r=null!=arguments[n]?arguments[n]:{};n%2?_(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const k=(0,v.Z)((function(e){var t,n=(0,u.useState)(!1),r=i()(n,2),a=r[0],o=r[1],v=(0,u.useState)(),_=i()(v,2),k=_[0],w=_[1],E=(0,A.Z)(h.default.settings.lastSync,h.default.AppCache.hasUpdate,h.default.AppCache.isUpdating,s.Z.erroredAuthTokens,h.default.settings.syncAccounts,s.Z.onAccountsUpdated),j=i()(E,5),D=j[0],Z=j[1],P=j[2],B=j[3],M=j[4],N=g.Z.getLastBackup(),O="serviceWorker"in navigator,S=d.Z.isNearStorageQuota,I=parseFloat(h.default.pluginManager.getCacheSizeRatio())<.6,T=S||I||!O,L=+l.Z.jsVersion,R="".concat(L,": ").concat(new Date(L).toString("MMMM d, h:mm tt")),F=D>0?new Date(D).toString(h.default.International.getFormat(l.Z.DFormat.LongDayTime)):"Not synced";if(a)t="Backing up...";else if(N>0){var U=new Date(N);t=y.Z.toHumanText(U)}else t="Not backed up";var W=function(e){return function(){s.Z.fixAuth(e)}};return(0,u.createElement)(p.Z,b(b({},e),{},{minWidth:250,key:"contextMenuOnlineStatus",id:"contextMenuOnlineStatus"}),(0,C.jsx)(m.Z,{className:"onlineStatusHeader",children:"Last Synced Change"}),(0,C.jsx)(m.Z,{children:F}),(0,C.jsx)("hr",{}),(0,C.jsxs)(m.Z,{className:"onlineStatusHeader",height:36,children:["Last Backup",(0,C.jsx)(f.Z,{primary:!0,onClick:function(){o(!0),g.Z.backupAll().then((function(){return o(!1)}))},children:"Backup now"})]}),(0,C.jsx)(m.Z,{children:t}),T&&(0,C.jsxs)("div",{children:[(0,C.jsx)("hr",{}),(0,C.jsx)(m.Z,{className:"onlineStatusHeader",children:"Warnings"}),!O&&(0,C.jsx)(m.Z,{clickCloses:!1,tooltip:"Learn More",children:"Your browser does not support offline access"}),S&&(0,C.jsx)(m.Z,{clickCloses:!1,tooltip:"Learn More",onClick:function(){h.default.toasts.pushMessage({text:"Your computer's offline storage quota is almost exceeded. Please try freeing space on your device, running out will cause offline access to not work.",action:l.Z.MessageAction.Okay})},children:"Nearly out of disk space"}),false,I&&(0,C.jsx)(m.Z,{clickCloses:!1,tooltip:"Learn More",onClick:function(){h.default.toasts.pushMessage({text:"Due to low disk space your cache size was restricted. View your General Settings to reset your cache size.",action:l.Z.MessageAction.OpenGeneralSettings})},children:"Your data is not efficiently being cached"})]}),B&&!c.Z.isEmpty(B)&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("hr",{}),(0,C.jsx)(m.Z,{className:"onlineStatusHeader",children:"Sync accounts"}),Object.keys(M).map((function(e){return(0,C.jsx)(m.Z,{icon:"",onClick:W(e),children:(0,C.jsxs)("div",{className:"flex items-center flex-1",children:[(0,C.jsx)("div",{className:"flex-1",children:e}),B[e]?(0,C.jsx)(x.J,{name:"MdWarning",className:"p-1 rounded-md c-warning"}):(0,C.jsx)("div",{className:"c-foreground-faded",children:"OK"})]})},e)}))]}),(0,C.jsx)("hr",{}),(0,C.jsxs)(m.Z,{className:"onlineStatusHeader",height:36,children:["App version",k&&!Z?(0,C.jsx)("div",{style:{paddingLeft:48},children:k}):(0,C.jsx)(f.Z,{primary:!0,onClick:function(e,t){Z?h.default.AppCache.skipWaiting():h.default.AppCache.update((function(e){w(e?"Installing...":"Up to date"),d.Z.isStaging&&setTimeout((function(){return w("")}),1e3)}))},children:P?"Updating...":Z?"Update":"Check for updates"})]}),d.Z.isBeta&&(0,C.jsx)(m.Z,{children:"Beta"}),(0,C.jsx)(m.Z,{children:R}))}))},47370:(e,t,n)=>{n.r(t),n.d(t,{default:()=>D});var r=n(59713),a=n.n(r),o=n(34575),i=n.n(o),s=n(93913),l=n.n(s),c=n(2205),d=n.n(c),u=n(78585),h=n.n(u),f=n(29754),p=n.n(f),m=n(37149),g=n(22060),y=n(11780),v=n(86557),A=n(19955),x=n(5093),C=n(57015),_=n(1465),b=n(36385),k=n(45989);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=0,n=1;n<arguments.length;n++){if(t++>5e3&&__infLoop&&__infLoop(t))throw new RangeError;var r=null!=arguments[n]?arguments[n]:{};n%2?w(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function j(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var a=p()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}const D=function(e){d()(n,e);var t=j(n);function n(){return i()(this,n),t.apply(this,arguments)}return l()(n,[{key:"onClickSettings",value:function(){x.default.menus.openSettings()}},{key:"onClickDisplaySettings",value:function(){x.default.menus.openDisplaySettings()}},{key:"onClickImport",value:function(){x.default.menus.openModal(g.Z.Modals.ImportData)}},{key:"onClickExport",value:function(){x.default.menus.openModal(g.Z.Modals.ExportData)}},{key:"onClickVersion",value:function(){x.default.menus.openModal(g.Z.Modals.Backups)}},{key:"onClickFeedback",value:function(){x.default.menus.openModal(g.Z.Modals.ReportBug)}},{key:"onClickBlog",value:function(){x.default.openUrl("https://www.moo.do/blog/")}},{key:"onClickLogout",value:function(){x.default.setup.logoutClicked()}},{key:"onClickDownloadApp",value:function(){x.default.openUrl(v.Z.getAppDownloadURL())}},{key:"onClickTrial",value:function(){x.default.menus.openSettings("Moo.do Account")}},{key:"onClickHelp",value:function(){x.default.intro.showHelp()}},{key:"onClickHotkeys",value:function(){x.default.intro.showHotkeys()}},{key:"render",value:function(){var e=x.default.billingManager,t=m.Z.getAccountName(),n=e.isTrialState()&&!x.default.settings.trialOverHidden.get(),r=e.isTrialOver(),a=!y.Z.isDemoMode(),o=e.daysLeftInTrial.get();return(0,A.createElement)(C.Z,E(E({},this.props),{},{key:"contextMenuOptions",id:"contextMenuOptions",supportArrows:!0}),(0,k.jsx)(_.Z,{onClick:this.onClickSettings,children:"Settings"}),(0,k.jsx)(_.Z,{onClick:this.onClickDisplaySettings,children:"Display Settings"}),(0,k.jsx)("hr",{}),(0,k.jsx)(_.Z,{onClick:this.onClickHelp,children:"Help"}),(0,k.jsx)(_.Z,{onClick:this.onClickHotkeys,children:"Hotkeys"}),(0,k.jsx)("hr",{}),(0,k.jsx)(_.Z,{onClick:this.onClickImport,children:"Import Data"}),(0,k.jsx)(_.Z,{onClick:this.onClickExport,children:"Export Data"}),a&&(0,k.jsx)(_.Z,{onClick:this.onClickVersion,children:"Version History"}),(0,k.jsx)("hr",{}),a&&(0,k.jsx)(_.Z,{onClick:this.onClickFeedback,children:"Contact Support"}),(0,k.jsx)(_.Z,{onClick:this.onClickBlog,children:"Moo.do Blog"}),v.Z.canDownloadNativeApp()&&(0,k.jsx)(_.Z,{onClick:this.onClickDownloadApp,children:"Get "+v.Z.getPlatformName()+" app"}),(0,k.jsx)("hr",{}),n&&(0,k.jsx)(_.Z,{className:r?"error":"",onClick:this.onClickTrial,children:r?"Trial over":"Trial: "+o+" days"}),(0,k.jsx)(_.Z,{onClick:this.onClickLogout,children:"Logout"}),(0,k.jsx)(_.Z,{className:"username",faded:!0,hoverEffects:!1,children:t}),(0,k.jsx)(_.Z,{className:"useremail",faded:!0,hoverEffects:!1,children:x.default.settings.getUserIdentifier()}))}}]),n}(b.a)},63711:(e,t,n)=>{n.r(t),n.d(t,{default:()=>l});n(19955);var r=n(65359),a=n(57015),o=n(1465),i=n(27134),s=n(45989);const l=(0,i.Z)((function(e){var t=e.item,n=e.pane,i=e.element,l=e.scrollToItem;return(0,s.jsxs)(a.Z,{id:"contextMenuOverviewOptions",element:i,children:[(0,s.jsx)(o.Z,{icon:"icon-zoom-in",onClick:function(){n.canZoomToItem(t)&&(r.Z.setFocusedPane(n),n.zoomIn(t))},children:"Zoom In"}),(0,s.jsx)(o.Z,{icon:"icon-unfold_less",onClick:function(){return l()},children:"Scroll to item"}),(0,s.jsx)(o.Z,{icon:"icon-add",onClick:function(){n.zoomIn(t),n.addProject()},children:"Add subproject"})]},"contextMenuOverviewOptions")}))},27517:(e,t,n)=>{n.r(t),n.d(t,{default:()=>x});var r=n(59713),a=n.n(r),o=n(6479),i=n.n(o),s=n(11780),l=n(19955),c=n(5093),d=n(72259),u=n(27134);const h=function(e,t){var n=(0,l.useRef)();n.current||(n.current=null===e||void 0===e?void 0:e.listen(t)),(0,l.useEffect)((function(){return function(){var e;null===(e=n.current)||void 0===e||e.dispose(),n.current=void 0}}),[])};var f=n(12402),p=n(57015),m=n(48443),g=n(45989),y=["pane","componentName","isAddPane"];function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=0,n=1;n<arguments.length;n++){if(t++>5e3&&__infLoop&&__infLoop(t))throw new RangeError;var r=null!=arguments[n]?arguments[n]:{};n%2?v(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const x=(0,u.Z)((function(e){var t=e.pane,n=e.componentName,r=e.isAddPane,a=i()(e,y),o=l.useRef(),u=function(){c.default.menus.isContextMenuOpen(n)&&c.default.menus.closeContextMenu(n)};t&&h(t.onDestroyed,u);var v=function(){if(r){var e=o.current.getCreationProps(),t=e.pane,n=e.type;n?c.default.PaneManager.addPaneByButton(n):(t.setDocument(d.Z.getDefaultDocument(),{forLoad:!0}),c.default.PaneManager.addPaneAtIndex(t)),c.default.onIntroAction("AddPane"),s.Z.sendEvent("Menu","AddPane_"+n)}u()};return(0,l.createElement)(p.Z,A(A({},a),{},{id:"contextMenuPaneView",key:"contextMenuPaneView"+r,maxWidth:500,minWidth:0}),(0,g.jsx)(m.Z,{pane:t,isAddPane:r,supportHotkeys:!0,onSelected:v,ref:o}),r&&(0,g.jsx)("div",{className:"center",children:(0,g.jsx)(f.Z,{className:"addButton",raised:!0,primary:!0,width:240,onClick:v,children:"Add Pane (Enter)"})}))}))},73432:(e,t,n)=>{n.r(t),n.d(t,{default:()=>M});var r=n(59713),a=n.n(r),o=n(34575),i=n.n(o),s=n(93913),l=n.n(s),c=n(2205),d=n.n(c),u=n(78585),h=n.n(u),f=n(29754),p=n.n(f),m=n(22060),g=n(11780),y=n(19955),v=n(5093),A=n(99151),x=n(36385),C=n(31180),_=n(12402),b=n(57015),k=n(25859),w=n(71766),E=n(45989);function j(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var a=p()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}const D=function(e){d()(n,e);var t=j(n);function n(){return i()(this,n),t.apply(this,arguments)}return l()(n,[{key:"init",value:function(){this.DISABLE_LISTENER_ASSERT=!0}},{key:"getState",value:function(e){for(var t=0,n=e.pane,r=n.search,a={hasFilter:!1,showHelp:v.default.settings.shouldShowHelp("searchHelp"),viewState:n.viewState,viewMode:n.getViewMode(),sortModeBlocks:n.supportsSortBlocks()&&n.getSortModeBlocks(),sortModeItems:n.supportsSortItems()&&n.getSortModeItems(),calendars:C.Z.GCalendarsAvailable,displayCalendars:n.displayCalendars,displayLocalItems:n.displayLocalItems,closedHelps:v.default.settings.closedHelps},o=0;o<r.filters.length;o++){if(t++>5e3&&__infLoop&&__infLoop(t))throw new RangeError;var i=r.filters[o];a[i.name]=i.value,a[i.name+"Enabled"]=i.enabled,0!==i.value.get()&&(a.hasFilter=!0)}return a}},{key:"onMount",value:function(){this.listenTo(this.props.pane.search.onChanged)}},{key:"componentWillReceiveProps",value:function(e){e.pane!==this.props.pane&&(this.refreshListeners(e),this.updateState(e))}},{key:"onClickSelectCalendars",value:function(e){v.default.menus.openContextMenu({componentName:"ReactContextMenuCalendars",element:e.target,pane:this.props.pane})}},{key:"saveScrollOfTop",value:function(){this.props.pane}},{key:"onToggleButton",value:function(e){this.saveScrollOfTop(),this.props.pane.search.toggleFilter(e)}},{key:"setPriority",value:function(e){this.saveScrollOfTop();var t=this.props.pane.search;t.getFilterValue("priority")===e&&(e=0),t.setFilter("priority",e)}},{key:"onClickCloseHelp",value:function(){v.default.settings.closeHelp("searchHelp")}},{key:"onClickShowHelp",value:function(){v.default.settings.uncloseHelp("searchHelp")}},{key:"renderSearchButton",value:function(e){var t=this.props.pane,n="showOnlyMatches"===e.name&&t.isViewFlatList()?1:e.value.get();return(0,E.jsx)(w.Z,{filter:e,filterValue:n,search:t.search,hasBorder:!0},e.name)}},{key:"renderSearchPriority",value:function(){var e=this.props.pane.search.filter_priority.value.get(),t=g.Z.classNames("searchPriorities c-border-light",{"noScale mobutton":!1},{hasSelected:!!e}),n=g.Z.classNames("searchPriority",{"noScale mobutton":!1}),r=g.Z.classNames(n,"searchP1 t-priority1",{selected:e===m.Z.VMLIFlag.P1}),a=g.Z.classNames(n,"searchP2 t-priority2",{selected:e===m.Z.VMLIFlag.P2}),o=g.Z.classNames(n,"searchP3 t-priority3",{selected:e===m.Z.VMLIFlag.P3});return(0,E.jsxs)("span",{className:t,children:[(0,E.jsx)("span",{className:r,"data-tooltip":"Show only high priority",onClick:this.setPriority.bind(this,m.Z.VMLIFlag.P1)}),(0,E.jsx)("span",{className:a,"data-tooltip":"Show medium priority and higher",onClick:this.setPriority.bind(this,m.Z.VMLIFlag.P2)}),(0,E.jsx)("span",{className:o,"data-tooltip":"Show low priority and higher",onClick:this.setPriority.bind(this,m.Z.VMLIFlag.P3)})]},"priority")}},{key:"render",value:function(){for(var e=0,t=this.state,n=this.props.pane,r=n.search,a=t.showHelp,o=[],i=[],s=g.Z.classNames("filterSection flexbox",{showHelp:a}),l=0;l<r.filters.length;l++){if(e++>5e3&&__infLoop&&__infLoop(e))throw new RangeError;var c=r.filters[l];c.enabled.get()&&(c.isOption?c.hideInView||i.push(this.renderSearchButton(c)):c.icon?o.push(this.renderSearchButton(c)):"priority"===c.name&&o.push(this.renderSearchPriority()))}if(n.isViewDates()){var d=n.isCalFilterActive(),u=g.Z.classNames("buttonCalendars searchButton icon-calendar c-border-light c-button",{selected:d});i.push((0,E.jsx)("div",{className:u,onClick:this.onClickSelectCalendars,"data-tooltip":"Select calendars to display in this pane"},"calendars"))}return(0,E.jsxs)("div",{className:s,children:[o.length>0&&(0,E.jsx)("div",{children:(0,E.jsx)("div",{className:"searchFilters c-border-light",children:o})}),i.length>0&&(0,E.jsx)("div",{children:(0,E.jsx)("div",{className:"searchFilters c-border-light",children:i})})]})}}]),n}(x.a);function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=0,n=1;n<arguments.length;n++){if(t++>5e3&&__infLoop&&__infLoop(t))throw new RangeError;var r=null!=arguments[n]?arguments[n]:{};n%2?Z(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function B(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var a=p()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}const M=function(e){d()(n,e);var t=B(n);function n(){return i()(this,n),t.apply(this,arguments)}return l()(n,[{key:"getState",value:function(){var e=0,t=this.props.pane,n=t.search,r={closedHelps:v.default.settings.closedHelps,hasFilter:!1,matches:A.Z.matches,showHelp:v.default.settings.shouldShowHelp("searchHelp"),viewState:t.viewState,viewMode:t.getViewMode()};t.isViewDates()&&(r.calendars=C.Z.GCalendarsAvailable,r.displayCalendars=t.displayCalendars,r.displayLocalItems=t.displayLocalItems);for(var a=0;a<n.filters.length;a++){if(e++>5e3&&__infLoop&&__infLoop(e))throw new RangeError;var o=n.filters[a];r[o.name]=o.value,r[o.name+"Enabled"]=o.enabled,0!==o.value.get()&&(r.hasFilter=!0)}return r}},{key:"onMount",value:function(){this.listenTo(this.props.pane.search.onChanged),this.props.pane.onDestroyed.listen(this.close)}},{key:"onUnmount",value:function(){A.Z.onClosed(),this.props.pane.onDestroyed.unlisten(this.close)}},{key:"close",value:function(){v.default.menus.isContextMenuOpen("ReactContextMenuSearch")&&v.default.menus.closeContextMenu("ReactContextMenuSearch")}},{key:"onSettingChanged",value:function(){this.updateState()}},{key:"onClickSelectCalendars",value:function(e){v.default.menus.openContextMenu({componentName:"ReactContextMenuCalendars",element:e.target,pane:this.props.pane})}},{key:"saveScrollOfTop",value:function(){this.props.pane}},{key:"onToggleButton",value:function(e){this.saveScrollOfTop(),this.props.pane.search.toggleFilter(e)}},{key:"setPriority",value:function(e){this.saveScrollOfTop();var t=this.props.pane.search;t.getFilterValue("priority")===e&&(e=0),t.setFilter("priority",e)}},{key:"onClickToggleHelp",value:function(){this.state.showHelp?v.default.settings.closeHelp("searchHelp"):v.default.settings.uncloseHelp("searchHelp")}},{key:"renderSearchButton",value:function(e){var t=this.props.pane;return(0,E.jsx)(w.Z,{filter:e,filterValue:e.value.get(),search:t.search,hasBorder:!0},e.name)}},{key:"renderSearchPriority",value:function(){var e=this.props.pane.search.filter_priority.value.get(),t=g.Z.classNames("searchPriorities",{hasSelected:!!e}),n=g.Z.classNames("searchPriority searchP1 t-priority1",{selected:e===m.Z.VMLIFlag.P1}),r=g.Z.classNames("searchPriority searchP2 t-priority2",{selected:e===m.Z.VMLIFlag.P2}),a=g.Z.classNames("searchPriority searchP3 t-priority3",{selected:e===m.Z.VMLIFlag.P3});return(0,E.jsxs)("span",{className:t,children:[(0,E.jsx)("span",{className:n,"data-tooltip":"Show only high priority",onClick:this.setPriority.bind(this,m.Z.VMLIFlag.P1)}),(0,E.jsx)("span",{className:r,"data-tooltip":"Show medium priority and higher",onClick:this.setPriority.bind(this,m.Z.VMLIFlag.P2)}),(0,E.jsx)("span",{className:a,"data-tooltip":"Show low priority and higher",onClick:this.setPriority.bind(this,m.Z.VMLIFlag.P3)})]},"priority")}},{key:"render",value:function(){for(var e=0,t=this.props,n=this.props.pane,r=this.state,a=n.search,o=[],i=[],s=0;s<a.filters.length;s++){if(e++>5e3&&__infLoop&&__infLoop(e))throw new RangeError;var l=a.filters[s];l.enabled.get()&&(l.isOption?i.push(this.renderSearchButton(l)):l.icon?o.push(this.renderSearchButton(l)):"priority"===l.name&&o.push(this.renderSearchPriority()))}if(n.isViewDates()){var c=n.isCalFilterActive(),d=g.Z.classNames("buttonCalendars",{selected:c});i.push((0,E.jsx)(_.Z,{height:m.Z.SearchHeight,className:d,onClick:this.onClickSelectCalendars,padding:8,tooltip:"Select calendars to display in this pane",children:"Calendars"},"calendars"))}return(0,E.jsxs)("div",{children:[(0,y.createElement)(b.Z,P(P({},t),{},{key:"contextMenuSearch"+n.id,id:"contextMenuSearch",maxHeight:400,element:t.element}),0===r.matches.length&&(0,E.jsxs)("div",{className:"flexbox",children:[!1!==t.showFilters&&(0,E.jsx)(D,{pane:n}),(0,E.jsx)("div",{className:"f1"}),(0,E.jsx)(_.Z,{className:"searchHelpButton",icon:"icon-question",iconSize:12,width:32,height:32,color:r.showHelp?m.Z.ColorBrand:void 0,onClick:this.onClickToggleHelp})]})),r.showHelp&&(0,y.createElement)(b.Z,P(P({},t),{},{key:"contextMenuSearchHelp"+n.id,id:"contextMenuSearchHelp",maxHeight:500,element:t.element,positionOffset:{top:40}}),(0,E.jsxs)("div",{className:"rel",children:[(0,E.jsx)(k.Z,{children:"Hints"}),(0,E.jsx)(_.Z,{className:"searchHintsClose",icon:"icon-close",iconSize:14,width:36,height:28,onClick:this.onClickToggleHelp}),(0,E.jsxs)("div",{className:"searchHints c-foreground-light",children:[(0,E.jsxs)("div",{children:[(0,E.jsxs)("span",{children:["-",(0,E.jsx)("b",{children:"word"})]}),"hide items including ",(0,E.jsx)("b",{children:"word"})]}),(0,E.jsxs)("div",{children:[(0,E.jsxs)("span",{children:[(0,E.jsx)("b",{children:"a"})," or ",(0,E.jsx)("b",{children:"b"})]}),"show items matching ",(0,E.jsx)("b",{children:"a"})," or ",(0,E.jsx)("b",{children:"b"})]}),(0,E.jsxs)("div",{children:[(0,E.jsxs)("span",{children:["#",(0,E.jsx)("b",{children:"tag"})]}),"show items with #",(0,E.jsx)("b",{children:"tag"})]}),(0,E.jsxs)("div",{children:[(0,E.jsxs)("span",{children:["+",(0,E.jsx)("b",{children:"name"})]}),"show items with +",(0,E.jsx)("b",{children:"name"})]}),(0,E.jsxs)("div",{children:[(0,E.jsxs)("span",{children:["date:",(0,E.jsx)("b",{children:"date"})]}),"show items on ",(0,E.jsx)("b",{children:"date"})]}),(0,E.jsxs)("div",{children:[(0,E.jsxs)("span",{children:["date:today+",(0,E.jsx)("b",{children:"num"})]}),"show items ",(0,E.jsx)("b",{children:"num"})," days in the future"]}),(0,E.jsxs)("div",{children:[(0,E.jsxs)("span",{children:["before:",(0,E.jsx)("b",{children:"date"})]}),"show items before ",(0,E.jsx)("b",{children:"date"})]}),(0,E.jsxs)("div",{children:[(0,E.jsxs)("span",{children:["after:",(0,E.jsx)("b",{children:"date"})]}),"show items after ",(0,E.jsx)("b",{children:"date"})]}),(0,E.jsxs)("div",{children:[(0,E.jsxs)("span",{children:["between:",(0,E.jsx)("b",{children:"date1,date2"})]}),"show items between ",(0,E.jsx)("b",{children:"date1"})," and ",(0,E.jsx)("b",{children:"date2"})]}),(0,E.jsxs)("div",{children:[(0,E.jsx)("span",{children:"date:overdue"}),"show overdue items"]}),(0,E.jsxs)("div",{children:[(0,E.jsx)("span",{children:"date:any"}),"show items with a date"]}),(0,E.jsxs)("div",{children:[(0,E.jsx)("span",{children:"date:none"}),"show items with no date"]}),(0,E.jsxs)("div",{children:[(0,E.jsxs)("span",{children:[m.Z.Prefix.Header," or ",m.Z.Prefix.Header2]}),"show project items"]}),(0,E.jsxs)("div",{children:[(0,E.jsx)("span",{children:m.Z.Prefix.Task}),"show task items"]}),(0,E.jsxs)("div",{children:[(0,E.jsx)("span",{children:m.Z.Prefix.Bullet}),"show bullet items"]}),(0,E.jsxs)("div",{children:[(0,E.jsx)("span",{children:m.Z.SearchFilterTexts.Star}),"show starred items"]}),(0,E.jsxs)("div",{children:[(0,E.jsxs)("span",{children:[m.Z.SearchFilterTexts.Pri3," or ",m.Z.SearchFilterTexts.Pri2," or ",m.Z.SearchFilterTexts.Pri1]}),"show priority items"]}),(0,E.jsxs)("div",{children:[(0,E.jsx)("span",{children:m.Z.InlinePrefix.ItemLink}),"show linked items"]}),(0,E.jsxs)("div",{children:[(0,E.jsxs)("span",{children:['"',(0,E.jsx)("b",{children:"word1 word2"}),'"']}),"show the phrase ",(0,E.jsx)("b",{children:'"word1 word2"'})]}),(0,E.jsxs)("div",{children:[(0,E.jsxs)("span",{children:[m.Z.PrefixItemAutocomplete,(0,E.jsx)("b",{children:"item"})]}),"zoom into ",(0,E.jsx)("b",{children:"item"})]})]})]}))]})}}]),n}(x.a)},42026:(e,t,n)=>{n.r(t),n.d(t,{default:()=>T});var r=n(48926),a=n.n(r),o=n(87757),i=n.n(o),s=n(22060),l=n(86557),c=n(19955),d=n(61471),u=n(26877),h=n(10996);function f(e){return(0,h.w_)({tag:"svg",attr:{viewBox:"0 0 12 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M8.5 1H1c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h10c.55 0 1-.45 1-1V4.5L8.5 1zM11 14H1V2h7l3 3v9zM6 4.5l4 3-4 3v-2c-.98-.02-1.84.22-2.55.7-.71.48-1.19 1.25-1.45 2.3.02-1.64.39-2.88 1.13-3.73.73-.84 1.69-1.27 2.88-1.27v-2H6z"}}]})(e)}var p=n(93379),m=n.n(p),g=n(7795),y=n.n(g),v=n(90569),A=n.n(v),x=n(3565),C=n.n(x),_=n(19216),b=n.n(_),k=n(44589),w=n.n(k),E=n(35740),j={};j.styleTagTransform=w(),j.setAttributes=C(),j.insert=A().bind(null,"head"),j.domAPI=y(),j.insertStyleElement=b();m()(E.Z,j);E.Z&&E.Z.locals&&E.Z.locals;var D=n(65359),Z=n(5093),P=n(99151),B=n(27134),M=n(3336),N=n(29567),O=n(57015),S=n(1465),I=n(45989);const T=(0,B.Z)((function(e){var t=e.paneObject,n=e.element,r=(0,c.useRef)(),o=Z.default.pluginManager.isDriveEnabled(),h=function(e){return function(){Z.default.menus.openContextMenu({componentName:"ReactContextMenuDropZone",element:n,pane:t.pane,item:t.item,image:e,paneObject:t})}},p=function(){var e=a()(i().mark((function e(){var r,a,o;return i().wrap((function(e){for(var i=0;;){if(i++>5e3&&__infLoop&&__infLoop(i))throw new RangeError;switch(e.prev=e.next){case 0:return r=t.item,a=t.pane,o=Z.default.pluginManager.getPluginDrive(),e.next=4,o.pickFilesFromDrive(a,n);case 4:e.sent.forEach((function(e,t){if(0===t)r.setText(e,s.Z.ChangeType.Local);else{var n=r.parent(),a=n.getIndexOf(r.id);r=D.Z.getPane().createVMLI({text:e},{parent:n,changeType:s.Z.ChangeType.AllLocal}),n.insertItem(r,a+1,!1)}}));case 6:case"end":return e.stop()}}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(e,n){return function(){"string"===typeof e?(t.item.setText(e,s.Z.ChangeType.Local),D.Z.selectIndex(t.index,-1),n&&P.Z.updateFromPane({owner:t,index:t.index,start:D.Z.getStartOffset(),element:D.Z.getStartElement(),forceShow:!0})):e()}},g=function(e,t,n,r,a,o,i){var s="icon-bullet"===e?26:void 0;return(0,I.jsxs)(S.Z,{icon:e,iconSize:s,onClick:o||m(r,a),height:36,iconColor:i,children:[(0,I.jsx)("div",{className:"font-medium f1",children:t}),n&&(0,I.jsx)("div",{className:"px-3 ml-8 leading-7 rounded text-12 c-bg-light c-foreground-medium",children:n})]})};return(0,I.jsxs)(O.Z,{element:n,id:"contextMenuSlashHelp",supportArrows:!0,ref:r,children:[g("icon-project","Project","# + Space","# "),g("prefixTask","Task","[ + Space","[ "),g("icon-bullet","Bullet","".concat(s.Z.Prefix.Bullet," Space"),"".concat(s.Z.Prefix.Bullet," ")),g("icon-numlist","Numbered List","1. + Space","1. "),g(d.ovA,"Code Block","``` + Space","``` "),g("icon-hash","Tag","#tag","#",!0),g("icon-user","Contact","+Name","+",!0),g("icon-calendar","Date or reminder","!","!",!0),g("icon-hr","Line","---","---"),g("icon-hr-heavy","Heavy Line","===","===",void 0,void 0,"c-foreground"),g(d.$PT,"Link",l.Z.priModKey+" + K",(function(){Z.default.menus.openContextMenu({componentName:"ReactContextMenuInsertLink",element:n,onInsertLink:function(e){var n=e.text,r=e.href;t.item.elsNew=new N.Z([new M.Z(n,{link:{href:r,text:n}})]),t.item.setTextFromEls(s.Z.ChangeType.Local),D.Z.selectIndex(t.index,-1)}})})),g(u.$l_,"Item Link","[[","[[",!0),g(f,"Item Mirror","((","((",!0),g("icon-drive-file","Upload File",void 0,h(!1)),g("icon-image","Upload Image",void 0,h(!0)),o&&g("icon-drive-file","Choose Drive File",void 0,p)]})}))},7540:(e,t,n)=>{n.r(t),n.d(t,{default:()=>m});var r=n(59713),a=n.n(r),o=n(6479),i=n.n(o),s=(n(19955),n(5093)),l=n(12402),c=n(57015),d=n(27134),u=n(45989),h=["premiumMessage","enableMessage"];function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=0,n=1;n<arguments.length;n++){if(t++>5e3&&__infLoop&&__infLoop(t))throw new RangeError;var r=null!=arguments[n]?arguments[n]:{};n%2?f(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const m=(0,d.Z)((function(e){var t=e.premiumMessage,n=e.enableMessage,r=i()(e,h);return(0,u.jsxs)(c.Z,p(p({},r),{},{id:"contextMenuBoardsUpsell",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{children:t}),(0,u.jsx)("br",{}),(0,u.jsx)("div",{children:"Go Premium to enable "+n+"."})]}),(0,u.jsx)("br",{}),(0,u.jsx)("div",{className:"center",children:(0,u.jsx)(l.Z,{primary:!0,raised:!0,onClick:function(){s.default.menus.closeContextMenu(),s.default.menus.openSettings("Upgrade")},children:"Go Premium"})})]}))}))},38926:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var r=n(63038),a=n.n(r),o=n(11780),i=n(19955),s=n(5093),l=n(27134),c=n(78966),d=n(45989),u={ReactAutocomplete:n(42108),ReactContextMenuOverviewOptions:n(63711),ReactContextMenuGmailSort:n(88744),ReactContextMenuSearch:n(73432),ReactContextMenuCalendars:n(6412),ReactContextMenuInsertLink:n(57357),ReactContextMenuContactDetails:n(69137),ReactNotePopup:n(80360),ReactItemDetailsPopup:n(21721),ReactContextMenuEmailDetails:n(97481),ReactContextMenuItem:n(73173),ReactContextMenuOnlineStatus:n(55076),ReactContextMenuOptions:n(47370),ReactContextMenuUpsell:n(7540),ReactContextMenuDropZone:n(70691),ReactContextMenuDate:n(18887),ReactContextMenuDocumentPassword:n(5999),ReactContextMenuPaneView:n(27517),ReactContextMenuSlashHelp:n(42026),ReactContextMenuInboxItem:n(23993),ReactContextMenuList:n(19620),ReactContextMenuItemList:n(18128)};const h=(0,l.Z)((function(){for(var e=0,t=(0,c.Z)(s.default.menus.contextMenuStack),n=a()(t,1)[0],r=function(e){var t=s.default.menus.getTopContextMenu();t&&s.default.menus.closeContextMenu(t),o.Z.preventAndStop(e)},l=[],h=0;h<n.length;h++){if(e++>5e3&&__infLoop&&__infLoop(e))throw new RangeError;var f=n[h];if(f.noBackdrop||l.push((0,d.jsx)("div",{className:"pointer-events-auto contextMenusBackdrop",onMouseDown:r},"backdrop_"+h)),f.fn)l.push(f.fn(f));else if(f.componentName){f.key=f.key||f.componentName,f.id=f.id||f.key;var p=u[f.componentName].default;l.push(i.createElement(p,f))}}var m=o.Z.classNames("contextMenusReact",{hidden:0===l.length});return(0,d.jsx)("div",{className:m,children:l})}),(function(){return s.default.menus.contextMenuStack.clear()}))},21721:(e,t,n)=>{n.r(t),n.d(t,{default:()=>T});var r=n(59713),a=n.n(r),o=n(6479),i=n.n(o),s=n(34575),l=n.n(s),c=n(93913),d=n.n(c),u=n(2205),h=n.n(u),f=n(78585),p=n.n(f),m=n(29754),g=n.n(m),y=n(22060),v=n(11780),A=n(86557),x=n(19955),C=n(5093),_=n(12402),b=n(16804),k=n(57015),w=n(86986),E=n(43351),j=n(12966),D=n(91238),Z=n(72259),P=n(24223),B=n(36385),M=n(45989),N=["addOnSave","pane","item","selectDocument"];function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=0,n=1;n<arguments.length;n++){if(t++>5e3&&__infLoop&&__infLoop(t))throw new RangeError;var r=null!=arguments[n]?arguments[n]:{};n%2?O(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function I(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g()(e);if(t){var a=g()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p()(this,n)}}const T=function(e){h()(n,e);var t=I(n);function n(){return l()(this,n),t.apply(this,arguments)}return d()(n,[{key:"init",value:function(){var e=this.props.item,t=C.default.pluginManager.getPlugin(y.Z.PluginID.GCalendar);this.createObservables({canSyncDate:e&&!!e.getMooDate(),addingLocal:!t.isActive()||C.default.pluginManager.getSetting(y.Z.PluginID.GCalendar,y.Z.PluginSettingsID.GCalendar.CreateLocalEvents),addingRemote:t.isActive()&&C.default.pluginManager.getSetting(y.Z.PluginID.GCalendar,y.Z.PluginSettingsID.GCalendar.SyncNewEvents),selectedDocument:e&&e.getDocumentOwner()?e.getDocumentOwner():Z.Z.getDefaultDocument()}),this.refSelectCalendar=(0,x.createRef)(),this.refSelectDocument=(0,x.createRef)(),this.refMenu=(0,x.createRef)(),this.refItem=(0,x.createRef)(),this.refAddTo=(0,x.createRef)(),this.refNoteText=(0,x.createRef)(),this.refCheckAddLocal=(0,x.createRef)(),this.refCheckAddCalendar=(0,x.createRef)(),this.refSave=(0,x.createRef)()}},{key:"getHotkeys",value:function(){return[C.default.hotkeys.create(y.Z.KeyCode.Escape,!0,y.Z.Primary.Either,y.Z.Shift.Either,this.onEscape),C.default.hotkeys.create(y.Z.KeyCode.D,!0,y.Z.Primary.Yes,y.Z.Shift.Yes,this.onHotkeyDate),C.default.hotkeys.create(y.Z.KeyCode.C,!0,y.Z.Primary.Never,y.Z.Shift.No,this.onHotkeyCreateEvent)]}},{key:"getState",value:function(){var e=this.props.item;return{flags:e.flags,maxWidth:this.props.pane?Math.min(this.props.pane.getWidth()-20,400):400,isStarred:e.isStarred(),priority:e.getPriority()}}},{key:"onMount",value:function(){this.props.item.itemChanged.listen(this.onItemChanged),A.Z.windowSize.listen(this.onResize),P.Z.listen("panesChanged",this.onResize)}},{key:"onResize",value:function(){var e=this;this.updateState(),setTimeout((function(){e.refMenu&&e.refMenu.current.updateState()}),300)}},{key:"onUnmount",value:function(){this.props.item.itemChanged.unlisten(this.onItemChanged);var e=this.props;if(e.addOnSave&&this.needsSave){var t=this.addItem(),n=t.item,r=t.parent,a=t.insertIndex;e.beginSave&&e.beginSave();try{var o=e.options;if(o)for(var i=0,s=0;s<o.length;s++){if(i++>5e3&&__infLoop&&__infLoop(i))throw new RangeError;var l=o[s],c=this.refs[l.text];if(c&&c.getValue())try{l.cb(n)}catch(g){v.Z.reportError(g)}}if(e.children)for(var d=0,u=0;u<e.children.length;u++){if(d++>5e3&&__infLoop&&__infLoop(d))throw new RangeError;var h=e.children[u].clone(n,y.Z.ChangeType.Local);n.insertItem(h)}var f=C.default.pluginManager.getPluginGCalendar(),p=this.refCheckAddCalendar.current;if(f&&f.isAvailable()&&p&&p.getValue()&&this.refSelectCalendar.current){var m=this.refSelectCalendar.current.getValue();f.createEventForItem(n,m),f.forceRemoteEventSync()}isNaN(a)||r.insertItem(n,a)}catch(x){v.Z.reportError(x)}e.endSave&&e.endSave(n)}A.Z.windowSize.unlisten(this.onResize),P.Z.unlisten("panesChanged",this.onResize)}},{key:"onItemChanged",value:function(){var e=this.props.item;this.canSyncDate.set(!!e.getMooDate())}},{key:"onHotkeyDate",value:function(){C.default.menus.openDate({element:this.refItem.current.getElement(),item:this.props.item,pane:this.props.pane})}},{key:"onHotkeyCreateEvent",value:function(){var e=C.default.pluginManager.getPluginGCalendar(),t=this.props.item;e&&(this.props.addOnSave?this.state.canSyncDate&&this.refCheckAddCalendar.current&&this.refCheckAddCalendar.current.setValue(!0):(e.createEventForItem(t),t.itemChanged.notify()))}},{key:"onKeyDownItem",value:function(e){A.Z.getKeyCode(e)===y.Z.KeyCode.Enter?(this.save(),e.preventDefault()):this.wasAKeyPressed=!0}},{key:"save",value:function(){this.props.item.hasText()?(this.needsSave=!0,C.default.menus.closeContextMenu()):C.default.toasts.pushMessage({text:"Please enter text for the item before adding it.",timeout:2e3})}},{key:"addItem",value:function(){var e=this.props.item,t=!0,n=C.default.pluginManager.getPluginGCalendar();if(n&&n.isAvailable()&&this.refCheckAddLocal.current&&(t=this.refCheckAddLocal.current.getValue()),e.getRawText().length>0){if(t){var r=this.props.parent,a=this.refAddTo.current.getItem();if(a&&(r=a.item),this.props.selectDocument&&!a)r=Z.Z.getDocumentById(this.refSelectDocument.current.getValue()).getRootItem();var o=e.clone(r,y.Z.ChangeType.AllLocal),i=this.refNoteText.current.getValue();if(i){var s=o.createNote();s&&s.setText(i,y.Z.ChangeType.Local)}return{item:o,parent:r,insertIndex:0}}return{item:e}}return{}}},{key:"onEscape",value:function(){this.wasEscapeKeyPressed=!0,C.default.menus.closeContextMenu()}},{key:"onNoteValueSet",value:function(){this.refMenu.current.updateState()}},{key:"onKeyDownNote",value:function(e){A.Z.getKeyCode(e)===y.Z.KeyCode.Enter&&(A.Z.mac&&e.metaKey||!A.Z.mac&&e.ctrlKey)&&this.save()}},{key:"onClickStar",value:function(){var e=this.props.item;e.setStarred(!e.isStarred(),y.Z.ChangeType.Local)}},{key:"setPriority",value:function(e){var t=this.props.item;t.getPriority()===e&&(e=y.Z.VMLIFlag.None),t.setPriority(e,y.Z.ChangeType.Local)}},{key:"onChangeAddToCalendar",value:function(e){!e&&this.refCheckAddLocal.current&&this.refCheckAddLocal.current.setValue(!0),this.addingRemote.set(e)}},{key:"onChangeAddLocal",value:function(e){!e&&this.refCheckAddCalendar&&this.refCheckAddCalendar.current.setValue(!0),this.addingLocal.set(e)}},{key:"onChangeCalendar",value:function(e){if(!this.props.addOnSave){var t=this.props.item;C.default.pluginManager.getPluginGCalendar().setCalendarForItem(t,e)}}},{key:"onChangeDocument",value:function(e){this.selectedDocument.set(Z.Z.getDocumentById(e))}},{key:"renderCalendarSelector",value:function(){var e=this.props,t=e.item,n=e.addOnSave,r=this.state.addingRemote,a=C.default.pluginManager.getPluginGCalendar().getWriteableCalendarsForItem(t),o=a.calendars,i=a.selected;!i&&n&&(i=C.default.pluginManager.getSetting(y.Z.PluginID.GCalendar,y.Z.PluginSettingsID.GCalendar.ExportCalendar));var s=v.Z.classNames("c-foreground-faded",{disabled:!r});return o?(0,M.jsxs)("div",{className:"detailsSection flexbox",children:[(0,M.jsx)("span",{className:s,children:"Calendar:"}),(0,M.jsxs)(E.Z,{defaultValue:i,style:{marginLeft:16,height:32},ref:this.refSelectCalendar,onChange:this.onChangeCalendar,disabled:!r,children:[(0,M.jsx)("option",{value:"",children:"None"}),o.map((function(e){return(0,M.jsx)("option",{value:e.id,children:e.summary},e.id)}))]})]}):void 0}},{key:"render",value:function(){var e,t=this.props,n=t.addOnSave,r=t.pane,a=t.item,o=t.selectDocument,s=i()(t,N),l=this.state,c=l.addingLocal,d=l.addingRemote,u=l.canSyncDate,h=l.priority,f=l.isStarred,p=l.selectedDocument,m=this.state.maxWidth,g=v.Z.parentTextForItem(a),A=s.children||(r?r.getSubItems(a,!0):[]),P=a.allowTextEditing(),B=P&&(a.canHaveNote()||a.hasNote()),O=C.default.pluginManager.getPlugin(y.Z.PluginID.GCalendar),I=O&&O.isAvailable()&&O.isEnabled(),T=I&&(u||s.showCalendarButtons),L=a.hasPluginAttachment(y.Z.PluginID.GCalendar);if(A.length>0){var R=0;e=[];for(var F=0;F<A.length;F++){if(R++>5e3&&__infLoop&&__infLoop(R))throw new RangeError;var U=A[F];e.push((0,M.jsx)(j.Z,{item:U,pane:r,padded:!0,allowDrag:!1},U.id))}}var W,Y=10,H=v.Z.classNames("c-foreground-faded",{disabled:!c});return o&&(W=Z.Z.getDocumentsArray()),(0,x.createElement)(k.Z,S(S({},s),{},{key:a.id+"_Edit",id:"contextMenuItemDetails",className:"flexbox flexvert",width:400,maxWidth:m,onEscape:this.onEscape,ref:this.refMenu,focusTrap:!0}),g&&(0,M.jsxs)("div",{className:"detailsSection flexbox itemContext c-foreground-faded",children:[(0,M.jsx)("div",{className:"c-foreground-faded",children:"Parents"}),(0,M.jsx)("div",{children:g})]}),(0,M.jsxs)("div",{className:"detailsSection flexbox noShrink",children:[(0,M.jsx)("div",{className:"c-foreground-faded",children:"Item text"}),(0,M.jsx)(j.Z,{ref:this.refItem,className:"detailsItem c-background c-border",item:a,onKeyDown:this.onKeyDownItem,selectIndex:s.selectIndex,showPriority:!0,shouldSave:!n,autocompleteMode:"all",tabIndex:Y,inItemDetails:!0,allowDrag:!n,pane:r,editable:P,showPrefix:!0})]}),o&&(0,M.jsxs)("div",{className:"flex items-start detailsSection",children:[(0,M.jsx)("div",{className:H,children:"Document"}),(0,M.jsx)(E.Z,{className:"f1",ref:this.refSelectDocument,style:{height:32},defaultValue:p.id,onChange:this.onChangeDocument,tabIndex:Y++,children:W.map((function(e){return(0,M.jsx)("option",{value:e.id,children:e.text.get()},e.id)}))})]}),n&&(0,M.jsxs)("div",{className:"flex items-start detailsSection",children:[(0,M.jsx)("div",{className:H,children:"Add to"}),(0,M.jsx)(w.Z,{autocompleteMode:"item",autocompleteItem:p.getRootItem(),height:33,placeholder:"Select item to add to",tabIndex:Y++,ref:this.refAddTo,pane:this.props.pane,disabled:!c,onKeyDown:this.onKeyDownItem})]}),B&&(0,M.jsxs)("div",{className:"flex items-start detailsSection",children:[(0,M.jsx)("div",{className:"c-foreground-faded",children:"Note"}),(0,M.jsx)(D.Z,{className:"c-border",ref:this.refNoteText,item:a,heightEmpty:34,heightValue:150,onValueSet:this.onNoteValueSet,onKeyDown:this.onKeyDownNote,tabIndex:Y++,shouldSave:!n})]}),(0,M.jsxs)("div",{className:"flex items-start detailsSection",children:[(0,M.jsx)("div",{className:"c-foreground-faded",children:"Options"}),(0,M.jsxs)("span",{className:"itemDetailOption c-border pointer",onClick:this.onClickStar,children:[(0,M.jsx)("span",{className:"",children:"Star:"}),(0,M.jsx)("i",{className:v.Z.classNames("starButton icon-star c-foreground-super-faded",{selected:f})})]}),(0,M.jsxs)("span",{className:"itemDetailOption c-border",children:[(0,M.jsx)("span",{className:"pr-2",children:"Priority:"}),(0,M.jsx)("span",{className:v.Z.classNames("searchPriority searchP1 t-priority1",{selected:h===y.Z.VMLIFlag.P1}),onClick:this.setPriority.bind(this,y.Z.VMLIFlag.P1)}),(0,M.jsx)("span",{className:v.Z.classNames("searchPriority searchP2 t-priority2",{selected:h===y.Z.VMLIFlag.P2}),onClick:this.setPriority.bind(this,y.Z.VMLIFlag.P2)}),(0,M.jsx)("span",{className:v.Z.classNames("searchPriority searchP3 t-priority3",{selected:h===y.Z.VMLIFlag.P3}),onClick:this.setPriority.bind(this,y.Z.VMLIFlag.P3)})]})]}),n&&(I||s.options)&&(0,M.jsxs)("div",{className:"detailsSection",children:[T&&(0,M.jsx)(b.Z,{initialChecked:c,ref:this.refCheckAddLocal,onChange:this.onChangeAddLocal,disabled:!T,tabIndex:T?Y++:void 0,children:"Add to document"},"addLocal"),T&&(0,M.jsx)(b.Z,{initialChecked:d,ref:this.refCheckAddCalendar,onChange:this.onChangeAddToCalendar,disabled:!T,tabIndex:T?Y++:void 0,children:"Add to Google Calendar"},"addToCalendar"),s.options&&s.options.map((function(e){return(0,M.jsx)(b.Z,{initialChecked:e.value,ref:e.text,tabIndex:Y++,children:e.text},e.text)}))]}),(T||L)&&this.renderCalendarSelector(),e&&(0,M.jsxs)("div",{className:"detailsSection",children:[(0,M.jsx)("div",{className:"c-foreground-faded",children:"Subitems"}),(0,M.jsx)("div",{className:"children c-border",children:e})]}),n&&(0,M.jsxs)("div",{className:"bottomRow flexbox",children:[(0,M.jsx)(_.Z,{onClick:this.onEscape,children:"CANCEL"}),(0,M.jsx)(_.Z,{primary:!0,marginLeft:8,onClick:this.save,tabIndex:Y++,ref:this.refSave,children:"SAVE"})]}))}}]),n}(B.a)},37097:(e,t,n)=>{n.r(t),n.d(t,{default:()=>m});var r=n(59713),a=n.n(r),o=n(6479),i=n.n(o),s=n(22060),l=n(5093),c=n(12402),d=n(67117),u=n(70272),h=n(27134),f=n(45989),p=["text","actionText"];const m=(0,h.Z)((function(e){var t=e.text,n=e.actionText,r=(i()(e,p),function(){return l.default.menus.closeModal(s.Z.Modals.Alert)});return(0,u.K7)(a()({},s.Z.KeyCode.Enter,r),[]),(0,f.jsxs)(d.Z,{id:"modalAlert",closeButton:!1,small:!0,backdropClose:!1,scrollable:!1,modalID:s.Z.Modals.Alert,children:[(0,f.jsx)("div",{dangerouslySetInnerHTML:{__html:t}},"content"),(0,f.jsx)("div",{children:(0,f.jsx)(c.Z,{primary:!0,onClick:r,children:n||"OKAY"})},"buttons")]})}))},30674:(e,t,n)=>{n.r(t),n.d(t,{default:()=>I});var r=n(319),a=n.n(r),o=n(48926),i=n.n(o),s=n(63038),l=n.n(s),c=n(87757),d=n.n(c),u=n(37149),h=n(22060),f=n(59295),p=n(11780),m=n(19955),g=n(5093),y=n(15148),v=n(16804),A=n(67117),x=n(43351),C=n(94668),_=n(72259),b=n(48056),k=n(83815),w=n(27134),E=n(3336),j=n(68805),D=n(82496),Z=n(46128),P=n(85417),B=n(28860);var M=n(40640),N=n(45989),O=function e(t){t.items.get().slice().forEach((function(t){e(t)})),t.hasNote()&&e(t.getNote()),t.isDestroyed()||t.getItemStore().destroyItem(t.id)},S=(0,w.Z)((function(e){var t=e.processedBackup,n=(e.showCompleted,e.refDidBackups),r=e.setForceNumber,a=t.diffGroups,o=t.itemEls,s=t.docInfo,c=t.itemsCache,u=(0,k.Z)({}),f=l()(u,3),v=f[0],A=f[1],x=f[2],b=[],w=(0,m.useRef)();return function(e,t){(0,m.useEffect)((function(){var n=function(n){var r=B.Z.getSelectionRangeNative();r&&p.Z.isAncestor(r.startContainer,e.current)?t(r):t(void 0)};return document.addEventListener("selectionchange",n),function(){return document.removeEventListener("selectionchange",n)}}),[e,t])}(w,(0,m.useCallback)((function(e){if(e){var t=p.Z.getParentAttr(e.startContainer,"data-index"),n=p.Z.getParentAttr(e.endContainer,"data-index"),r=x.current;if(void 0!==t&&void 0!==n){var o=+t,i=+n,s=void 0===r.group||t===n?+p.Z.getParentAttr(e.startContainer,"data-group"):r.group,l=a.find((function(e){return e.index===s}));return o=Math.max(o,l.startIndex),i=Math.min(i,l.startIndex+l.diffs.length-1),A({start:o,end:i,group:l.index})}}A({})}),[a])),a.forEach((function(e,t){var a=("text"===e.type?"Changed text":"added"===e.type&&"Added")||"removed"===e.type&&"Deleted"||"moved"===e.type&&(0,N.jsxs)("span",{children:["Moved from ",(0,N.jsx)("b",{children:e.moveInfo.fromParent})," to ",(0,N.jsx)("b",{children:e.moveInfo.toParent})]})||"completed"===e.type&&"Completed"||"uncompleted"===e.type&&"Uncompleted"||"none"===e.type&&"Unchanged",l=("added"===e.type?"Delete":"moved"===e.type&&"Move back")||"Restore",u=v&&t===v.group?v.end-v.start+1:0,f=function(){var t=i()(d().mark((function t(){var a,o,i;return d().wrap((function(t){for(var d=0;;){if(d++>5e3&&__infLoop&&__infLoop(d))throw new RangeError;switch(t.prev=t.next){case 0:if(null===(a=e.moveInfo)||void 0===a||!a.isDiffDoc){t.next=4;break}g.default.menus.alert({text:"Restoring moving between documents is not supported yet. Please copy the selected items and paste them in for now."}),t.next=9;break;case 4:return o=u||e.diffs.length,t.next=7,g.default.menus.confirm("Are you sure you want to ".concat(l.toLowerCase()," ").concat(o," items?"));case 7:t.sent&&(i=_.Z.getDocumentById(s.id),n.current[s.id]||(C.Z.checkBackupAutoDoc(i,!0),n.current[s.id]=!0),y.Z.beginAction(),e.diffs.forEach((function(t){var n=t.itemRevision,r=t.itemExisting,a=t.index;if(p.Z.isEmpty(v)||a>=v.start&&a<=v.end)if("text"===e.type)r.setMooDate(n.getMooDate(),h.Z.ChangeType.Local,!0),r.setText(n.getRawText(),h.Z.ChangeType.Local);else if("added"===e.type)r.deleteSelf(h.Z.ChangeType.Local);else if("removed"===e.type){for(var o,s=0,l=0,d=n.parent();!o;){if(l++>5e3&&__infLoop&&__infLoop(l))throw new RangeError;if(s++>5e3&&__infLoop&&__infLoop(s))throw new RangeError;(o=_.Z.getItem(d.id))||(d=d.parent())}if(o){n._documentOwner=i,n.setParent(o);var u=c[n.id];O(n);var f=g.default.itemStoreManager.getDefaultItemStore().createItemRaw(u,{documentOwner:i,parent:o,changeType:h.Z.ChangeType.Local});f.getDocumentOwner().unArchiveAndUnDeleteItem(f,h.Z.ChangeType.Local)}}else if("completed"===e.type)r.setComplete(!1,h.Z.ChangeType.Local);else if("uncompleted"===e.type)r.setComplete(!0,h.Z.ChangeType.Local);else if("moved"===e.type){var m=c[n.id];e.moveInfo.isDiffDoc||r.onChangeRemoteParentOrIndex(m)}})),y.Z.endAction(),r((function(e){return e+1})));case 9:case"end":return t.stop()}}}),t)})));return function(){return t.apply(this,arguments)}}();b.push((0,N.jsxs)("div",{className:"flex items-center px-3 pt-6 pb-2 select-none",children:[(0,N.jsx)("div",{className:"flex-1 font-semibold",children:a}),"none"!==e.type&&(0,N.jsx)(j.Z,{text:l+(u?" ".concat(u," items"):" hunk"),mode:"contained",height:24,className:"font-medium text-13",onClick:f})]},"grouph"+t));var m=v&&v.start!==v.end;b.push((0,N.jsx)("div",{className:"mx-3 overflow-hidden rounded group",children:e.diffs.map((function(n,r){var a=n.item,i=a.isNote(),s={paddingLeft:30+(a.levelsDeep.get()-1)*g.default.DisplaySettings.itemIndentSize(),marginTop:a.isNote()?-8:0,paddingRight:16,paddingTop:4,paddingBottom:4,minHeight:18};o[a.id]&&(a.elsNew=o[a.id].diffed);var l=v&&t===v.group&&p.Z.isBetween(n.index,v.start,v.end);return(0,N.jsxs)("div",{className:p.Z.classNames("backupItem2 flex c-bg-light",{"c-selected":l,"transparent-selection":m},!l&&{"c-foreground-faded text-12":i,"c-bg-green":"added"===e.type,"c-bg-red":"removed"===e.type,"c-bg-purple":n.movedTo||"completed"===e.type||"uncompleted"===e.type}),"data-index":n.index,"data-group":e.index,style:s,children:[a.hasPrefix()&&g.default.ElementRenderer.renderPrefix(a,!1,0,0,3,!1,void 0),(0,N.jsx)("span",{children:g.default.ElementRenderer.renderToJSX(a,void 0,{})})]},r)}))},"group"+t))})),(0,N.jsx)("div",{ref:w,onClick:function(e){p.Z.findParent(e.target,"group")||(B.Z.clearSelection(),A({}))},children:b.length?b:(0,N.jsx)("div",{className:"px-3 py-3",children:"No changes in this version compared to the current state"})})}));const I=(0,w.Z)((function(e){var t=e.doc,n=(0,m.useMemo)((function(){return _.Z.getDocumentsArray(!0)}),[]),r=(0,m.useState)(t||n[0]),o=l()(r,2),s=o[0],c=o[1],y=(0,k.Z)(void 0),w=l()(y,3),I=w[0],T=w[1],L=w[2],R=(0,m.useState)(!1),F=l()(R,2),U=F[0],W=F[1],Y=(0,m.useState)(!1),H=l()(Y,2),z=H[0],V=H[1],G=(0,m.useState)(void 0),K=l()(G,2),q=K[0],Q=K[1],X=(0,m.useState)(),J=l()(X,2),$=J[0],ee=J[1],te=(0,m.useState)(!1),ne=l()(te,2),re=ne[0],ae=ne[1],oe=(0,m.useRef)(),ie=(0,m.useState)(0),se=l()(ie,2),le=se[0],ce=se[1],de=(0,m.useRef)({});(0,m.useEffect)((function(){return i()(d().mark((function e(){var t;return d().wrap((function(e){for(var n=0;;){if(n++>5e3&&__infLoop&&__infLoop(n))throw new RangeError;switch(e.prev=e.next){case 0:return e.next=2,g.default.cloudStorage.listDocBackups(s.id);case 2:t=e.sent,ee(t);case 4:case"end":return e.stop()}}}),e)})))(),function(){var e,t=null===(e=oe.current)||void 0===e?void 0:e.item;t&&O(t)}}),[]);var ue=function(){var e=i()(d().mark((function e(t){var r,a;return d().wrap((function(e){for(var o=0;;){if(o++>5e3&&__infLoop&&__infLoop(o))throw new RangeError;switch(e.prev=e.next){case 0:return r=n.find((function(e){return e.id===t})),p.Z.batchRenderUpdates((function(){T(void 0),c(r),ee(void 0)})),e.next=4,g.default.cloudStorage.listDocBackups(r.id);case 4:a=e.sent,ee(a);case 6:case"end":return e.stop()}}}),e)})));return function(t){return e.apply(this,arguments)}}(),he=function(){var e=i()(d().mark((function e(t){var n,r,a,o,c,h,f;return d().wrap((function(e){for(var m=0;;){if(m++>5e3&&__infLoop&&__infLoop(m))throw new RangeError;switch(e.prev=e.next){case 0:if(n=s,t===L.current){e.next=9;break}return p.Z.batchRenderUpdates((function(){Q(void 0),T(t)})),e.next=5,C.Z.downloadBackup(n,t);case 5:r=e.sent,a=r.data,o=r.str,s===n&&L.current===t&&a&&(c=function(e){Q({id:n.id+t,raw:a,items:e,str:o})},h=g.default.crypto.getKeyBySentinel(a.sentinel),f=function(){var e=i()(d().mark((function e(){var t;return d().wrap((function(e){for(var n=0,r=0;;){if(r++>5e3&&__infLoop&&__infLoop(r))throw new RangeError;if(n++>5e3&&__infLoop&&__infLoop(n))throw new RangeError;switch(e.prev=e.next){case 0:return e.next=2,Promise.all(a.items.map((function(e){return g.default.crypto.decryptText(h,e.t,e.id).then((function(t){return e.t=t,e}))})));case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}}),e)})));return function(){return e.apply(this,arguments)}}(),h?f():g.default.menus.promptComplex({title:"Enter password",text:"This document was backed up with an encryption password. Please enter the password to unlock this backup.",fields:[{type:"password"}],validate:function(){var e=i()(d().mark((function e(t){var r,o,i,s;return d().wrap((function(e){for(var c=0,d=0;;){if(d++>5e3&&__infLoop&&__infLoop(d))throw new RangeError;if(c++>5e3&&__infLoop&&__infLoop(c))throw new RangeError;switch(e.prev=e.next){case 0:if(r=l()(t,1),!(o=r[0])){e.next=20;break}return i="backuptemp"+n.id,e.prev=3,e.next=6,g.default.crypto.addKey({name:i,password:o,sentinelSalt:u.Z.getEncryptionUid()});case 6:if(s=e.sent,a.sentinel!==s.sentinel){e.next=11;break}h=s.key,e.next=13;break;case 11:return g.default.crypto.removeKey(i),e.abrupt("return","The password was invalid. Please try again.");case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),console.log(e.t0);case 18:e.next=21;break;case 20:return e.abrupt("return","You must enter a password");case 21:case"end":return e.stop()}}}),e,null,[[3,15]])})));return function(t){return e.apply(this,arguments)}}(),callback:function(e){e&&f()}}));case 9:case"end":return e.stop()}}}),e)})));return function(t){return e.apply(this,arguments)}}(),fe=(0,m.useMemo)((function(){if(q){if(U)return JSON.stringify(q.raw,null,2);var e=b.Z.transformItems(q.items.slice()),t=q.raw.doc,n=e[t.root];oe.current&&(O(oe.current.item),oe.current.backupData.items.forEach((function(e){_.Z.removeTempItemData(e)})),oe.current=void 0);var r=[],o={},i=[],c={},d=[];try{q.items.forEach((function(t){e[t.id]&&_.Z.addTempItemData(e[t.id])}));var u=_.Z.createTempVMLI(n,{changeType:h.Z.ChangeType.AllLocal});return function e(t){var n,a=t.isComplete(),i=null===(n=_.Z.getItem(t.id))||void 0===n?void 0:n.isComplete();!z&&a!==i&&a&&i||(t.isRoot||(r.push(t),o[t.id]=t),t.hasNote()&&e(t.getNote()),t.items.forEach((function(t){return e(t)})))}(u),function(){var e=s.getAllItems({noSelf:!0,includeNotes:!0,includeCompleted:z,includeArchived:!0});z||(e=e.filter((function(e){var t;return!e.isComplete()||!(null!==(t=o[e.id])&&void 0!==t&&t.isComplete())})));var n=(0,f.Bm)(r,e,{comparator:function(e,t){return e.id===t.id}}),u={diffs:[],index:0,startIndex:0};d.push(u);var h=function(e,t){u.diffs.length>0&&(e!==u.type||JSON.stringify(t)!==JSON.stringify(u.moveInfo))&&(u={diffs:[],index:d.length,startIndex:i.length},d.push(u)),u.type=e,u.moveInfo=t};n.forEach((function(e){e.value.forEach((function(n){var r=["none"],s=o[n.id],d=_.Z.getItem(n.id),p={item:s||d,itemRevision:s,itemExisting:d,index:i.length},m=!1;if(d&&s){var g=d.getDocumentOwner().id!==t.id;(g||d.parent().id!==s.parent().id||d.index!==s.index)&&(r=["moved",{fromParent:s.parent().getDisplayText({showMarkdown:!1,noPrefix:!0}),toParent:d.parent().getDisplayText({showMarkdown:!1,noPrefix:!0}),isDiffDoc:g}],m=!0,!g&&e.removed||(p.movedFrom={parent:s.parent().id,index:s.index},p.movedTo={parent:d.parent().id,index:d.index}))}if(!m)if(e.removed&&!d)r=["removed"],p.removed=!0;else if(e.added&&!s||!d||d.isDeleted())r=["added"],p.added=!0;else if(!e.added&&!e.removed)if(d.isComplete()&&!s.isComplete())r=["completed"],p.completed=!0;else if(!d.isComplete()&&s.isComplete())r=["uncompleted"],p.uncompleted=!0;else{var y=d.getDisplayText({showMarkdown:!1}),v=s.getDisplayText({showMarkdown:!1});if(v!==y){r=["text"];var A=s.elsNew,x=(0,f.Kx)(v,y),C=0,b={item:s};x.forEach((function(e){var t=e.value;if((e.added||e.removed)&&!c[n.id]){var r=A;A=s.elsNew=s.elsNew.clone(),c[n.id]={raw:r,diffed:A}}if(e.added){var o=M.Z.getSelection(b,C,C,!0,b.item.elsNew.clone()),i=o.startElement,d=o.startOffset,u=o.startIndex;if(i){var h,f=i.split(b,C-d),p=l()(f,2),m=p[0],g=p[1],y=[m,new E.Z(t,{diffAdded:!0}),g].filter((function(e){return!!e}));(h=A.elements).splice.apply(h,[u,1].concat(a()(y)))}else A.elements.push(new E.Z(t,{diffAdded:!0}))}else e.removed&&A.insert(C,e.count,{diffRemoved:!0});C+=e.count})),p.text=x}}h.apply(void 0,a()(r)),(re||Object.keys(p).length>4)&&(u.diffs.push(p),i.push(p))}))}))}(),d=d.filter((function(e){return e.diffs.length>0})),oe.current={backupData:q,item:u,itemDiffs:i,itemEls:c,diffGroups:d,docInfo:t,itemsCache:e},oe.current}catch(p){console.log(p)}}return null}),[null===q||void 0===q?void 0:q.id,re,U,z,le]);return(0,N.jsxs)(A.Z,{id:"modalBackups",width:1e3,height:900,sidebarWidth:200,modalID:h.Z.Modals.Backups,children:[(0,N.jsxs)("div",{className:"select-none",children:[(0,N.jsx)("div",{className:"flex px-3 pb-2",children:(0,N.jsx)(x.Z,{className:"flex-1",style:{height:32},defaultValue:null===t||void 0===t?void 0:t.id,onChange:ue,children:n.map((function(e){return(0,N.jsx)("option",{value:e.id,children:e.text.get()},e.id)}))})}),s&&(0,N.jsx)(D.Z,{noInitialSelected:!0,children:$?$.length?$.map((function(e){var t=+e,n=new Date(t);return(0,N.jsx)(D.G,{onClick:function(){return he(t)},children:n.toString("MMMM d, hh:mm tt")},t)})):(0,N.jsx)(D.G,{type:"noselect",children:"No backups..."}):(0,N.jsx)(D.G,{type:"noselect",children:"Loading backups..."})})]},"sidebar"),(0,N.jsxs)("div",{className:"flexbox flexvert",children:[(0,N.jsxs)("div",{className:"flex py-2 exportHeader",children:[(0,N.jsx)(v.Z,{checked:U,onChange:W,children:"Show raw"}),(0,N.jsx)(v.Z,{checked:re,onChange:ae,children:"Show all"}),(0,N.jsx)(v.Z,{checked:z,onChange:V,children:"Show completed"}),(0,N.jsx)(j.Z,{text:"SAVE",mode:"contained",height:32,className:"ml-6 font-bold",onClick:function(){var e,t=new Date(L.current).toString("MMMM d, hh:mm tt");p.Z.saveFile(q.str,"moodo - ".concat((null===(e=s.text)||void 0===e?void 0:e.get())||""," - ").concat(t,".json"))},disabled:!q})]}),(0,N.jsx)("div",{className:"pb-4 exportedContent f1 scrollable c-border",onCopy:function(e){var t=B.Z.getSelectionRange();if(t.isValid()){var n=p.Z.findParent(t.getStartContainer(),"backupItem2"),r=p.Z.findParent(t.getEndContainer(),"backupItem2"),a=+n.getAttribute("data-index"),o=+r.getAttribute("data-index");if(a>=0&&o>=0){var i=oe.current.itemDiffs.slice(a,o+1).map((function(e){return e.item}));i.forEach((function(e){oe.current.itemEls[e.id]&&(e.elsNew=oe.current.itemEls[e.id].raw)})),P.Z.saveToClipboard(i,e.clipboardData),p.Z.preventDefault(e)}}},children:fe?p.Z.isString(fe)?fe:(0,N.jsx)(S,{processedBackup:fe,setForceNumber:ce,showCompleted:z,refDidBackups:de}):I?(0,N.jsx)(Z.Z,{center:!0,children:"Loading..."}):(0,N.jsx)("div",{className:"flex flex-col items-center justify-center h-full",children:(0,N.jsx)("div",{children:"Select a time to view the backup."})})})]},"content")]})}))},72838:(e,t,n)=>{n.r(t),n.d(t,{default:()=>D});var r=n(48926),a=n.n(r),o=n(63038),i=n.n(o),s=n(87757),l=n.n(s),c=n(22060),d=n(11780),u=n(19955),h=n(5093),f=n(12402),p=n(46128),m=n(67117),g=n(15467),y=n(27134),v=n(45989),A=3,x=3,C=4,_=5,b=6,k=7,w=8,E=9,j=10;const D=(0,y.Z)((function(e){var t=e.id,r=e.isUpdate,o=e.planName,s=e.planID,y=e.frequency,D=(0,u.useState)(),Z=i()(D,2),P=Z[0],B=Z[1],M=(0,u.useState)(),N=i()(M,2),O=N[0],S=N[1],I=(0,u.useState)(),T=i()(I,2),L=T[0],R=T[1],F=(0,u.useState)(),U=i()(F,2),W=U[0],Y=U[1],H=(0,u.useRef)();!s&&o&&(s="Lifetime"!==o&&c.Z.PremiumPlans[o][y]),(0,u.useEffect)((function(){a()(l().mark((function e(){var t,r,a,o,s,c;return l().wrap((function(e){for(var l=0;;){if(l++>5e3&&__infLoop&&__infLoop(l))throw new RangeError;switch(e.prev=e.next){case 0:return e.next=2,Promise.all([g.Z.getBillingToken(),n.e(372).then(n.t.bind(n,34977,23))]);case 2:r=e.sent,a=i()(r,2),o=a[0],s=a[1],null!==(t=o.value)&&void 0!==t&&t.token?s.create({authorization:o.value.token,container:"#dropin-container",dataCollector:!0,paypal:{flow:"vault"}},(function(e,t){Y(t)})):(B(c=A),d.Z.reportError(new Error("Client hit error in billing: "+c)),h.default.billingManager.setLastSignupError(c),d.Z.sendEvent("Billing","SignupError_"+c));case 7:case"end":return e.stop()}}}),e)})))()}),[]);var z=function(){return H.current.close()};return(0,v.jsx)(m.Z,{id:"modalBilling",width:400,minHeight:200,scrollable:!1,modalID:c.Z.Modals.Billing,ref:H,children:(0,v.jsxs)("div",{className:"c-bg-white c-foreground-black",children:[!P&&!O&&(0,v.jsx)("div",{id:"dropin-container"}),L&&(0,v.jsx)("div",{id:"billingSignupError",dangerouslySetInnerHTML:{__html:L}}),P&&(0,v.jsx)("div",{id:"billingError",children:"There was an error loading our payment system. Please contact support@moo.do with code "+P+" or try again in a few minutes."}),W?(0,v.jsxs)("div",{style:{textAlign:"right",paddingRight:16},children:[!P&&!O&&(0,v.jsx)(f.Z,{primary:!0,raised:!0,onClick:function(e,n){return W.requestPaymentMethod(function(){var e=a()(l().mark((function e(a,i){var u,f;return l().wrap((function(e){for(var l=0;;){if(l++>5e3&&__infLoop&&__infLoop(l))throw new RangeError;switch(e.prev=e.next){case 0:if(!a){e.next=4;break}R("No payment method available"),e.next=16;break;case 4:if(!i){e.next=16;break}if("Lifetime"!==o){e.next=12;break}return f=i.deviceData,e.next=9,g.Z.oneTimePurchase({nonce:i.nonce,type:o,deviceData:f});case 9:u=e.sent,e.next=15;break;case 12:return e.next=14,g.Z.updateOrPurchasePlan({nonce:i.nonce,planID:s});case 14:u=e.sent;case 15:u.error||u.errorCode||u.braintreeError||u.braintreeErrorCode?(void 0!==u.errorCode?function(e){var t=e.code,n=e.braintreeError,r=e.braintreeErrorCode,a=e.data;if("Declined"===n)S(r),R("The transaction was declined. Please try again with a different payment method.");else if("gateway_rejected"===n)S(r),R("This card has been tried too many times. Please wait 30 minutes or contact support@moo.do for help.");else switch(t){case c.Z.PrivateAPIErrorCodes.UnauthorizedUser:S(C),R(void 0);break;case c.Z.PrivateAPIErrorCodes.InvalidParameter:S(_),R(void 0);break;case c.Z.PrivateAPIErrorCodes.MissingParameter:S(b),R(void 0);break;case c.Z.PrivateAPIErrorCodes.BraintreePaypalBlock:S(w),R(a);break;case c.Z.PrivateAPIErrorCodes.BraintreeInvalidCCN:S(E),R(a);break;case c.Z.PrivateAPIErrorCodes.BraintreeUnknown:S(k),R(a);break;case c.Z.PrivateAPIErrorCodes.AlreadyPremium:S(j),R('Our database shows you as already being a Premium member. Please contact <a href="mailto:support@moo.do">support@moo.do</a>. Sorry for the trouble!');break;default:S(x),R(void 0)}}({code:u.errorCode,braintreeError:u.braintreeError,braintreeErrorCode:u.braintreeErrorCode}):R(u.error),d.Z.sendEvent("Billing","PremiumSignupFAILURE")):(h.default.menus.isModalOpen(t)&&z(),r?h.default.menus.alert({text:"Your payment information has been updated.",actionText:"OKAY"}):h.default.menus.alert({text:"Thank you for signing up for Moo.do Premium!",actionText:"OKAY"}),d.Z.sendEvent("Billing","PremiumSignupSUCCESS"));case 16:n();case 17:case"end":return e.stop()}}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),!0},children:"SUBMIT"}),P&&(0,v.jsx)(f.Z,{primary:!0,onClick:z,children:"OK"})]},"buttons"):(0,v.jsx)(p.Z,{center:!0,children:"Loading billing system..."})]},"content")})}))},96113:(e,t,n)=>{n.r(t),n.d(t,{default:()=>P});var r=n(48926),a=n.n(r),o=n(63038),i=n.n(o),s=n(59713),l=n.n(s),c=n(87757),d=n.n(c),u=n(37149),h=n(22060),f=n(11780),p=n(19955),m=n(5093),g=n(67117),y=n(87526),v=n(87905),A=n(62944),x=n(83815);var C=n(27134),_=n(12402),b=n(16804),k=n(82496),w=n(49554),E=n(24856),j=n(45989),D=(0,p.createContext)({selectedItems:{},passwordNames:[],itemTexts:{},setSelectedItems:void 0}),Z=function(e){var t=e.item,n=(0,p.useContext)(D),r=n.selectedItems,a=n.passwordNames,o=n.itemTexts,i=n.setSelectedItems;return(0,j.jsxs)(w.C3,{children:[(0,j.jsx)(w.zt,{className:f.Z.classNames("min-w-0 py-2 truncate",f.Z.containsInvalidCharacter(t.text)?"c-bg-red":"c-bg-green"),children:t.text}),a.map((function(e){var n,a=null===o||void 0===o||null===(n=o[e])||void 0===n?void 0:n[t.id];return(0,j.jsx)(w.zt,{className:f.Z.classNames("min-w-0 py-2 truncate flex",f.Z.containsInvalidCharacter(a)?"c-bg-red":"c-bg-green"),children:(0,j.jsx)(b.Z,{className:"flex flex-1 truncate",classNameText:"truncate flex-1",rightAlign:!0,checked:!!r[e+"/"+t.id],onChange:function(n){return i(Object.assign({},r,l()({},e+"/"+t.id,n)))},children:a})},e)}))]})};const P=(0,C.Z)((function(e){var t,n,r=e.docProblems,o=(0,p.useState)(null===(t=r[0])||void 0===t?void 0:t.doc.id),s=i()(o,2),c=s[0],C=s[1],P=(0,x.Z)({}),B=i()(P,3),M=B[0],N=B[1],O=B[2],S=(0,x.Z)({}),I=i()(S,3),T=I[0],L=I[1],R=(I[2],(0,p.useState)(!0)),F=i()(R,2),U=F[0],W=F[1],Y=(0,p.useState)(!0),H=i()(Y,2),z=H[0],V=H[1],G=(0,p.useRef)(),K=(0,p.useMemo)((function(){var e={Global:m.default.crypto.getGlobalKey()},t=m.default.crypto.getKey(h.Z.EncryptionKeys.UserPassword);return t&&(e.User=t),e}),[]),q=Object.assign({},K,M),Q=Object.keys(q),X=r.find((function(e){return e.doc.id===c})),J=null===X||void 0===X?void 0:X.problems,$=function(e,t){var n=(0,x.Z)(),r=i()(n,3),a=r[0],o=r[1],s=r[2],l=(0,p.useState)(),c=i()(l,2),d=c[0],u=c[1],h=(0,A.Z)(t),f=!h!==!t||h&&t&&(h.length!==t.length||h.some((function(e,n){return e!==t[n]})));return(0,p.useEffect)((function(){var t=!1,n=e();return Promise.resolve(n).then((function(e){t||o(e)})).catch((function(e){t||u(e)})),function(){t=!0}}),t),[a,f,s,d]}((function(){var e=ne.current,t=Object.assign({},null===e||void 0===e?void 0:e.itemTexts),n=Object.assign({},null===e||void 0===e?void 0:e.itemsWithFix),r=!1;return X&&(r=Q.some((function(e){return X.problems.some((function(n){return!t[e]||!t[e][n.id]}))}))),r?new Promise((function(e){requestAnimationFrame(a()(d().mark((function r(){return d().wrap((function(r){for(var o=0;;){if(o++>5e3&&__infLoop&&__infLoop(o))throw new RangeError;switch(r.prev=r.next){case 0:return r.next=2,Promise.all(Q.map(function(){var e=a()(d().mark((function e(r){var o;return d().wrap((function(e){for(var i=0,s=0;;){if(i++>5e3&&__infLoop&&__infLoop(i))throw new RangeError;if(s++>5e3&&__infLoop&&__infLoop(s))throw new RangeError;switch(e.prev=e.next){case 0:return t[r]||(t[r]={}),o=q[r],e.next=4,Promise.all(X.problems.map(function(){var e=a()(d().mark((function e(a){var i;return d().wrap((function(e){for(var s=0,l=0,c=0;;){if(s++>5e3&&__infLoop&&__infLoop(s))throw new RangeError;if(l++>5e3&&__infLoop&&__infLoop(l))throw new RangeError;if(c++>5e3&&__infLoop&&__infLoop(c))throw new RangeError;switch(e.prev=e.next){case 0:if(t[r][a.id]){e.next=6;break}return e.next=3,v.Z.decryptItem({id:a.id,text:a.encryptedText},m.default.crypto,o);case 3:i=e.sent,t[r][a.id]=i.text,f.Z.containsInvalidCharacter(i.text)||(n[i.id]=r);case 6:case"end":return e.stop()}}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:case"end":return e.stop()}}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:e({itemTexts:t,itemsWithFix:n});case 3:case"end":return r.stop()}}}),r)}))))})):{itemTexts:t,itemsWithFix:n}}),[c,z,Q.join("")]),ee=i()($,3),te=ee[0],ne=(ee[1],ee[2]),re=te||{},ae=re.itemTexts,oe=re.itemsWithFix;!J||U&&!z||(J=J.filter((function(e){return(U||!e.isDeleted)&&(!z||(null===oe||void 0===oe?void 0:oe[e.id]))}))),(0,p.useEffect)((function(){if(z){var e={};J.forEach((function(t){var n=oe[t.id];n&&(e[n+"/"+t.id]=!0)})),L(e)}else L({})}),[c,z,J.length]);var ie=Array(Q.length+1).fill({padded:!0,flex:!0}),se=(0,p.useCallback)((function(){m.default.menus.prompt({title:"Enter encryption password",cb:function(){var e=a()(d().mark((function e(t){var n,r,a;return d().wrap((function(e){for(var o=0;;){if(o++>5e3&&__infLoop&&__infLoop(o))throw new RangeError;switch(e.prev=e.next){case 0:return n=Object.keys(O.current).length+1,r="Password "+n,e.next=4,m.default.crypto.createKey({name:r,password:t,sentinelSalt:u.Z.getEncryptionUid()});case 4:a=e.sent,N((function(e){return Object.assign({},e,l()({},r,a.key))}));case 6:case"end":return e.stop()}}}),e)})));return function(t){return e.apply(this,arguments)}}()})}),[]),le=Object.values(T).filter((function(e){return e})).length,ce=(0,p.useCallback)((function(e){return(0,j.jsx)(Z,{item:e})}),[]);return(0,j.jsxs)(g.Z,{id:"modalCheckEncryption",sidebarWidth:200,width:"90%",height:"90%",padded:!1,modalID:h.Z.Modals.CheckEncryption,children:[(0,j.jsx)("div",{children:(0,j.jsxs)(k.Z,{inset:!0,children:[(0,j.jsx)(k.G,{type:"header",children:"SELECT DOCUMENT"}),r.map((function(e){var t,n=e.doc;return(0,j.jsx)(k.G,{className:"truncate",onClick:(t=n.id,function(){G.current.scrollTo(0,"auto"),C(t)}),children:n.text.get()},n.id)}))]})},"sidebar"),(0,j.jsx)("div",{children:(0,j.jsxs)("div",{className:"box-border flex flex-col h-full px-4 pt-4",children:[(0,j.jsxs)("div",{className:"flex items-center justify-between pb-6",children:[(0,j.jsxs)("div",{className:"flex-1 pr-12",children:[(0,j.jsxs)("div",{className:"text-2xl font-bold",children:["Fix encryption errors ",(null===(n=J)||void 0===n?void 0:n.length)>0?"(".concat(J.length,")"):""]}),(0,j.jsx)("div",{className:"max-w-2xl pt-1 text-sm c-foreground-faded",children:"Please select the text that looks correct to fix the errors. If nothing looks right, and you had changed your encryption password in the past, please try your old password."})]}),(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)(b.Z,{className:"mr-4",checked:z,onChange:function(e){return V(e)},children:"Show Only Fixable"}),(0,j.jsx)(b.Z,{className:"mr-4",checked:U,onChange:function(e){return W(e)},children:"Show Deleted Items"}),(0,j.jsx)(_.Z,{raised:!0,className:"mr-4",onClick:se,children:"Try another password"}),(0,j.jsxs)(_.Z,{raised:!0,primary:!0,enabled:le>0,onClick:function(){var e=Object.keys(T).filter((function(e){return T[e]})),t={},n=e.map((function(e){var n=e.split("/"),r=i()(n,2),a=r[0],o=r[1],s=ae[a][o];return t[o]=!0,{docID:X.doc.id,id:o,text:s}}));y.Z.fixEncryptionProblems(n),X.problems=X.problems.filter((function(e){return!t[e.id]})),L({})},children:["Fix selected items",le?" (".concat(le,")"):""]})]})]}),(0,j.jsxs)(w.eM,{columnOptions:ie,className:"flex flex-col flex-1 overflow-hidden",children:[(0,j.jsxs)(w.C3,{header:!0,className:"text-lg font-medium",children:[(0,j.jsx)(w.zt,{className:"py-2",children:"Current"}),Q.map((function(e,t){return(0,j.jsx)(w.zt,{className:"py-2",children:(0,j.jsx)(b.Z,{className:"flex items-center flex-1 truncate",classNameText:"flex-1",rightAlign:!0,checked:Object.keys(T).some((function(t){return t.startsWith(e)})),onChange:(n=e,function(e){J.forEach((function(t){return T[n+"/"+t.id]=e})),L(Object.assign({},T))}),children:e})},e);var n}))]}),(0,j.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,j.jsx)(D.Provider,{value:{selectedItems:T,passwordNames:Q,itemTexts:ae,setSelectedItems:L},children:(0,j.jsx)(E.Z,{items:J||[],renderItem:ce,defaultItemSize:38,shouldMemoize:!0,overscan:1e3,fixedSize:!0,ref:G})})})]})]})},"content")]})}))},98138:(e,t,n)=>{n.r(t),n.d(t,{default:()=>y});var r=n(59713),a=n.n(r),o=n(6479),i=n.n(o),s=n(22060),l=n(19955),c=n(12402),d=n(67117),u=n(27134),h=n(70272),f=n(45989),p=["text","textYes","textNo","noIsCancel","isHTML"];function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=0,n=1;n<arguments.length;n++){if(t++>5e3&&__infLoop&&__infLoop(t))throw new RangeError;var r=null!=arguments[n]?arguments[n]:{};n%2?m(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const y=(0,u.Z)((function(e){var t,n=e.text,r=e.textYes,o=e.textNo,u=e.noIsCancel,m=e.isHTML,y=i()(e,p),v=(0,l.useRef)(),A=function(){v.current.close(!0)},x=function(){v.current.close(!1)};return(0,h.K7)((t={},a()(t,s.Z.KeyCode.Escape,x),a()(t,s.Z.KeyCode.N,x),a()(t,s.Z.KeyCode.Enter,A),a()(t,s.Z.KeyCode.Y,A),t),[]),(0,f.jsxs)(d.Z,g(g({},y),{},{id:"modalConfirm",small:!0,backdropClose:!1,scrollable:!1,closeButton:!1,modalID:s.Z.Modals.Confirm,ref:v,children:[(0,f.jsx)("div",{children:m?(0,f.jsx)("div",{dangerouslySetInnerHTML:{__html:n}}):n},"content"),(0,f.jsxs)("div",{children:[(0,f.jsx)(c.Z,{primary:!0,width:100,onClick:A,children:r||"YES"}),(0,f.jsx)(c.Z,{width:100,cancel:u,onClick:x,children:o||"NO"})]},"buttons")]}))}))},69298:(e,t,n)=>{n.r(t),n.d(t,{default:()=>y});var r=n(59713),a=n.n(r),o=n(6479),i=n.n(o),s=n(22060),l=n(19955),c=n(67117),d=n(27134),u=n(68805),h=n(70272),f=n(45989),p=["text","buttons"];function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=0,n=1;n<arguments.length;n++){if(t++>5e3&&__infLoop&&__infLoop(t))throw new RangeError;var r=null!=arguments[n]?arguments[n]:{};n%2?m(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const y=(0,d.Z)((function(e){var t=e.text,n=e.buttons,r=i()(e,p),a=(0,l.useRef)(),o=function(e){return function(){e.action(),a.current.close(e.text)}},d={};return n.forEach((function(e){var t=e.hotkey;t&&(d[t.keyCode]=o(e))})),(0,h.K7)(d,[]),(0,f.jsxs)(c.Z,g(g({},r),{},{id:"modalConfirm",small:!0,width:480,backdropClose:!1,scrollable:!1,closeButton:!1,modalID:s.Z.Modals.ConfirmComplex,ref:a,children:[(0,f.jsx)("div",{children:t},"content"),(0,f.jsx)("div",{className:"flex justify-center",children:n.map((function(e){return(0,f.jsx)(u.Z,{mode:"contained",className:"mx-2 font-bold",padding:"px-3",primary:e.primary,cancel:e.cancel,text:e.text+(e.hotkey?" (".concat(e.hotkey.text,")"):""),onClick:o(e)},e.text)}))},"buttons")]}))}))},18810:(e,t,n)=>{n.r(t),n.d(t,{default:()=>C});var r=n(34575),a=n.n(r),o=n(93913),i=n.n(o),s=n(2205),l=n.n(s),c=n(78585),d=n.n(c),u=n(29754),h=n.n(u),f=n(22060),p=n(11780),m=(n(19955),n(5093)),g=n(12402),y=n(67117),v=n(36385),A=n(45989);function x(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d()(this,n)}}const C=function(e){l()(n,e);var t=x(n);function n(){return a()(this,n),t.apply(this,arguments)}return i()(n,[{key:"onClickCancel",value:function(){this.props.onCancel(),m.default.menus.closeModal(f.Z.Modals.ConfirmEncrypt)}},{key:"onClickDownload",value:function(){p.Z.saveFile(this.props.password,"moodo encryption password.txt")}},{key:"onClickYes",value:function(){this.props.onYes(),m.default.menus.closeModal(f.Z.Modals.ConfirmEncrypt)}},{key:"render",value:function(){return(0,A.jsxs)(y.Z,{id:"modalConfirmEncrypt",closeButton:!1,small:!0,backdropClose:!1,scrollable:!1,modalID:f.Z.Modals.ConfirmEncrypt,children:[(0,A.jsxs)("div",{children:[(0,A.jsx)("p",{children:"It is very important that you remember this password."}),(0,A.jsx)("p",{style:{color:"red",fontWeight:"bold"},children:"It cannot be recovered."}),(0,A.jsx)("p",{children:"Are you sure you want to set an encryption password?"})]},"content"),(0,A.jsxs)("div",{children:[(0,A.jsx)(g.Z,{raised:!0,cancel:!0,onClick:this.onClickCancel,children:"Cancel"}),(0,A.jsx)(g.Z,{raised:!0,marginLeft:16,onClick:this.onClickDownload,children:"Download Password"}),(0,A.jsx)(g.Z,{raised:!0,primary:!0,marginLeft:16,onClick:this.onClickYes,children:"Yes"})]},"buttons")]})}}]),n}(v.a)},94346:(e,t,n)=>{n.r(t),n.d(t,{default:()=>A});var r=n(59713),a=n.n(r),o=n(48926),i=n.n(o),s=n(87757),l=n.n(s),c=n(22060),d=n(19955),u=n(5093),h=n(12402),f=n(67117),p=n(19617),m=n(27134),g=n(45989);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=0,n=1;n<arguments.length;n++){if(t++>5e3&&__infLoop&&__infLoop(t))throw new RangeError;var r=null!=arguments[n]?arguments[n]:{};n%2?y(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const A=(0,m.Z)((function(e){var t=(0,d.useRef)(),n=(0,d.useRef)();return(0,g.jsxs)(f.Z,v(v({},e),{},{id:"modalDeleteAccount",scrollable:!1,width:600,modalID:c.Z.Modals.DeleteAccount,ref:n,children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("div",{className:"c-foreground-medium",children:"It would be very helpful if you could describe how Moo.do could be more useful to you. Your feedback will help us improve Moo.do for you and others. Thanks!"}),(0,g.jsx)(p.Z,{ref:t,focused:!0})]},"content"),(0,g.jsxs)("div",{style:{textAlign:"right"},children:[(0,g.jsx)(h.Z,{width:100,onClick:function(){n.current.close(!1)},children:"CANCEL"}),(0,g.jsx)(h.Z,{primary:!0,width:100,onClick:function(e,r){return i()(l().mark((function e(){var a;return l().wrap((function(e){for(var o=0;;){if(o++>5e3&&__infLoop&&__infLoop(o))throw new RangeError;switch(e.prev=e.next){case 0:if("Moo.do Deleted Account",!(a=t.current.getValue())){e.next=5;break}return e.next=5,u.default.sendFeedback("Moo.do Deleted Account",a);case 5:r(),n.current.close(!0);case 7:case"end":return e.stop()}}}),e)})))(),!0},children:"DELETE"})]},"buttons")]}))}))},76684:(e,t,n)=>{n.r(t),n.d(t,{default:()=>C});var r=n(63038),a=n.n(r),o=n(22060),i=n(11780),s=n(86557),l=n(19955),c=n(43351),d=n(72259),u=n(85906),h=n(27134),f=n(78966),p=n(12402),m=n(16804),g=n(82496),y=n(67117),v=n(28860),A=n(45989),x={html:"html",json:"json",text:"txt",opml:"json",markdown:"md"};const C=(0,h.Z)((function(){var e=(0,l.useRef)(),t=(0,f.Z)(d.Z.documentsArray),n=a()(t,1)[0],r=(0,l.useState)(!1),h=a()(r,2),C=h[0],_=h[1],b=(0,l.useState)(!0),k=a()(b,2),w=k[0],E=k[1],j=(0,l.useState)(!0),D=a()(j,2),Z=D[0],P=D[1],B=(0,l.useState)("json"),M=a()(B,2),N=M[0],O=M[1],S=(0,l.useState)(n[0]),I=a()(S,2),T=I[0],L=I[1],R=(0,l.useState)(!0),F=a()(R,2),U=F[0],W=F[1],Y=(0,l.useState)(!0),H=a()(Y,2),z=H[0],V=H[1],G=(0,l.useState)(),K=a()(G,2),q=K[0],Q=K[1];(0,l.useEffect)((function(){!function(e,t,n,r){"html"===t?r(e.toHTML(n)):"text"===t?r(e.toPlaintext(n)):"opml"===t?r(e.toOPML(n)):"markdown"===t?r(u.Z.toMarkdown(e.getRootItem(),Object.assign({indentAsHeaders:!0},n))):"json"===t&&e.toJSON(n).then((function(e){r(e)}))}(T,N,{includeArchived:C,includeNotes:w,includePrefixes:Z,includeAttributes:U,includeCompleted:z},Q)}),[N,T,C,w,Z,U,z]);var X=i.Z.classNames("exportedContent p-2",N),J="html"!==N?i.Z.escape(q):q,$=function(e){return function(){return O(e)}};return(0,A.jsxs)(y.Z,{id:"modalExport",width:900,height:900,sidebarWidth:240,modalID:o.Z.Modals.ExportData,children:[(0,A.jsx)("div",{children:(0,A.jsxs)(g.Z,{inset:!0,children:[(0,A.jsx)(g.G,{type:"header",children:"SELECT DOCUMENT"}),(0,A.jsx)(g.G,{type:"noselect",children:(0,A.jsx)(c.Z,{style:{height:32},onChange:function(e){var t=n.find((function(t){return t.id===e}));L(t)},children:n.map((function(e){return(0,A.jsx)("option",{value:e.id,children:e.text.get()},e.id)}))})}),(0,A.jsx)(g.G,{type:"header",children:"DATA TYPE"}),(0,A.jsx)(g.G,{onClick:$("json"),children:"Moo.do Backup (JSON)"}),(0,A.jsx)(g.G,{onClick:$("html"),children:"HTML"}),(0,A.jsx)(g.G,{onClick:$("opml"),children:"OPML"}),(0,A.jsx)(g.G,{onClick:$("text"),children:"Plain Text"}),(0,A.jsx)(g.G,{onClick:$("markdown"),children:"Markdown"}),(0,A.jsx)(g.G,{type:"header",children:"OPTIONS"}),(0,A.jsx)(g.G,{type:"noselect",children:(0,A.jsx)(m.Z,{checked:Z,onChange:P,children:"Include Prefixes"})}),(0,A.jsx)(g.G,{type:"noselect",children:(0,A.jsx)(m.Z,{checked:w,onChange:E,children:"Include Notes"})}),(0,A.jsx)(g.G,{type:"noselect",children:(0,A.jsx)(m.Z,{checked:z,onChange:V,children:"Include Completed Items"})}),(0,A.jsx)(g.G,{type:"noselect",children:(0,A.jsx)(m.Z,{checked:C,onChange:_,children:"Include Archived Items"})}),"markdown"===N&&(0,A.jsx)(g.G,{type:"noselect",children:(0,A.jsx)(m.Z,{checked:U,onChange:W,children:"Include Attributes"})}),(0,A.jsx)(g.G,{type:"header",children:"EXPORT"}),!s.Z.app&&(0,A.jsx)(g.G,{type:"noselect",height:36,children:(0,A.jsx)(p.Z,{marginLeft:-16,onClick:function(){var e=open("url"),t=q;"opml"===N&&(t=i.Z.escape(t)+"   "),e.document.write(t)},children:"OPEN IN TAB"})}),(0,A.jsx)(g.G,{type:"noselect",height:36,children:(0,A.jsx)(p.Z,{marginLeft:-16,onClick:function(){var t=v.Z.createSelectionRange();t.selectNodeContents(e.current),v.Z.setSelectionRange(t)},children:"SELECT"})}),(0,A.jsx)(g.G,{type:"noselect",height:36,children:(0,A.jsx)(p.Z,{marginLeft:-16,onClick:function(){var e=x[N];try{var t,n=null===(t=T.text)||void 0===t?void 0:t.get();i.Z.saveFile(q,"moodo".concat(n?" - ".concat(n):"",".")+e)}catch(r){i.Z.reportError(r)}},children:"SAVE"})})]})},"sidebar"),(0,A.jsx)("div",{children:(0,A.jsx)("div",{className:X,onKeyDown:function(e){var t=s.Z.getKeyCode(e.nativeEvent);(!(s.Z.mac&&e.metaKey||!s.Z.mac&&e.ctrlKey)||t!==o.Z.KeyCode.C&&t!==o.Z.KeyCode.A&&t!==o.Z.KeyCode.F)&&i.Z.preventAndStop(e)},contentEditable:!0,dangerouslySetInnerHTML:{__html:J},ref:e})},"content")]})}))},30961:(e,t,n)=>{n.r(t),n.d(t,{default:()=>_});var r=n(34575),a=n.n(r),o=n(93913),i=n.n(o),s=n(2205),l=n.n(s),c=n(78585),d=n.n(c),u=n(29754),h=n.n(u),f=n(22060),p=n(11780),m=(n(19955),n(5093)),g=n(12402),y=n(67117),v=n(19617),A=n(36385),x=n(45989);function C(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d()(this,n)}}const _=function(e){l()(n,e);var t=C(n);function n(){return a()(this,n),t.apply(this,arguments)}return i()(n,[{key:"onClickTwitter",value:function(e){m.default.openUrl("https://www.twitter.com/MooDoApp",e),p.Z.sendEvent("Menu","FeedbackTwitter")}},{key:"onClickFacebook",value:function(e){m.default.openUrl("https://www.facebook.com/MooDoApp",e),p.Z.sendEvent("Menu","FeedbackFacebook")}},{key:"onClickForum",value:function(e){m.default.openUrl("https://forum.legendapp.com",e)}},{key:"onClickCancel",value:function(e){m.default.menus.closeModal(f.Z.Modals.ReportBug)}},{key:"onClickSend",value:function(e){var t=this.refs.description.getValue();if(t&&t.length>2){m.default.sendFeedback("Moo.do Feedback",t),m.default.menus.closeModal(f.Z.Modals.ReportBug),m.default.toasts.pushMessage({text:"Thanks for taking the time to send us feedback!"}),p.Z.sendEvent("Menu","SendFeedback")}}},{key:"render",value:function(){return(0,x.jsx)(y.Z,{id:"reportBug",modalID:f.Z.Modals.ReportBug,ref:"modal",width:450,height:500,children:(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"py-4 leading-tight",children:"The best way to communicate with us and other Moo.do users is in the forum:"}),(0,x.jsx)("div",{className:"flex justify-center",children:(0,x.jsx)(g.Z,{raised:!0,primary:!0,onClick:this.onClickForum,children:"FORUM"})}),(0,x.jsx)("div",{className:"pt-6",children:"Talk to us on your favorite social network."}),(0,x.jsxs)("div",{className:"flex justify-center feedbackIcons",children:[(0,x.jsx)(g.Z,{width:50,height:50,icon:"icon-twitter",tooltip:"@MooDoApp",onClick:this.onClickTwitter}),(0,x.jsx)(g.Z,{width:50,height:50,marginLeft:16,icon:"icon-facebook",tooltip:"MooDoApp",onClick:this.onClickFacebook})]}),(0,x.jsx)("div",{className:"pt-4 pb-2",children:"Or send us a message directly."}),(0,x.jsx)(v.Z,{focused:!0,id:"bugDescription",height:150,ref:"description",margin:0}),(0,x.jsxs)("div",{className:"flex justify-center pt-4",children:[(0,x.jsx)(g.Z,{raised:!0,onClick:this.onClickCancel,children:"CANCEL"}),(0,x.jsx)(g.Z,{raised:!0,primary:!0,marginLeft:16,onClick:this.onClickSend,children:"SEND"})]})]},"content")})}}]),n}(A.a)},29e3:(e,t,n)=>{n.r(t),n.d(t,{default:()=>k});var r=n(34575),a=n.n(r),o=n(93913),i=n.n(o),s=n(2205),l=n.n(s),c=n(78585),d=n.n(c),u=n(29754),h=n.n(u),f=n(11780),p=n(22060),m=n(5093),g=n(19955),y=n(36385),v=n(67117),A=n(12402),x=n(82496),C=n(19617),_=n(45989);function b(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d()(this,n)}}const k=function(e){l()(r,e);var t=b(r);function r(){return a()(this,r),t.apply(this,arguments)}return i()(r,[{key:"init",value:function(){var e=this,t=this.props.importer;n.e(36).then(n.bind(n,94454)).then((function(t){var n=t.default;e.importer=new n,e.dimportLoaded.set(!0)})),"GTasks"===t&&(t="Google Tasks"),this.createObservables({isImporting:!1,preloadDisable:0,currentImporter:t||"Moo.do Backup",importMessage:"",dimportLoaded:!1}),this.refWorkflowy=g.createRef(),m.default.onIntroAction("Import")}},{key:"getImporterFromName",value:function(e){var t;switch(e){case"Wunderlist":t=this.importer.wunderlist;break;case"Workflowy":t=this.importer.workflowy;break;case"OPML":t=this.importer.opml;break;case"Moo.do Backup":t=this.importer.json;break;case"Google Tasks":t=this.importer.gtasks;break;case"Trello":t=this.importer.trello;break;case"Todoist":t=this.importer.todoist;break;default:try{f.Z.PAssert(293,!1,"Must add valid importer: ",e)}catch(n){f.Z.reportError(n)}}return t}},{key:"selectImporter",value:function(e){var t=this,n=this.getImporterFromName(e);this.currentImporter.set(e),this.importMessage.set(""),this.isImporting.set(!1),n&&n.preload&&!n.isLoaded&&(this.preloadDisable.set(this.preloadDisable.get()+1),this.importMessage.set("Loading Trello login..."),n.preload((function(){t.preloadDisable.set(t.preloadDisable.get()-1);var e=t.getImporterFromName(t.currentImporter.get());0===t.preloadDisable.get()&&e&&e.preload&&t.importMessage.set("")}),(function(e){t.preloadDisable.set(t.preloadDisable.get()-1),t.importMessage.set("Error loading Trello. Please try again.")})))}},{key:"onImportError",value:function(e,t){!1!==e?(e&&f.Z.isString(e)||(t||(t=e),e="Moo.do encountered an error importing your data."),f.Z.reportError(t||new Error(e),e),this.importMessage.set(e)):this.importMessage.set(""),this.isImporting.set(!1)}},{key:"runImport",value:function(e,t,n){var r=this;if(!(this.isImporting.get()||this.preloadDisable.get()>0)){var a=function(){r.importMessage.set(""),m.default.menus.alert({text:"Your data has been imported successfully!",actionText:"OK",callback:function(){m.default.menus.closeModal(p.Z.Modals.ImportData)}}),f.Z.sendEvent("ImportSuccess",e)};if("Workflowy"===e){var o=this.refWorkflowy.current.getValue(),i=this.importer.opmlToDocument(o,"Workflowy Import");!0===i?a():this.importMessage.set(i)}else{var s=this.getImporterFromName(e);if(s){f.Z.sendEvent("Menu","Import"+e),this.isImporting.set(!0),this.importMessage.set("Importing...");try{this.importer.runImport(s,t,n,(function(){r.isImporting.set(!1),a()}),this.onImportError)}catch(l){this.onImportError("There was an issue importing your data. Please try again later.",l)}}}}}},{key:"onTapSelect",value:function(e){this.selectImporter(e)}},{key:"whichArea",value:function(){switch(this.state.currentImporter){case"Wunderlist":return"disabled";case"Workflowy":return"WorkflowyArea";case"OPML":case"Moo.do Backup":return"UploadArea";case"Google Tasks":case"Trello":case"Todoist":return"OAuthArea";default:try{f.Z.PAssert(294,!1,"Must add valid importer")}catch(e){f.Z.reportError(e)}}return!1}},{key:"onClickSupport",value:function(){m.default.menus.openModal(p.Z.Modals.ReportBug)}},{key:"onClickImport",value:function(){if(!this.isImporting.get()){var e=this.refs.email&&this.refs.email.getValue(),t=this.refs.password&&this.refs.password.getValue();this.runImport(this.state.currentImporter,e,t)}}},{key:"renderListItem",value:function(e){return(0,_.jsx)(x.G,{onClick:this.onTapSelect.bind(this,e),children:e})}},{key:"renderContent",value:function(){var e,t=this.state,n=this.state.currentImporter,r=this.whichArea(),a=(0,_.jsx)(A.Z,{primary:!0,enabled:0===t.preloadDisable&&!t.isImporting,onClick:this.onClickImport,children:"IMPORT"});return"UploadArea"===r?e=(0,_.jsxs)("div",{id:"importUploadArea",children:[(0,_.jsxs)("div",{className:"importTitle",children:["Upload ",n," file"]}),(0,_.jsxs)("div",{children:["Select a","OPML"===n?"n":""," ",n," file to upload"]}),(0,_.jsx)("form",{name:"importFileUpload",children:(0,_.jsx)("input",{id:"importFileUploadButton",type:"file",required:!0,name:"importFile"})})]}):"OAuthArea"===r?e=(0,_.jsxs)("div",{children:[(0,_.jsxs)("div",{className:"importTitle",children:["Import data from ",n]}),(0,_.jsx)("div",{children:"Click to login to your account"})]}):"disabled"===r?(e=(0,_.jsx)("div",{children:(0,_.jsxs)("div",{children:["Importing data from ",n," is not yet migrated to the new backend. Sorry about that! Please contact support."]})}),a=(0,_.jsx)(A.Z,{style:{marginLeft:0},raised:!0,onClick:this.onClickSupport,children:"Contact support"})):"WorkflowyArea"===r&&(e=(0,_.jsxs)("div",{children:[(0,_.jsx)("div",{className:"importTitle",style:{marginBottom:24},children:"Import data from Workflowy"}),(0,_.jsx)("div",{children:"In Workflowy, click the gear icon in the top right and select Export All. Select OPML and copy it, and paste it in the box below."}),(0,_.jsx)(C.Z,{height:300,ref:this.refWorkflowy})]})),(0,_.jsxs)("div",{className:"importInside",children:[e,a,(0,_.jsx)("div",{className:"importMessage",children:t.importMessage})]})}},{key:"render",value:function(){var e,t="Loading...";return this.state.dimportLoaded&&(e=(0,_.jsxs)(x.Z,{inset:!0,children:[(0,_.jsx)(x.G,{type:"header",children:"IMPORT FROM DATA"}),this.renderListItem("Moo.do Backup"),this.renderListItem("OPML"),(0,_.jsx)(x.G,{type:"header",children:"IMPORT FROM APP"}),this.renderListItem("Wunderlist"),this.renderListItem("Google Tasks"),this.renderListItem("Workflowy"),this.renderListItem("Trello"),this.renderListItem("Todoist")]}),t=this.renderContent()),(0,_.jsxs)(v.Z,{id:"modalImport",width:700,height:540,sidebarWidth:180,modalID:p.Z.Modals.ImportData,children:[(0,_.jsx)("div",{children:e},"sidebar"),(0,_.jsx)("div",{children:t},"content")]})}}]),r}(y.a)},58155:(e,t,n)=>{n.r(t),n.d(t,{default:()=>E});var r=n(59713),a=n.n(r),o=n(34575),i=n.n(o),s=n(93913),l=n.n(s),c=n(2205),d=n.n(c),u=n(78585),h=n.n(u),f=n(29754),p=n.n(f),m=n(22060),g=n(11780),y=(n(19955),n(5093)),v=n(12402),A=n(67117),x=n(71915),C=n(36385),_=n(45989);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=0,n=1;n<arguments.length;n++){if(t++>5e3&&__infLoop&&__infLoop(t))throw new RangeError;var r=null!=arguments[n]?arguments[n]:{};n%2?b(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var a=p()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}const E=function(e){d()(n,e);var t=w(n);function n(){return i()(this,n),t.apply(this,arguments)}return l()(n,[{key:"onTransactionClick",value:function(e){var t=g.Z.clone(e),n=y.default.billingManager.userProperties.get();t.company=n.invoiceCompany,t.address=n.invoiceAddress;var r=window.btoa(JSON.stringify(t));y.default.openUrl("https://www.moo.do/invoice#d="+r)}},{key:"render",value:function(){var e=this;return(0,_.jsx)(A.Z,k(k({},this.props),{},{id:"modalInvoices",scrollable:!1,modalID:m.Z.Modals.Invoices,ref:"modal",children:(0,_.jsxs)("div",{className:"flex",children:[this.props.transactions.length>0&&(0,_.jsxs)(x.Z,{className:"flex-1 overflow-y-auto transactionsTable",children:[(0,_.jsxs)("div",{children:[(0,_.jsx)("div",{children:"Transaction Date"}),(0,_.jsx)("div",{children:"Amount"}),(0,_.jsx)("div",{})]},"header"),this.props.transactions.map((function(t){var n=new Date(t.date).toString(y.default.International.getFormat(m.Z.DFormat.LongStrDate));return(0,_.jsxs)("div",{children:[(0,_.jsx)("div",{children:n}),(0,_.jsx)("div",{children:t.amount}),(0,_.jsx)(v.Z,{primary:!0,onClick:e.onTransactionClick.bind(e,t),height:"auto",children:"VIEW"})]},t.id)}))]}),0===this.props.transactions.length&&(0,_.jsx)("div",{children:"There are not transactions available for this account."})]},"content")}))}}]),n}(C.a)},28272:(e,t,n)=>{n.r(t),n.d(t,{default:()=>k});var r=n(34575),a=n.n(r),o=n(93913),i=n.n(o),s=n(2205),l=n.n(s),c=n(78585),d=n.n(c),u=n(29754),h=n.n(u),f=n(5093),p=n(11780),m=n(22060),g=n(86557),y=n(19955),v=n(36385),A=n(67117),x=n(12402),C=n(46128),_=n(45989);function b(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d()(this,n)}}const k=function(e){l()(n,e);var t=b(n);function n(){return a()(this,n),t.apply(this,arguments)}return i()(n,[{key:"init",value:function(){this.createObservables({isLoaded:!1,error:!1}),this.refModal=y.createRef()}},{key:"onLoaded",value:function(){this.isLoaded.set(!0)}},{key:"onError",value:function(){this.isLoaded.set(!0,!1),this.error.set("Could not load image")}},{key:"openExternal",value:function(){this.props.buttonAction?this.props.buttonAction():f.default.openUrl(this.props.src),this.close()}},{key:"close",value:function(){this.refModal.current.close()}},{key:"render",value:function(){var e=this.props,t=this.state,n=e.src,r={maxWidth:Math.min(.95*g.Z.windowWidth(),900),maxHeight:Math.min(.95*g.Z.windowHeight()-30,900),visibility:!t.isLoaded&&"hidden"},a=p.Z.classNames({loaded:t.isLoaded});return(0,_.jsx)(A.Z,{id:"modalLightbox",className:a,closeButton:!1,scrollable:!1,modalID:m.Z.Modals.Lightbox,ref:this.refModal,children:(0,_.jsxs)("div",{children:[!t.isLoaded&&(0,_.jsx)(C.Z,{center:!0}),!t.error&&(0,_.jsx)("img",{src:n,style:r,onLoad:this.onLoaded,onError:this.onError,onClick:this.close,ref:"image"}),t.error&&(0,_.jsx)("div",{className:"lightboxText",children:t.error}),t.isLoaded&&(0,_.jsx)(x.Z,{id:"lightboxOpen",className:"c-border-heavy",primary:!0,height:30,onClick:this.openExternal,children:e.buttonText||(g.Z.app?"Open in browser":"Open in new tab")})]},"content")})}}]),n}(v.a)},17742:(e,t,n)=>{n.r(t),n.d(t,{default:()=>y});var r=n(59713),a=n.n(r),o=n(6479),i=n.n(o),s=n(22060),l=n(5093),c=n(19955),d=n(12402),u=n(67117),h=n(27134),f=n(45989),p=["text","options"];function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=0,n=1;n<arguments.length;n++){if(t++>5e3&&__infLoop&&__infLoop(t))throw new RangeError;var r=null!=arguments[n]?arguments[n]:{};n%2?m(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const y=(0,h.Z)((function(e){var t=e.text,n=e.options,r=i()(e,p),a=(0,c.useRef)(),o=function(e){return l.default.menus.closeModal(s.Z.Modals.Options,e)};return(0,f.jsxs)(u.Z,g(g({},r),{},{id:"modalOptions",title:"Please Choose",small:!0,backdropClose:!1,scrollable:!1,modalID:s.Z.Modals.Options,ref:a,children:[(0,f.jsx)("div",{children:t},"content"),(0,f.jsxs)("div",{children:[n.map((function(e,t){return(0,f.jsx)(d.Z,{raised:!0,width:120,margin:"0 8px",onClick:function(){return o(e)},children:e},t)})),(0,f.jsx)(d.Z,{cancel:!0,raised:!0,width:100,margin:"0 8px",onClick:function(){return o()},children:"Cancel"})]},"buttons")]}))}))},43134:(e,t,n)=>{n.r(t),n.d(t,{default:()=>A});var r=n(59713),a=n.n(r),o=n(6479),i=n.n(o),s=n(65359),l=n(22060),c=n(86557),d=n(19955),u=n(67117),h=n(27134),f=n(81224),p=n(56656),m=n(45989),g=["pane","scrollToItem"];function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=0,n=1;n<arguments.length;n++){if(t++>5e3&&__infLoop&&__infLoop(t))throw new RangeError;var r=null!=arguments[n]?arguments[n]:{};n%2?y(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const A=(0,h.Z)((function(e){var t=e.pane,n=e.scrollToItem,r=i()(e,g),a=(0,d.useRef)(),o=(0,d.useMemo)((function(){return n?Math.max(0,t.indexOfItem(n)):0}),[]);t.setRect(Object.assign({},t.rect.get(),{width:Math.min(Math.round(c.Z.windowWidth()*l.Z.ModalMaxWidthPerc*.01),800),height:Math.min(Math.round(c.Z.windowHeight()*l.Z.ModalMaxHeightPerc*.01),900)}));var h=function(){var e=a.current.getElement().getBoundingClientRect();t.setRect(Object.assign({},t.rect.get(),{width:Math.round(e.width),height:Math.round(e.height)}))};(0,f.Z)(c.Z.windowSize,h),(0,d.useEffect)((function(){h(),n&&t.type===l.Z.PaneMode.Task&&n.highlight(),s.Z.selectIndex(o,-1)}),[]);return(0,m.jsx)(u.Z,v(v({},r),{},{id:"modalPane",width:800,height:900,scrollable:!1,modalID:l.Z.Modals.ModalPane,style:{lineHeight:"unset"},ref:a,children:(0,m.jsx)("div",{children:(0,m.jsx)(p.Z,{pane:t,isPopup:!0,initialScrollIndex:Math.max(0,o-4)})},"content")}))}))},18079:(e,t,n)=>{n.r(t),n.d(t,{default:()=>w});var r=n(59713),a=n.n(r),o=n(48926),i=n.n(o),s=n(63038),l=n.n(s),c=n(6479),d=n.n(c),u=n(87757),h=n.n(u),f=n(22060),p=n(19955),m=n(5093),g=n(12402),y=n(86986),v=n(67117),A=n(27134),x=n(70272),C=n(45989),_=["title","text","fields","noCancel","validate"];function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=0,n=1;n<arguments.length;n++){if(t++>5e3&&__infLoop&&__infLoop(t))throw new RangeError;var r=null!=arguments[n]?arguments[n]:{};n%2?b(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const w=(0,A.Z)((function(e){var t=e.title,n=e.text,r=e.fields,o=e.noCancel,s=e.validate,c=d()(e,_),u=[];r.forEach((function(e,t){u[t]=(0,p.useRef)()}));var A=(0,p.useState)(),b=l()(A,2),w=b[0],E=b[1],j=function(){i()(h().mark((function e(){var t,n;return h().wrap((function(e){for(var r=0;;){if(r++>5e3&&__infLoop&&__infLoop(r))throw new RangeError;switch(e.prev=e.next){case 0:return t=u.map((function(e){return e.current.getValue()})),e.next=3,null===s||void 0===s?void 0:s(t);case 3:(n=e.sent)?E(n):m.default.menus.closeModal(f.Z.Modals.Prompt,t);case 5:case"end":return e.stop()}}}),e)})))()};return(0,x.K7)(a()({},f.Z.KeyCode.Enter,j),[]),(0,C.jsxs)(v.Z,k(k({},c),{},{id:"modalPrompt",title:t,noCancel:o,closeButton:!o,backdropClose:!o,small:!0,scrollable:!1,modalID:f.Z.Modals.Prompt,children:[(0,C.jsxs)("div",{className:"c-foreground",children:[n&&(0,C.jsx)("div",{className:"pb-4",children:n}),r.map((function(e,t){return(0,C.jsx)(y.Z,{focused:0===t,ref:u[t],type:e.type,placeholder:e.placeholder,value:e.value,className:t>0&&"mt-4"},t)})),w&&(0,C.jsx)("div",{className:"mt-2 error",children:w})]},"content"),(0,C.jsxs)("div",{className:"flex justify-end",children:[(0,C.jsx)(g.Z,{primary:!0,width:100,onClick:j,children:"OK"}),!o&&(0,C.jsx)(g.Z,{width:100,onClick:function(){return m.default.menus.closeModal(f.Z.Modals.Prompt)},children:"CANCEL"})]},"buttons")]}))}))},65843:(e,t,n)=>{n.r(t),n.d(t,{default:()=>w});var r=n(59713),a=n.n(r),o=n(34575),i=n.n(o),s=n(93913),l=n.n(s),c=n(2205),d=n.n(c),u=n(78585),h=n.n(u),f=n(29754),p=n.n(f),m=n(22060),g=n(5093),y=(n(19955),n(36385)),v=n(12402),A=n(19617),x=n(67117),C=n(45989);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=0,n=1;n<arguments.length;n++){if(t++>5e3&&__infLoop&&__infLoop(t))throw new RangeError;var r=null!=arguments[n]?arguments[n]:{};n%2?_(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function k(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p()(e);if(t){var a=p()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h()(this,n)}}const w=function(e){d()(n,e);var t=k(n);function n(){return i()(this,n),t.apply(this,arguments)}return l()(n,[{key:"sendReport",value:function(e){var t=this.props;g.default.EmailPreview.reportMessage(t.accountID,t.threadID,t.msgID,this.refText.current.getValue(),e),this.refModal.current.close()}},{key:"onClickSend",value:function(){this.sendReport(!0)}},{key:"onClickCancel",value:function(){this.sendReport(!1)}},{key:"render",value:function(){return(0,C.jsxs)(x.Z,b(b({},this.props),{},{id:"modalReportProblem",scrollable:!1,modalID:m.Z.Modals.ReportProblem,ref:this.refModal,children:[(0,C.jsxs)("div",{children:[(0,C.jsx)("div",{className:"c-foreground-medium",children:"Please describe the display problem."}),(0,C.jsx)(A.Z,{ref:this.refText,focused:!0}),(0,C.jsx)("div",{className:"c-foreground-medium",children:"This will send the content of your email to the developers to fix display errors."})]},"content"),(0,C.jsxs)("div",{style:{textAlign:"right"},children:[(0,C.jsx)(v.Z,{width:100,onClick:this.onClickCancel,children:"CANCEL"}),(0,C.jsx)(v.Z,{primary:!0,width:100,onClick:this.onClickSend,children:"SEND"})]},"buttons")]}))}}]),n}(y.a)},34389:(e,t,n)=>{n.r(t),n.d(t,{default:()=>gt});var r=n(63038),a=n.n(r),o=n(22060),i=n(11780),s=n(86557),l=n(19955),c=n(5093),d=n(67117),u=n(48926),h=n.n(u),f=n(87757),p=n.n(f),m=n(37149),g=n(12402),y=n(17208),v=n(27134),A=n(78966),x=n(72259),C=n(46128),_=n(45989),b="text-xs bold c-foreground-very-faded mt-8 mb-4",k=32;const w=(0,v.Z)((function(e){var t,n,r=e.openSection,s=c.default.billingManager,d=(0,A.Z)(s._hasValidBillingData,s.daysLeftInTrial,s.premiumPlan,m.Z.user,x.Z.onlineStatus,s._premiumStatus),u=a()(d,5),f=u[0],v=u[1],w=u[2],E=u[3],j=u[4],D=(0,l.useState)(!1),Z=a()(D,2),P=Z[0],B=Z[1],M=(0,y.Z)(),N=function(){var e=h()(p().mark((function e(){return p().wrap((function(e){for(var t=0;;){if(t++>5e3&&__infLoop&&__infLoop(t))throw new RangeError;switch(e.prev=e.next){case 0:case 1:case"end":return e.stop()}}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=h()(p().mark((function e(t,n){return p().wrap((function(e){for(var t=0;;){if(t++>5e3&&__infLoop&&__infLoop(t))throw new RangeError;switch(e.prev=e.next){case 0:return e.abrupt("return",c.default.tryWithErrorMessageHandling(h()(p().mark((function e(){return p().wrap((function(e){for(var t=0,n=0;;){if(t++>5e3&&__infLoop&&__infLoop(t))throw new RangeError;if(n++>5e3&&__infLoop&&__infLoop(n))throw new RangeError;switch(e.prev=e.next){case 0:return e.next=2,m.Z.linkWithGoogle();case 2:case"end":return e.stop()}}}),e)}))),(function(){n(),M()})));case 1:case"end":return e.stop()}}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),S=function(){var e=h()(p().mark((function e(t,n){return p().wrap((function(e){for(var t=0;;){if(t++>5e3&&__infLoop&&__infLoop(t))throw new RangeError;switch(e.prev=e.next){case 0:return e.abrupt("return",c.default.tryWithErrorMessageHandling(h()(p().mark((function e(){return p().wrap((function(e){for(var t=0,n=0;;){if(t++>5e3&&__infLoop&&__infLoop(t))throw new RangeError;if(n++>5e3&&__infLoop&&__infLoop(n))throw new RangeError;switch(e.prev=e.next){case 0:return e.next=2,m.Z.unlinkEmail();case 2:case"end":return e.stop()}}}),e)}))),(function(){n(),M()})));case 1:case"end":return e.stop()}}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),I=function(){var e=h()(p().mark((function e(t,n){return p().wrap((function(e){for(var t=0;;){if(t++>5e3&&__infLoop&&__infLoop(t))throw new RangeError;switch(e.prev=e.next){case 0:return e.abrupt("return",c.default.tryWithErrorMessageHandling(h()(p().mark((function e(){return p().wrap((function(e){for(var t=0,n=0;;){if(t++>5e3&&__infLoop&&__infLoop(t))throw new RangeError;if(n++>5e3&&__infLoop&&__infLoop(n))throw new RangeError;switch(e.prev=e.next){case 0:return e.next=2,m.Z.unlinkGoogle();case 2:case"end":return e.stop()}}}),e)}))),(function(){n(),M()})));case 1:case"end":return e.stop()}}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),T=m.Z.getAccountName(),L=m.Z.getAccountEmail(),R=s.hasPremium(),F=s.hasSubscription(),U=null===(t=m.Z.getEmailProvider())||void 0===t?void 0:t.email,W=null===(n=m.Z.getAppleProvider())||void 0===n?void 0:n.email,Y=m.Z.getGoogleProvider(),H=null===Y||void 0===Y?void 0:Y.email;return!H&&Y&&(H=U),(0,_.jsxs)("div",{className:"new-modal-group",children:[s.isTrialOver()&&!P&&(0,_.jsxs)("div",{className:"new-modal-row-1c",children:[(0,_.jsxs)("div",{className:"new-modal-row trialEnd",children:[(0,_.jsx)("div",{children:"Your trial has ended. Please upgrade to continue using Premium features."}),(0,_.jsxs)("div",{className:"flex justify-center my-4",children:[(0,_.jsx)(g.Z,{raised:!0,primary:!0,onClick:function(){r("Upgrade")},children:"UPGRADE"}),(0,_.jsx)(g.Z,{raised:!0,className:"ml-4",onClick:function(){B(!0)},children:"DISMISS"})]})]}),(0,_.jsx)("hr",{})]}),(0,_.jsx)("div",{className:"pt-4 text-2xl bold center",children:T&&"Hi "+T}),f&&s.isTrialState()&&(0,_.jsx)("div",{className:"subtext center",children:"We hope your trial of Premium is going well."}),f&&R&&(0,_.jsx)("div",{className:"subtext center",children:"We are very happy to have you as a Premium Member."}),T&&f&&!R&&!s.isTrialState()&&(0,_.jsx)("div",{className:"subtext center",children:"We hope Moo.do is helping you be productive."}),(0,_.jsx)("div",{className:b,children:"ACCOUNT STATUS"}),(0,_.jsxs)("div",{className:"new-modal-subrow",children:[(0,_.jsxs)("div",{children:[(0,_.jsx)("div",{className:"subtitle",children:"Account email"}),(0,_.jsx)("div",{className:"subtext",children:L})]}),(0,_.jsxs)("div",{children:[(0,_.jsx)("div",{className:"subtitle",children:"Member since"}),(0,_.jsx)("div",{className:"subtext",children:s.getJoinDate().toString(c.default.International.getFormat(o.Z.DFormat.LongStrDate))})]}),s.isTrialState()&&!s.isTrialOver()&&(0,_.jsxs)("div",{children:[(0,_.jsx)("div",{className:"subtitle",children:"Days left in trial"}),(0,_.jsx)("div",{className:"subtext",children:v})]}),R&&(0,_.jsxs)("div",{children:[(0,_.jsx)("div",{className:"subtitle",children:"Premium since"}),(0,_.jsx)("div",{className:"subtext",children:s.getPremiumStartDate().toString(c.default.International.getFormat(o.Z.DFormat.LongStrDate))})]}),s.canceledUserHasPremiumAccess()&&(0,_.jsxs)("div",{children:[(0,_.jsx)("div",{className:"subtitle",children:"Premium features active until"}),(0,_.jsx)("div",{className:"subtext",children:s.premiumEndDateText()})]}),R&&F&&(0,_.jsxs)("div",{children:[(0,_.jsx)("div",{className:"subtitle",children:"Next billing cycle"}),(0,_.jsx)("div",{className:"subtext",children:s.nextBillingDateText()})]})]}),"Online"===j?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("div",{className:b,children:"MANAGE SIGNIN"}),(0,_.jsx)("div",{className:"new-modal-subrow",children:E&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("div",{className:"flexbox",children:[(0,_.jsxs)("div",{className:"mr-4",style:{minWidth:180},children:[(0,_.jsx)("div",{children:(0,_.jsx)("b",{children:"Email signin:"})}),(0,_.jsx)("div",{className:"mt-1",children:U})]}),U?(0,_.jsxs)("div",{children:[(0,_.jsx)(g.Z,{raised:!0,height:k,onClick:N,children:"CHANGE EMAIL"}),(0,_.jsx)(g.Z,{raised:!0,height:k,marginLeft:16,onClick:function(){h()(p().mark((function e(){return p().wrap((function(e){for(var t=0;;){if(t++>5e3&&__infLoop&&__infLoop(t))throw new RangeError;switch(e.prev=e.next){case 0:return e.next=2,m.Z.reauthenticateEmail();case 2:e.sent&&c.default.menus.promptComplex({title:"Enter new password",fields:[{placeholder:"Password",type:"password"},{placeholder:"Confirm password",type:"password"}],validate:function(){var e=h()(p().mark((function e(t){var n,r,o;return p().wrap((function(e){for(var i=0,s=0;;){if(s++>5e3&&__infLoop&&__infLoop(s))throw new RangeError;if(i++>5e3&&__infLoop&&__infLoop(i))throw new RangeError;switch(e.prev=e.next){case 0:return n=a()(t,2),r=n[0],o=n[1],e.abrupt("return",r?r!==o&&"Passwords do not match":"Invalid password");case 2:case"end":return e.stop()}}}),e)})));return function(t){return e.apply(this,arguments)}}(),callback:function(){var e=h()(p().mark((function e(t){var n,r;return p().wrap((function(e){for(var o=0,i=0;;){if(i++>5e3&&__infLoop&&__infLoop(i))throw new RangeError;if(o++>5e3&&__infLoop&&__infLoop(o))throw new RangeError;switch(e.prev=e.next){case 0:if(!t){e.next=4;break}return n=a()(t,1),r=n[0],e.next=4,c.default.tryWithErrorMessageHandling(h()(p().mark((function e(){return p().wrap((function(e){for(var t=0,n=0,a=0;;){if(n++>5e3&&__infLoop&&__infLoop(n))throw new RangeError;if(t++>5e3&&__infLoop&&__infLoop(t))throw new RangeError;if(a++>5e3&&__infLoop&&__infLoop(a))throw new RangeError;switch(e.prev=e.next){case 0:return e.next=2,m.Z.changePassword(r);case 2:case"end":return e.stop()}}}),e)}))),M);case 4:case"end":return e.stop()}}}),e)})));return function(t){return e.apply(this,arguments)}}()});case 4:case"end":return e.stop()}}}),e)})))()},children:"CHANGE PASSWORD"}),H&&(0,_.jsx)(g.Z,{raised:!0,height:k,marginLeft:16,onClick:S,children:"UNLINK"})]}):(0,_.jsx)("div",{children:(0,_.jsx)(g.Z,{height:k,raised:!0,onClick:function(e,t){return c.default.menus.confirm("Please reauthenticate your Google account first.",function(){var e=h()(p().mark((function e(n){return p().wrap((function(e){for(var r=0;;){if(r++>5e3&&__infLoop&&__infLoop(r))throw new RangeError;switch(e.prev=e.next){case 0:if(!n){e.next=7;break}return e.next=3,m.Z.reauthenticateGoogle();case 3:e.sent&&c.default.menus.promptComplex({title:"Create Email Signin",fields:[{placeholder:"Email",type:"email"},{placeholder:"Password",type:"password"},{placeholder:"Confirm Password",type:"password"}],validate:function(){var e=h()(p().mark((function e(t){var n,r,o,s;return p().wrap((function(e){for(var l=0,c=0;;){if(c++>5e3&&__infLoop&&__infLoop(c))throw new RangeError;if(l++>5e3&&__infLoop&&__infLoop(l))throw new RangeError;switch(e.prev=e.next){case 0:return n=a()(t,3),r=n[0],o=n[1],s=n[2],e.abrupt("return",(i.Z.isEmail(r)?o!==s&&"Passwords do not match":"Invalid email address")||o.length<6&&"Please use a longer password for better security.");case 2:case"end":return e.stop()}}}),e)})));return function(t){return e.apply(this,arguments)}}(),callback:function(){var e=h()(p().mark((function e(n){var r,o,i;return p().wrap((function(e){for(var s=0,l=0;;){if(l++>5e3&&__infLoop&&__infLoop(l))throw new RangeError;if(s++>5e3&&__infLoop&&__infLoop(s))throw new RangeError;switch(e.prev=e.next){case 0:if(!n){e.next=4;break}return r=a()(n,2),o=r[0],i=r[1],e.next=4,c.default.tryWithErrorMessageHandling(h()(p().mark((function e(){return p().wrap((function(e){for(var t=0,n=0,r=0;;){if(n++>5e3&&__infLoop&&__infLoop(n))throw new RangeError;if(t++>5e3&&__infLoop&&__infLoop(t))throw new RangeError;if(r++>5e3&&__infLoop&&__infLoop(r))throw new RangeError;switch(e.prev=e.next){case 0:return e.next=2,m.Z.linkWithEmail(o,i);case 2:case"end":return e.stop()}}}),e)}))),M);case 4:t();case 5:case"end":return e.stop()}}}),e)})));return function(t){return e.apply(this,arguments)}}()}),e.next=8;break;case 7:t();case 8:case"end":return e.stop()}}}),e)})));return function(t){return e.apply(this,arguments)}}(),{textYes:"OK",textNo:"CANCEL"}),!0},children:"SETUP"})})]}),(0,_.jsxs)("div",{className:"flexbox",children:[(0,_.jsxs)("div",{className:"mr-4",style:{minWidth:180},children:[(0,_.jsx)("div",{children:(0,_.jsx)("b",{children:"Google signin:"})}),(0,_.jsx)("div",{className:"mt-1",children:H})]}),H?U?(0,_.jsx)("div",{children:(0,_.jsx)(g.Z,{raised:!0,height:k,onClick:I,children:"UNLINK"})}):null:(0,_.jsx)("div",{children:(0,_.jsx)(g.Z,{raised:!0,height:k,onClick:O,children:"SETUP"})})]}),W&&(0,_.jsx)("div",{className:"flexbox",children:(0,_.jsxs)("div",{className:"mr-4",style:{minWidth:180},children:[(0,_.jsx)("div",{children:(0,_.jsx)("b",{children:"Apple signin:"})}),(0,_.jsx)("div",{className:"mt-1",children:W})]})})]})}),(0,_.jsx)("div",{className:b,children:"MANAGE ACCOUNT"}),(0,_.jsxs)("div",{className:"new-modal-subrow",children:[(!R||"Lifetime"===w)&&(0,_.jsx)("div",{children:(0,_.jsx)(g.Z,{raised:!0,height:k,onClick:s.onTapDeleteAccount,children:"DELETE ACCOUNT"})}),R&&F&&"Lifetime"!==w&&(0,_.jsx)("div",{children:(0,_.jsx)(g.Z,{raised:!0,height:k,onClick:s.onTapUpdatePaymentMethod,children:"UPDATE PAYMENT METHOD"})}),R&&F&&"Lifetime"!==w&&(0,_.jsx)("div",{children:(0,_.jsx)(g.Z,{raised:!0,height:k,onClick:s.cancelSubscription,children:"CANCEL PREMIUM"})})]}),F&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("div",{className:b,children:"INVOICES"}),(0,_.jsx)("div",{children:(0,_.jsx)(g.Z,{raised:!0,height:k,onClick:s.onTapViewInvoices,children:"VIEW INVOICES"})})]})]}):(0,_.jsx)(C.Z,{className:"mt-8",children:"Plase go online to adjust account settings"})]},"content")}));var E=n(34575),j=n.n(E),D=n(93913),Z=n.n(D),P=n(2205),B=n.n(P),M=n(78585),N=n.n(M),O=n(29754),S=n.n(O),I=n(36385),T=n(90638),L=n(59713),R=n.n(L),F=n(6479),U=n.n(F);function W(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S()(e);if(t){var a=S()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return N()(this,n)}}const Y=function(e){B()(n,e);var t=W(n);function n(){return j()(this,n),t.apply(this,arguments)}return Z()(n,[{key:"init",value:function(){this.amtMoved=void 0,this.prevPos=void 0,this.isDragging=!1,this.createObservables({dragPosition:void 0})}},{key:"getElement",value:function(){return this.refs.element}},{key:"getDraggingElement",value:function(){return this.refs.draggingElement}},{key:"getDragPosition",value:function(){return this.state.dragPosition}},{key:"onMouseDown",value:function(e){var t=this.props.horizontal,n=t?e.clientX:e.clientY;this.amtMoved=0,this.prevPos={left:e.clientX,top:e.clientY},this.dragOffset=i.Z.offset(this.refs.element)[t?"left":"top"]-n,this.props.allowDragOut&&(this.startPos={left:e.clientX,top:e.clientY}),i.Z.onMouseMoveUp(this.onMouseMoveDragging,this.onMouseUpDragging)}},{key:"onMouseMoveDragging",value:function(e){var t=this.props,n=t.horizontal,r=n?e.clientX:e.clientY;if(this.amtMoved+=Math.abs(e.clientX-this.prevPos.left)+Math.abs(e.clientY-this.prevPos.top),this.amtMoved>3){this.isDragging||(this.isDragging=!0,t.onDragStart(this)),t.onDragMove(this,e);var a=n?"left":"top",o=this.refs.element.parentElement,s=i.Z.offset(o),l=r+this.dragOffset-s[a],c={};n?(c.left=l,t.allowDragOut&&(c.top=e.clientY-this.startPos.top)):(c.top=l,t.allowDragOut&&(c.left=e.clientX-this.startPos.left)),this.dragPosition.set(c)}this.prevPos={left:e.clientX,top:e.clientY}}},{key:"onMouseUpDragging",value:function(e){this.isDragging&&this.props.onDragEnd(this,e),this.amtMoved=void 0,this.prevPos=void 0,this.dragOffset=void 0,this.isDragging=!1,this.dragPosition.set(void 0)}},{key:"render",value:function(){var e=this.state,t=this.props,n=e.dragPosition,r=!i.Z.isEmpty(n),a=i.Z.classNames(t.className,"fancySortableItem",{noClick:t.noDrag},{dragging:r||t.isDragging}),o=i.Z.classNames((r||t.isDragging)&&t.classDragging),l={};return n&&(l[s.Z.transform.react]="translate3d("+(n.left||0)+"px,"+(n.top||0)+"px,0)"),(0,_.jsxs)("div",{className:a,onMouseDownCapture:this.onMouseDown,ref:"element",children:[(0,_.jsx)("span",{className:o,children:t.children}),r&&(0,_.jsx)("div",{className:"draggingElement",style:l,ref:"draggingElement",children:t.children})]})}}]),n}(I.a);var H=["moveChild","horizontal","getDragTargetFromElement","onDragOut","classDragging","onDragEnd"];function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=0,n=1;n<arguments.length;n++){if(t++>5e3&&__infLoop&&__infLoop(t))throw new RangeError;var r=null!=arguments[n]?arguments[n]:{};n%2?z(Object(r),!0).forEach((function(t){R()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function G(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S()(e);if(t){var a=S()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return N()(this,n)}}const K=function(e){B()(n,e);var t=G(n);function n(){return j()(this,n),t.apply(this,arguments)}return Z()(n,[{key:"init",value:function(){this.createObservables({draggingChild:void 0})}},{key:"getElement",value:function(){return this.refs.element}},{key:"onDragStart",value:function(e){this.isDraggingInside=!0,this.dragDidMove=!1,this.draggingChild.set(e)}},{key:"findTargetIndex",value:function(e){for(var t=0,n=l.Children.count(this.props.children),r=this.props.horizontal?"left":"top",a=this.props.horizontal?"width":"height",o=e.props.owner===this?e.props.index:-1,s=e.getDraggingElement(),c=i.Z.offset(s)[r],d=s.getBoundingClientRect()[a],u=-1,h=!1,f=0;f<n;f++){if(t++>5e3&&__infLoop&&__infLoop(t))throw new RangeError;var p=this.refs["el_"+f];if(p!==this.draggingChild.get()){var m=p.getElement(),g=i.Z.offset(m)[r],y=m.getBoundingClientRect()[a],v=Math.min(y,d)/2;if(f>o)c+v>=g&&(u=f,f===n-1&&!h&&c>g+v&&(u=n));else if(c<=g+v)return f}else h=!0}return u}},{key:"onDragMove",value:function(e,t){if(e.getDraggingElement()){var n=this,r=e.props.index,a=e.props.owner;0,this.props.getDragTargetFromElement&&!(n=this.props.getDragTargetFromElement(t.target))&&this.isDraggingInside&&(this.isDraggingInside=!1,this.props.onDragOut(r,a)),n&&(this.isDraggingInside=!0,n.handleDragMove(e,t))}}},{key:"handleDragMove",value:function(e,t){var n=e.props.index,r=e.props.owner,a=this.findTargetIndex(e);a>=0&&(a!==n||this!==r)&&(this.dragDidMove=!0,this.props.moveChild(n,a,r,this))}},{key:"onDragEnd",value:function(e,t){if(this.draggingChild.set(void 0),this.props.onDragEnd){var n=!1;if(this.props.getDragTargetFromElement){var r=this.props.getDragTargetFromElement(t.target);n=r&&r!==this}this.props.onDragEnd(e,n,this.dragDidMove||n)}}},{key:"render",value:function(){var e=this,t=this.props,n=(t.moveChild,t.horizontal),r=(t.getDragTargetFromElement,t.onDragOut,t.classDragging,t.onDragEnd,U()(t,H)),a=i.Z.classNames("fancySortableList",t.className,{dragging:!!this.state.draggingChild},{flexbox:n}),o=l.Children.map(t.children,(function(r,a){return(0,_.jsx)(Y,{owner:e,onDragStart:e.onDragStart,onDragMove:e.onDragMove,onDragEnd:e.onDragEnd,ref:"el_"+a,index:a,horizontal:n,noDrag:r.props["data-nodrag"],isDragging:r.props["data-isdragging"],allowDragOut:!!t.getDragTargetFromElement,classDragging:t.classDragging,children:r})}));return(0,_.jsx)("div",V(V({},r),{},{className:a,ref:"element",children:o}))}}]),n}(I.a),q=(0,v.Z)((function(e){var t=e.feature,n=e.onlyPro,r=e.openSection,o=(0,A.Z)(c.default.billingManager.hasPremiumFeaturesObservable,c.default.billingManager.premiumLevel),i=a()(o,2),s=i[0],l=i[1];return s&&(!n||"Pro"===l)?null:(0,_.jsxs)("div",{className:"flex items-center px-4 py-2 mb-4 rounded-lg c-bg-autocomplete-highlight",children:[(0,_.jsxs)("div",{className:"flex-1",children:[t," ",t.endsWith("s")?"are":"is"," a ",n?"Pro":"Premium"," feature."]}),(0,_.jsxs)(g.Z,{raised:!0,primary:!0,onClick:function(){return r("Upgrade")},children:["GO ",n?"PRO":"PREMIUM"]})]})}));function Q(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S()(e);if(t){var a=S()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return N()(this,n)}}var X=["overdue","starred","important","#next","#soon","#later","#someday"];const J=function(e){B()(n,e);var t=Q(n);function n(){return j()(this,n),t.apply(this,arguments)}return Z()(n,[{key:"init",value:function(){for(var e=0,t=0,n=0,r=c.default.timeline.agendaSort.get(),a=[],o=Object.keys(r).map((function(e){return{key:e,value:r[e]}})),i=0;i<15;i++){if(e++>5e3&&__infLoop&&__infLoop(e))throw new RangeError;o.push(i)}o.sort(this.sortComparator);for(var s=0;s<X.length;s++){if(t++>5e3&&__infLoop&&__infLoop(t))throw new RangeError;var l=X[s];o.indexOfWithProperty("key",l)<0&&a.push({key:l,value:0})}for(var d=T.Z.getAll(),u=0;u<d.length;u++){if(n++>5e3&&__infLoop&&__infLoop(n))throw new RangeError;var h="#"+d[u].text;o.indexOfWithProperty("key",h)<0&&a.push({key:h,value:0})}a.sort(this.sortComparatorNonSort),this.createObservables({sortArray:o,nonSortArray:a,selected:{array:"sort",index:0}})}},{key:"getState",value:function(){return{hasPremiumFeatures:c.default.billingManager.hasPremiumFeaturesObservable}}},{key:"sortComparatorNonSort",value:function(e,t){var n=e.key[0],r=t.key[0];return"#"===n&&"#"!==r?1:"#"===r&&"#"!==n?-1:e.key.localeCompare(t.key)}},{key:"sortComparator",value:function(e,t){return(isNaN(e)?e.value:100*e)-(isNaN(t)?t.value:100*t)}},{key:"moveChild",value:function(e,t,n,r){var a=this.state,o=n&&n!==this.refs.sortList?"nonSort":"sort",i=r&&r!==this.refs.nonSortList?"sort":"nonSort",s=a[o+"Array"],l=a[i+"Array"],c=s===l,d="sort"===o?a.nonSortArray:a.sortArray,u=s[e];c?s.splice(e,1):u.isDragging=!0;var h=d.indexOfWithProperty("key",u.key);h>=0&&d.splice(h,1),l.splice(t,0,u),this[o+"Array"].set(s,!1),this[i+"Array"].set(l,!0)}},{key:"onDragOut",value:function(e,t){var n=t&&t!==this.refs.sortList?"nonSort":"sort",r=this.state[n+"Array"],a="sort"===n?this.nonSortArray:this.sortArray,o=r[e],i=a.indexOfWithProperty("key",o.key);i>=0&&a.splice(i,1)}},{key:"onDragEnd",value:function(e,t,n){var r=e.props.owner,a=e.props.index,o=r&&r!==this.refs.sortList?"nonSort":"sort",i=this.state[o+"Array"][a];if(i.isDragging=!1,t){var s=e.props.owner;(s&&s!==this.refs.nonSortList?this.sortArray:this.nonSortArray).splice(e.props.index,1)}this.sortArray.indexOf(i)<0&&this.nonSortArray.indexOf(i)<0&&this.nonSortArray.push(i),this.sortArray.notify(),n&&this.saveAfterTimeout()}},{key:"saveAfterTimeout",value:function(){this._saveTimeout&&clearTimeout(this._saveTimeout),this._saveTimeout=setTimeout(this.saveToSettings,200)}},{key:"saveToSettings",value:function(){var e=this.state,t=e.hasPremiumFeatures,n=e.sortArray;if(t){for(var r,a=0,o={},i=-1,s=0;s<n.length;s++){if(a++>5e3&&__infLoop&&__infLoop(a))throw new RangeError;var l=n[s];if(isNaN(l)){var d=100*i,u=r&&r>d?r+1:d+1;o[l.key]=u,r=u}else i=l}c.default.timeline.saveAgendaSort(o)}}},{key:"getDragTargetFromElement",value:function(e){var t=i.Z.findParent(e,"fancySortableList"),n=this.refs;return t===n.sortList.getElement()?n.sortList:t===n.nonSortList.getElement()?n.nonSortList:void 0}},{key:"onClickMoveToOtherList",value:function(){var e=this.state.selected,t=e.array,n=e.index,r="sort"===t?"nonSort":"sort",a=this.state[t+"Array"][n];isNaN(a)&&(this[t+"Array"].splice(n,1),this[r+"Array"].splice(0,0,a)),this.saveAfterTimeout()}},{key:"onClickListItem",value:function(e,t){this.selected.set({array:e,index:t})}},{key:"renderListItem",value:function(e,t,n,r){var a=this.state,o=this.onClickListItem.bind(this,r,t);if(isNaN(e)){var s=e.key.capitalize(),l=i.Z.classNames(n,{"tag t-tag":s.startsWith("#")},{"selected c-popup-item":a.selected.array===r&&a.selected.index===t});return(0,_.jsx)("div",{className:l,onClick:o,"data-isdragging":e.isDragging,children:s},s)}return(0,_.jsxs)("div",{className:n+" date c-date","data-nodrag":!0,children:[(0,_.jsx)("span",{className:"icon-calendar"}),(0,_.jsx)("span",{children:"Today"+(e>0?" + "+e+" days":"")})]},e)}},{key:"render",value:function(){var e,t=0,n=0,r=this.state,a=r.sortArray,o=r.nonSortArray,s=[],l=[],c=r.selected.array,d=i.Z.classNames("agendaSortSettingsItem c-background"),u=i.Z.classNames({"icon-arrow_forward":"sort"===c},{"icon-arrow_back":"nonSort"===c});for(e=0;e<a.length;e++){if(t++>5e3&&__infLoop&&__infLoop(t))throw new RangeError;s.push(this.renderListItem(a[e],e,d,"sort"))}for(e=0;e<o.length;e++){if(n++>5e3&&__infLoop&&__infLoop(n))throw new RangeError;l.push(this.renderListItem(o[e],e,d,"nonSort"))}return(0,_.jsxs)("div",{className:"agendaSortListsContainer modal-row flexbox flexvert",style:{height:"100%"},children:[(0,_.jsx)(q,{feature:"Agenda customization",onlyPro:!0,openSection:this.props.openSection}),(0,_.jsx)("div",{className:"modal-row-title",children:"Change agenda sort"}),(0,_.jsx)("div",{className:"modal-subtext c-foreground-faded",children:"Customize the sort order of the Agenda. Drag and drop tags and blocks to arrange them relative to dates."}),(0,_.jsxs)("div",{className:i.Z.classNames("modal-row agendaSortLists flex flex-1",!r.hasPremiumFeatures&&"opacity-50 pointer-events-none"),children:[(0,_.jsxs)("div",{className:"agendaSortListWrapper",children:[(0,_.jsx)("div",{className:"bold",children:"Order on Agenda"}),(0,_.jsx)(K,{className:"h-full agendaSortList w-96 c-border-light",moveChild:this.moveChild,onDragEnd:this.onDragEnd,onDragOut:this.onDragOut,ref:"sortList",getDragTargetFromElement:this.getDragTargetFromElement,classDragging:"c-foreground-very-faded",children:s})]}),(0,_.jsx)("div",{className:"flex flex-col items-center justify-center h-full px-4",children:(0,_.jsx)(g.Z,{raised:!0,round:!1,icon:u,onClick:this.onClickMoveToOtherList})}),(0,_.jsxs)("div",{className:"agendaSortListWrapper",children:[(0,_.jsx)("div",{className:"bold",children:"Not on Agenda"}),(0,_.jsx)(K,{className:"h-full agendaSortList w-96 c-border-light",moveChild:this.moveChild,onDragEnd:this.onDragEnd,onDragOut:this.onDragOut,ref:"nonSortList",getDragTargetFromElement:this.getDragTargetFromElement,classDragging:"c-foreground-very-faded",children:l})]})]})]})}}]),n}(I.a);var $=n(94668),ee=n(59942),te=(n(42558),n(82990)),ne=n(19421);const re=(0,v.Z)((function(e){var t,n=e.checked,r=e.checkedObservable,s=e.disabled,c=e.onChanging,d=e.onChange,u=e.getCheckedFromObservable,h=e.getValueFromChecked;var f=(0,l.useRef)(),p=(0,te.Z)(f),m=(0,A.Z)(r),g=a()(m,1)[0],y=void 0===n?null!==(t=null===u||void 0===u?void 0:u(g))&&void 0!==t?t:g:n;p.width||(p.width=42);var v={backgroundColor:y?o.Z.ColorBrand:"#888"},x={x:y?p.width-18:2},C=i.Z.classNames("relative flex items-center cursor-pointer c-button-raised-primary c-shadow-thin borderBox",{mobutton:!1});return(0,_.jsx)(ne.E.div,{className:C,style:ae,initial:v,animate:v,onClick:function(e){if(!s){var t=!y;c&&!1===c(t)||(!function(e){var t;null===r||void 0===r||r.set(null!==(t=null===h||void 0===h?void 0:h(e))&&void 0!==t?t:e)}(t),null===d||void 0===d||d(t)),i.Z.stopPropagation(e)}},ref:f,transition:{duration:.5},children:(0,_.jsx)(ne.E.div,{className:"absolute c-background c-shadow-light",style:oe,initial:x,animate:x,transition:o.Z.TransitionSpring})})}));var ae={borderRadius:16,width:42,height:20},oe={borderRadius:50,width:16,height:16};const ie=(0,v.Z)((function(e){var t,n=e.title,r=e.description,o=e.checkedObservable,s=e.disabled,l=e.onChange,c=e.getCheckedFromObservable,d=e.getValueFromChecked;var u=(0,A.Z)(o),h=a()(u,1)[0],f=null!==(t=null===c||void 0===c?void 0:c(h))&&void 0!==t?t:h,p=function(e){var t;return o.set(null!==(t=null===d||void 0===d?void 0:d(e))&&void 0!==t?t:e)},m=i.Z.classNames("cursor-pointer py-4",{"px-4":!1}),g=i.Z.classNames("flex",{"flex-row-reverse":!1}),y=i.Z.classNames("f1","pl-3");return(0,_.jsx)("div",{className:m,onClick:function(){if(!s){var e=!f;p(e),l&&!1===l(e)&&p(!e)}},children:(0,_.jsxs)("div",{className:g,children:[(0,_.jsx)(re,{checkedObservable:o,getCheckedFromObservable:c,getValueFromChecked:d,disabled:s,onChange:l}),(0,_.jsxs)("div",{className:y,children:[(0,_.jsx)("div",{className:"font-bold font-big1",style:se,children:n}),r&&(0,_.jsx)("div",{className:"pt-1 text-xs leading-tight c-foreground-light",children:r})]})]})})}));var se={lineHeight:"18px"};const le=(0,v.Z)((function(e){var t,n=e.valueObservable,r=e.title,o=e.description,s=e.options,l=e.style,c=e.styleTitle,d=e.className,u=e.onChange,h=e.getValueFromSelected,f=e.getSelectedFromObservable,p=(0,A.Z)(n),m=a()(p,1)[0],g=null!==(t=null===f||void 0===f?void 0:f(m))&&void 0!==t?t:m,y=Object.assign({textIndent:4,width:100,height:32,fontSize:12},l);return(0,_.jsxs)("div",{className:i.Z.classNames("py-2",d),children:[(0,_.jsxs)("div",{children:[r&&(0,_.jsx)("span",{className:i.Z.classNames("font-bold pr-8 inline-block text-15"),style:c,children:r}),(0,_.jsx)("select",{className:"my-2 border rounded c-background c-border-heavy",onChange:function(e){var t,r=null!==(t=null===h||void 0===h?void 0:h(e.target.value))&&void 0!==t?t:e.target.value;n.set(r),u&&u(r,m)},value:g,style:y,children:s.map((function(e){var t="string"===typeof e,n=t?e:Object.keys(e)[0],r=t?e:e[n];return(0,_.jsx)("option",{value:n,children:r},n)}))})]}),o&&(0,_.jsx)("div",{className:"text-xs leading-tight c-foreground-light",children:o})]})}));var ce=n(14198),de=n(85181);const ue=(0,v.Z)((function(e){var t,n=e.valueObservable,r=e.title,o=e.description,s=e.minValue,l=e.maxValue,c=e.interval,d=e.readonly,u=(e.style,e.styleTitle),h=e.className,f=e.onChange,p=e.getNumberFromObservable,m=e.getValueFromNumber,g=(0,A.Z)(n),y=a()(g,1)[0],v=null!==(t=null===p||void 0===p?void 0:p(y))&&void 0!==t?t:y;return(0,_.jsxs)("div",{className:i.Z.classNames("py-2",h),children:[(0,_.jsxs)("div",{children:[r&&(0,_.jsx)("span",{className:i.Z.classNames("font-bold pr-8 inline-block text-15"),style:u,children:r}),(0,_.jsx)(de.Z,{value:v,minValue:s,maxValue:l,interval:c,readonly:d,onChange:function(e){var t,r=null!==(t=null===m||void 0===m?void 0:m(e))&&void 0!==t?t:e;n.set(r),f&&f(r)}})]}),o&&(0,_.jsx)("div",{className:"pt-3 text-xs leading-tight c-foreground-light",children:o})]})}));var he=n(68805),fe=["Minutes","Hours","Days"],pe=function(e){return"Days"===e&&o.Z.MSPerDay||"Hours"===e&&o.Z.MSPerHour||"Minutes"===e&&o.Z.MSPerMinute};const me=(0,v.Z)((function(){var e=this,t=(0,l.useState)((function(){var e,t=$.Z.getLastBackup();if(t>0){var n=new Date(t);e=ee.Z.toHumanText(n)}else e="Not backed up";return e})),n=a()(t,2),r=n[0],s=n[1],d=(0,A.Z)(c.default.settings.backupFrequency),u=a()(d,1)[0],h=(0,ce.Z)(function(e){return e>=o.Z.MSPerDay?"Days":e>=o.Z.MSPerHour?"Hours":e>=0?"Minutes":void 0}(u),!0),f=a()(h,2),p=f[0],m=f[1],g=Math.floor(u),y=(0,l.useCallback)((function(e){if(e&&!i.Z.isDemoMode()){var t=function(){c.default.settings.backupFrequency.set(o.Z.DefaultBackupFrequency)};$.Z.isDriveBackupAuthorized()?t():$.Z.authorize((function(e){e?t():c.default.settings.backupFrequency.set(0)}))}}),[]),v=(0,l.useCallback)((function(e){return Math.floor(e/pe(m))}),[m]),x=(0,l.useCallback)((function(e){return Math.floor(e*pe(m))}),[m]),C=(0,l.useCallback)((function(e,t){return c.default.settings.backupFrequency.set(g/pe(t)*pe(e))}),[g]);return(0,_.jsxs)("div",{children:[(0,_.jsx)(ie,{checkedObservable:c.default.settings.backupFrequency,getCheckedFromObservable:function(e){return e>0},getValueFromChecked:function(e){return e?o.Z.DefaultBackupFrequency:0},title:"Enable Drive backups",description:'Automatically backup all data into the "Moo.do Backups" folder in your Google Drive. Backups will run on the following frequency, only if there are any new changes to back up. Moo.do keeps its own encrypted version history, but this gives you an extra level of security that your data is safe. Note that backups to Drive are not encrypted.',onChange:y}),(0,_.jsxs)("div",{children:[(0,_.jsx)("div",{className:"settingsName ib bold",children:"Every"}),(0,_.jsx)(ue,{className:"ib",valueObservable:c.default.settings.backupFrequency,getNumberFromObservable:v,getValueFromNumber:x,minValue:0,maxValue:60,interval:1}),(0,_.jsx)(le,{className:"ib",valueObservable:p,options:fe,style:{marginLeft:16,height:32},onChange:C})]}),(0,_.jsxs)("div",{className:"py-4",children:[(0,_.jsx)(he.Z,{mode:"contained",onClick:function(){s("Backing up..."),$.Z.backupAll().then((function(){return e.backupText.set("Backup complete")}))},text:"BACKUP NOW",newStyle:!0}),r&&(0,_.jsxs)("div",{className:"pt-4",children:["Last backup: ",r]})]}),(0,_.jsx)("div",{className:"py-4",children:(0,_.jsx)(he.Z,{mode:"contained",onClick:function(){c.default.menus.closeModal(o.Z.Modals.Settings),c.default.menus.openModal(o.Z.Modals.Backups)},text:"SEE BACKUP HISTORY",newStyle:!0})})]},"content")}));var ge=n(83449),ye=n(31180),ve=n(30146),Ae=n(16804),xe=n(71915),Ce=28,_e=function(e){var t=e.children;return(0,_.jsx)("div",{style:{width:40},className:"flex items-center justify-center",children:t})},be=function(){var e=h()(p().mark((function e(t,n,r){return p().wrap((function(e){for(var a=0;;){if(a++>5e3&&__infLoop&&__infLoop(a))throw new RangeError;switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var a=c.default.pluginManager.getAllPluginScopes(n);ve.Z.authAccount(t,a,(function(t){if(t){var r=t.email,a=i.Z.clone(c.default.settings.syncAccounts.get()||{});a[r]={},n.forEach((function(e){return a[r][e]=!0})),c.default.settings.syncAccounts.set(a),ye.Z.updatePluginsEnabled()}e()}),r)})));case 1:case"end":return e.stop()}}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),ke=(0,v.Z)((function(e){var t=e.accountID,n=e.syncAccount,r=(0,l.useState)(!1),s=a()(r,2),d=s[0],u=s[1],f=(0,ce.Z)(n[o.Z.PluginID.GCalendar]||!1,!0),m=a()(f,2),g=m[0],y=m[1],v=(0,ce.Z)(n[o.Z.PluginID.Drive]||!1,!0),A=a()(v,2),x=A[0],C=A[1],b=(0,ce.Z)(n[o.Z.PluginID.Contacts]||!1,!0),k=a()(b,2),w=k[0],E=k[1],j=function(){var e=h()(p().mark((function e(){var n;return p().wrap((function(e){for(var r=0;;){if(r++>5e3&&__infLoop&&__infLoop(r))throw new RangeError;switch(e.prev=e.next){case 0:return e.next=2,c.default.menus.confirm("Are you sure you want to remove ".concat(t,"?"));case 2:e.sent&&(ve.Z.removeAccount(t),delete(n=i.Z.clone(c.default.settings.syncAccounts.get()))[t],c.default.settings.syncAccounts.set(n),ye.Z.updatePluginsEnabled());case 4:case"end":return e.stop()}}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=h()(p().mark((function e(n){var r;return p().wrap((function(e){for(var a=0;;){if(a++>5e3&&__infLoop&&__infLoop(a))throw new RangeError;switch(e.prev=e.next){case 0:return r=[E&&o.Z.PluginID.Contacts,y&&o.Z.PluginID.GCalendar,C&&o.Z.PluginID.Drive].filter((function(e){return!!e})),e.abrupt("return",be(t,r,n));case 2:case"end":return e.stop()}}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=h()(p().mark((function e(){return p().wrap((function(e){for(var t=0;;){if(t++>5e3&&__infLoop&&__infLoop(t))throw new RangeError;switch(e.prev=e.next){case 0:return e.abrupt("return",D(!1));case 1:case"end":return e.stop()}}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=h()(p().mark((function e(){return p().wrap((function(e){for(var t=0;;){if(t++>5e3&&__infLoop&&__infLoop(t))throw new RangeError;switch(e.prev=e.next){case 0:return e.abrupt("return",D(!0));case 1:case"end":return e.stop()}}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,_.jsxs)("div",{className:"flex c-border",children:[(0,_.jsx)("div",{className:"flex-1",children:t}),ve.Z.accountHasError(t)?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("div",{className:"flex items-center justify-center",style:{width:176},children:(0,_.jsx)(he.Z,{mode:"contained",primary:!0,onClick:P,height:32,text:"FIX AUTHENTICATION",newStyle:!0,showLoader:!0})}),(0,_.jsx)(_e,{children:(0,_.jsx)(he.Z,{icon:"MdClose",iconSize:20,width:40,height:40,onClick:j,newStyle:!0,showLoader:!0})})]}):(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(_e,{children:(0,_.jsx)(Ae.Z,{checkedObservable:w,onChange:function(){return u(!0)}})}),(0,_.jsx)(_e,{children:(0,_.jsx)(Ae.Z,{checkedObservable:g,onChange:function(){return u(!0)}})}),(0,_.jsx)(_e,{children:(0,_.jsx)(Ae.Z,{checkedObservable:x,onChange:function(){return u(!0)}})}),(0,_.jsx)(_e,{children:d?(0,_.jsx)(he.Z,{mode:"contained",width:40,height:32,primary:d,onClick:Z,text:"SAVE",size:11,newStyle:!0}):(0,_.jsx)(he.Z,{icon:"MdClose",iconSize:20,width:40,height:40,onClick:j})})]})]},"row"+t)}));const we=(0,v.Z)((function(e){e.openSection;var t=(0,A.Z)(c.default.settings.syncAccounts,ve.Z.isLoaded,c.default.billingManager._premiumStatus),n=a()(t,2),r=n[0],d=n[1],u=Object.keys(r),f=(0,l.useMemo)((function(){var e=function(){var e=h()(p().mark((function e(t){var n,r,a,i;return p().wrap((function(e){for(var s=0;;){if(s++>5e3&&__infLoop&&__infLoop(s))throw new RangeError;switch(e.prev=e.next){case 0:if(n=c.default.billingManager.premiumLevel.get(),r=u.length,a=o.Z.MaxAccounts[n],!("Pro"===n||r<a)){e.next=10;break}return i=[o.Z.PluginID.Contacts,o.Z.PluginID.GCalendar,o.Z.PluginID.Drive].filter((function(e){return!!e})),e.next=8,be(void 0,i,!1);case 8:e.next=11;break;case 10:c.default.menus.openContextMenu({componentName:"ReactContextMenuUpsell",element:t.target,premiumMessage:"Using more than ".concat(a," sync account is a Premium feature."),enableMessage:"unlimited sync accounts"});case 11:case"end":return e.stop()}}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("div",{className:"mt-2 leading-snug c-foreground-faded",children:["Plugin data is cached locally on your device and is never sent to any server. See our ",(0,_.jsx)("span",{className:"cursor-pointer c-link",onClick:function(){return i.Z.openUrl(s.Z.getPrivacyPolicyURL())},children:"Privacy Policy"})," for more details."]}),(0,_.jsxs)(xe.Z,{className:"pt-10",children:[(0,_.jsxs)("div",{className:"flex font-bold text-18",children:[(0,_.jsx)("div",{className:"flex-1",children:"Google Accounts"}),(0,_.jsx)(_e,{children:(0,_.jsx)("img",{width:Ce,height:Ce,src:"/img/plugin-gcontacts.png"})}),(0,_.jsx)(_e,{children:(0,_.jsx)("img",{width:Ce,height:Ce,src:"/img/plugin-gcal.png"})}),(0,_.jsx)(_e,{children:(0,_.jsx)("img",{width:Ce,height:Ce,src:"/img/plugin-gdrive.png"})}),(0,_.jsx)(_e,{})]},"header"),u.map((function(e){return(0,_.jsx)(ke,{accountID:e,syncAccount:r[e]},e)}))]}),(0,_.jsx)("div",{className:"pt-2 pb-10",children:(0,_.jsx)(he.Z,{icon:"MdAdd",height:32,mode:"contained",onClick:e,text:"ADD ACCOUNT",newStyle:!0,showLoader:!0})})]})}),[u,r]);return d?f:(0,_.jsx)(C.Z,{style:{marginTop:40},children:"Loading Google Authorization"})})),Ee=(0,v.Z)((function(e){var t=e.openSection,n=(0,A.Z)(ge.Z._contacts),r=a()(n,1)[0];return(0,_.jsxs)("div",{className:"new-modal-group",children:[(0,_.jsx)("div",{className:"title",children:"Sync with Google Contacts"}),(0,_.jsx)(we,{openSection:t}),(0,_.jsxs)("div",{className:"subtext",children:[(0,_.jsx)("span",{children:"We will not send emails or otherwise communicate with your contacts unless you ask us to."}),(0,_.jsx)("span",{children:" If you need instant access to contacts you just added you can sync them by pressing the button below, otherwise your contacts will appear automatically after a few hours."})]}),(0,_.jsxs)("div",{className:"center",children:[(0,_.jsx)(g.Z,{id:"refreshContacts",raised:!0,primary:!0,onClick:ye.Z.onTapRefreshContacts,children:"REFRESH CONTACTS"}),(0,_.jsx)("div",{id:"numContacts",children:r.length+" contacts loaded"})]})]},"content")}));var je=[R()({},o.Z.DateFormat.MDY,"M/D/Y"),R()({},o.Z.DateFormat.DMY,"D/M/Y"),R()({},o.Z.DateFormat.DMYDot,"D.M.Y"),R()({},o.Z.DateFormat.YMD,"Y/M/D"),R()({},o.Z.DateFormat.YMDDot,"Y.M.D")],De=[{Sunday:"Sunday"},{Monday:"Monday"}];const Ze=(0,v.Z)((function(e){var t=e.openSection,n=(0,A.Z)(c.default.billingManager.hasPremiumFeaturesObservable),r=a()(n,1)[0];return(0,_.jsxs)("div",{children:[(0,_.jsx)(le,{title:"Date format",valueObservable:c.default.settings.dateFormat,options:je,style:{width:80},styleTitle:{width:140}}),(0,_.jsx)(le,{title:"Start week on",valueObservable:c.default.settings.dayWeekStart,getValueFromSelected:function(e){return"Monday"===e?1:0},getSelectedFromObservable:function(e){return 1===e?"Monday":"Sunday"},options:De,style:{width:80},styleTitle:{width:140}}),(0,_.jsx)(ue,{title:"Number of days in custom calendar view",className:"py-4",valueObservable:c.default.settings.calendarCustomDays,minValue:1,maxValue:14}),s.Z.supportsNotifications()&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("hr",{}),(0,_.jsx)(q,{feature:"Notifications",onlyPro:!0,openSection:t}),(0,_.jsxs)("div",{className:i.Z.classNames(!r&&"opacity-50 pointer-events-none"),children:[(0,_.jsx)(ie,{checkedObservable:c.default.settings.disableNotifications,title:"Enable notifications",description:"Display notifications for items with dates and times.",getCheckedFromObservable:function(e){return r&&!e},getValueFromChecked:function(e){return!e},onChange:function(e){e&&r?s.Z.usesHTML5Notifications()?s.Z.hasNotificationPermission()||Notification.requestPermission((function(e){"granted"===e?c.default.timeline.updateNotifications():(c.default.settings.disableNotifications.set(!0),c.default.toasts.pushMessage({text:"To enable notifications in the future, you must first give permission in your browser.",action:o.Z.MessageAction.OpenURL,actionText:"LEARN MORE",data:{url:"https://support.google.com/chrome/answer/6148059"}}))})):c.default.timeline.updateNotifications():c.default.timeline.clearNotifications()}}),(0,_.jsx)(ue,{title:"Notification time",valueObservable:c.default.settings.notificationDelay,minValue:0,maxValue:120,interval:5,description:"Time in minutes before event to display a notification about the event.",onChange:function(e){i.Z.sendEvent("NotificationDelay","Changed",e)}})]})]})]},"content")}));var Pe=n(87526);const Be=(0,v.Z)((function(){return(0,_.jsx)("div",{children:(0,_.jsxs)("div",{className:"modal-row",children:[(0,_.jsx)("div",{className:"mt-4",children:(0,_.jsx)(g.Z,{raised:!0,onClick:function(){c.default.menus.confirm("This will clear your local data and sign you out. Are you sure?",(function(e){e&&x.Z.clearLocalData()}))},children:"Clear Local Data"})}),(0,_.jsx)("div",{className:"mt-4",children:(0,_.jsx)(g.Z,{raised:!0,onClick:function(e,t){return h()(p().mark((function e(){return p().wrap((function(e){for(var n=0;;){if(n++>5e3&&__infLoop&&__infLoop(n))throw new RangeError;switch(e.prev=e.next){case 0:return e.next=2,Pe.Z.checkEncryptionProblemsInAllDocs();case 2:e.sent||c.default.menus.alert({text:"No problems detected!"}),t();case 5:case"end":return e.stop()}}}),e)})))(),!0},children:"Check for encryption errors"})}),(0,_.jsxs)("div",{className:"mt-4",children:[(0,_.jsx)(ie,{checkedObservable:c.default.settings.showDebugInfo,title:"Show Extra Debug Info",description:"Only enable this if the developers asked you for help tracking down an issue."}),(0,_.jsx)(ie,{checkedObservable:c.default.settings.disableAnimations,title:"Disable animations",description:"Disable pane and item animations."})]})]})},"content")}));var Me=n(86986),Ne=o.Z.KeyCode;const Oe=(0,v.Z)((function(e){var t=e.className,n=e.style,r=e.value,d=e.width,u=e.height,h=e.fontSize,f=e.border,p=e.onChange,m=e.backgroundTheme,g=e.disabled,y=e.requiresModifier,v=(0,l.useState)(r),A=a()(v,2),x=A[0],C=A[1],b=(0,l.useState)(),k=a()(b,2),w=k[0],E=k[1],j=(0,l.useRef)(),D=function(){i.Z.batchRenderUpdates((function(){C(""),p("")})),j.current.blur()},Z=x?c.default.hotkeys.printHotkey(x):"";return(0,_.jsx)(Me.Z,{className:t,placeholder:"Enter a hotkey",width:d,value:Z,onKeyDown:function(e){if(e.keyCode!==Ne.Ctrl&&e.keyCode!==Ne.LeftMeta&&e.keyCode!==Ne.Alt&&e.keyCode!==Ne.Shift&&(!y||e.metaKey||e.ctrlKey||e.altKey)){var t=function(e){var t=[],n=s.Z.mac;(n&&e.metaKey||!n&&e.ctrlKey)&&t.push("Pr"),(n&&e.ctrlKey||!n&&e.altKey)&&t.push("Se"),n&&e.altKey&&t.push("Op"),e.shiftKey&&t.push("Sh");var r=e.nativeEvent.code.replace("Key","").replace("Digit","D");if("NumpadEnter"===r&&(r="Enter"),o.Z.KeyCode[r])return t.push(r.capitalize()),t.join("+");c.default.toasts.pushMessage("Key unsupported: "+r+" "+e.keyCode)}(e);t&&(!1!==p(t)?C(t):C(""))}else e.keyCode===Ne.Delete||e.keyCode===Ne.Backspace?D():e.keyCode===Ne.Escape?(C(r),j.current.blur()):C(r);e.preventDefault()},style:Object.assign({caretColor:"transparent"},n),onFocus:function(){E(!0)},onBlur:function(){i.Z.batchRenderUpdates((function(){""===x&&C(r),E(!1)}))},border:f,backgroundTheme:m,height:u,fontSize:h,disabled:g,ref:j,buttonText:w?"X":void 0,onButtonClick:D,blurOnEscape:!0})}));var Se=n(95554);const Ie=(0,v.Z)((function(){var e=(0,l.useState)(""),t=a()(e,2),n=t[0],r=t[1],o=(0,l.useState)(""),i=a()(o,2),d=i[0],u=i[1],h=(0,A.Z)(c.default.settings.appHotkeys),f=a()(h,1)[0];(0,l.useEffect)((function(){c.default.ElectronBridge.getPrefs((function(e){r(e.backupDir),u(e.docsDir)}))}),[]);var p=function(e){return function(t){if(t){if(f.newEmail===t||f.newItem===t)return!1;c.default.settings.appHotkeys.setProperty(e,t)}else c.default.settings.appHotkeys.deleteProperty(e)}};return(0,_.jsxs)("div",{children:[(0,_.jsx)(ie,{checkedObservable:c.default.settings.backupLocal,title:"Enable automatic backups",description:"Backups saved in: ".concat(n)}),s.Z.supportLocalFiles()&&(0,_.jsx)(_.Fragment,{children:(0,_.jsxs)("div",{className:"mt-8 modal-row",children:[(0,_.jsx)("div",{className:"settingsName ib bold",style:{marginBottom:8},children:"Save local files in:"}),(0,_.jsx)(Me.Z,{readonly:!0,value:d,buttonText:"CHANGE",onButtonClick:function(){c.default.ElectronBridge.openDirectoryDialog((function(e){var t=e.filePaths[0];if(t){var n=!1,r=function(){console.log("setting docs folder to",t),c.default.ElectronBridge.setDocsFolder(t,n,(function(e){e||(u(t),Se.Z.reload())}))};Se.Z.numDocuments()>0?c.default.menus.confirm("Do you want move existing files to the new folder?",(function(e){n=e,r()})):r()}}))}})]})}),(0,_.jsxs)("div",{className:"mt-8",children:[(0,_.jsx)("div",{className:"text-xl font-bold",children:"Global hotkeys"}),(0,_.jsxs)("div",{className:"flex items-center my-4",children:[(0,_.jsx)("span",{className:"font-bold",style:{width:80},children:"New Item:"}),(0,_.jsx)(Oe,{className:"mx-4",value:f.newItem,width:150,requiresModifier:!0,onChange:p("newItem")})]}),(0,_.jsxs)("div",{className:"flex items-center my-4",children:[(0,_.jsx)("span",{className:"font-bold",style:{width:80},children:"New Email:"}),(0,_.jsx)(Oe,{className:"mx-4",value:f.newEmail,width:150,requiresModifier:!0,onChange:p("newEmail")})]})]})]},"content")})),Te=(0,v.Z)((function(e){e.openSection;var t=(0,l.useState)(!1),n=a()(t,2),r=n[0],o=n[1],s=(0,l.useRef)();return(0,_.jsxs)("div",{className:"new-modal-group",children:[(0,_.jsxs)("div",{className:"new-modal-title",children:[(0,_.jsx)("div",{className:"title",children:"Send Feedback"}),(0,_.jsx)("div",{className:"subtext middle",children:"Send the developers bug reports, feedback, or suggestions. Your feedback is very helpful in planning what to do next."})]}),(0,_.jsxs)("div",{className:"earlyAccessFeedback",children:[(0,_.jsx)("textarea",{className:"feedbackTextArea c-background c-foreground",ref:s,style:{marginBottom:16,color:r?"#aaa":null}}),(0,_.jsxs)("div",{style:{textAlign:"right"},children:[(0,_.jsx)(g.Z,{raised:!0,onClick:function(){s.current.value="",s.current.focus()},children:"DISCARD"}),(0,_.jsx)(g.Z,{raised:!0,primary:!0,marginLeft:16,onClick:function(e,t){var n=s.current.value;if(n&&n.length>2){o(!0);return c.default.sendFeedback("Moo.do Feedback",n).then((function(){s.current.value="",o(!1),t&&i.Z.isFunction(t)&&t()})),!0}},children:"SEND"})]})]})]},"content")}));function Le(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S()(e);if(t){var a=S()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return N()(this,n)}}var Re=[{"":"None"},R()({},o.Z.Prefix.Task,"Task"),R()({},o.Z.Prefix.Bullet,"Bullet")];const Fe=function(e){B()(n,e);var t=Le(n);function n(){return j()(this,n),t.apply(this,arguments)}return Z()(n,[{key:"init",value:function(){var e=this;this.createObservables({isStoragePersisted:!1,usage:NaN,quota:NaN}),s.Z.isStoragePersisted((function(t){e.isStoragePersisted.set(t)})),s.Z.estimateAvailableStorage((function(t){e.usage.set(t.usage),e.quota.set(t.quota)}),(function(){}))}},{key:"onCacheRatioClick",value:function(){this.getCacheRatio()<.98&&(c.default.settings.cacheSizeRatio.set(1),i.Z.sendEvent("CacheRatio","Changed",1),c.default.toasts.pushMessage({text:"Success!",action:o.Z.MessageAction.Okay}))}},{key:"parseFn",value:function(e){return parseFloat(e.toFixed(2))}},{key:"getCacheRatio",value:function(){return this.parseFn(c.default.pluginManager.getCacheSizeRatio())}},{key:"onPersistClick",value:function(e){var t=this;if(this.state.isStoragePersisted)return!1;e&&s.Z.requestStoragePersistence((function(){t.isStoragePersisted.set(!0)}),(function(){t.isStoragePersisted.set(!1)}))}},{key:"render",value:function(){var e=this.getCacheRatio()<.98,t=!s.Z.app&&s.Z.supportsPersistedStorage(),n=s.Z.supportsEstimatedStorage(),r=+(this.usage.get()/1024/1024).toFixed(2),a=+(this.quota.get()/1024/1024).toFixed(2);return(0,_.jsxs)("div",{className:"px-3",children:[(0,_.jsx)(le,{title:"Default item type",description:"The default prefix for all new items. If you prefer the bulleted look of an Outliner, choose Bullet. If you prefer a checklist, choose Task. If you prefer the flat look of a document, choose None.",valueObservable:c.default.settings.defaultItemPrefix,options:Re}),(0,_.jsx)(ie,{checkedObservable:c.default.settings.showMarkdown,title:"Show markdown formatting",description:"Show the raw Markdown formatting characters in selected items"}),(0,_.jsx)(ie,{checkedObservable:c.default.settings.showFormattingToolbar,title:"Enable formatting toolbar",description:"Show a toolbar with formatting hotkeys when text is selected",getCheckedFromObservable:function(e){return e>=0},getValueFromChecked:function(e){return e?1:-1}}),(0,_.jsx)(ie,{checkedObservable:c.default.settings.showStatusBar,title:"Show status bar",description:"Show a status bar at the bottom of panes with details about items"}),(0,_.jsx)(ie,{checkedObservable:c.default.settings.showImagesInline,title:"Show images inline",description:"Show images inline by default when inserting a link to an image, dragging a file from the Drive pane, or uploading an image from your computer. If disabled, it will show a link to the image."}),(0,_.jsx)(ie,{checkedObservable:c.default.settings.openEvernoteApp,title:"Open Evernote links in Evernote app",description:"If not enabled, Evernote links will open the Evernote website"}),s.Z.isDevURL&&(0,_.jsx)(ie,{checkedObservable:c.default.settings.testBetaFeatures,title:"Test beta features",description:(0,_.jsxs)("span",{children:["Beta test new UI features that may be unstable. See ",(0,_.jsx)("a",{href:"##BR_FORUM_URL##/t/beta-updates",className:"c-link",target:"_blank",children:"the forum"})," for details."]})}),(0,_.jsx)("hr",{}),t&&(0,_.jsx)(ie,{checkedObservable:this.isStoragePersisted,getValueFromChecked:function(){return!0},title:"Enable persistent storage",description:"Allow Moo.do to store your data offline without potential for the browser to delete it. This can help Moo.do's performance if your disk is low on free-space."}),e&&(0,_.jsxs)("div",{className:"modal-row",children:[(0,_.jsx)(g.Z,{raised:!0,onClick:this.onCacheRatioClick,children:"Reset Cache Ratio"}),(0,_.jsx)("div",{className:"modal-subtext c-foreground-faded",children:"If you have run out of disk space in the past, we may not be efficiently caching your data. If you have resolved any disk space issues, click this button to efficiently cache your data again."})]}),n&&(0,_.jsxs)("div",{className:"pt-4 modal-row",children:[(0,_.jsx)("div",{className:"modal-row-title",children:"Estimated disk usage"}),(0,_.jsxs)("div",{className:"modal-subtext",children:[(0,_.jsx)("b",{children:"Usage: "}),Math.round(r)," MB / ",(0,_.jsx)("b",{children:"Quota: "}),Math.round(a)," MB"]})]})]},"content")}}]),n}(I.a);var Ue=n(29437),We=n(49554),Ye=["","Command","Key 1","Key 2","Key 3","Key 4"],He=[{width:50},{minWidth:160,padded:!0,flex:!0},{width:100},{width:100},{width:100},{width:100}],ze=function(e,t,n,r){var a=c.default.hotkeys.config,o=i.Z.clone(a[e][t]);if(o[n]=r,o=o.filter((function(e){return!!e})),!1===c.default.hotkeys.setHotkey(e,t,o))return c.default.toasts.pushMessage("This hotkey is already taken"),!1},Ve=function(e,t){c.default.hotkeys.resetHotkey(e,t)},Ge=(0,v.Z)((function(e){var t=this,n=e.group,r=e.name,o=e.hasPremiumFeatures,s=e.requiresModifier,l=e.config,d=(0,Ue.Z)(),u=a()(d,2),h=u[0],f=u[1];return(0,_.jsxs)(We.C3,{ref:h,children:[(0,_.jsx)(We.zt,{children:l!==c.default.hotkeys.defaultConfig[n][r]&&(0,_.jsx)(g.Z,{padding:0,width:50,height:30,cancel:!0,display:"block",onClick:Ve.bind(this,n,r),children:"Reset"})}),(0,_.jsx)(We.zt,{children:i.Z.addSpacesToCamelCase(r)}),l.map((function(e,a){return(0,_.jsx)(We.zt,{children:(0,_.jsx)(Oe,{value:e,onChange:ze.bind(t,n,r,a),border:!1,backgroundTheme:"c-bg-light",height:30,fontSize:13,disabled:!o,requiresModifier:s})},e)})),f&&o&&l.length<4&&(0,_.jsx)(We.zt,{children:(0,_.jsx)(Oe,{value:"",onChange:ze.bind(this,n,r,l.length),border:!1,backgroundTheme:"c-bg-light",height:30,fontSize:13,requiresModifier:s})})]},r)}));const Ke=(0,v.Z)((function(e){var t=e.openSection,n=(0,A.Z)(c.default.billingManager.hasProFeaturesObservable,c.default.settings.hotkeys),r=a()(n,1)[0],o=c.default.hotkeys.config;return(0,_.jsxs)("div",{children:[(0,_.jsx)(q,{feature:"Custom hotkeys",onlyPro:!0,openSection:t}),(0,_.jsx)("div",{className:"text-xl bold",children:"Customize Hotkeys"}),(0,_.jsx)("div",{className:"pt-2 pb-4 text-xs leading-tight c-foreground-light",children:"Click on any key to change it."}),(0,_.jsxs)(We.eM,{columnOptions:He,style:qe,children:[(0,_.jsx)(We.C3,{header:!0,children:Ye.map((function(e,t){return(0,_.jsx)(We.zt,{children:e},e)}))}),Object.keys(o).map((function(e){return(0,_.jsxs)(l.Fragment,{children:[(0,_.jsx)(We.C3,{children:(0,_.jsx)(We.zt,{className:"px-2 text-lg leading-loose bold",children:e})}),Object.keys(o[e]).map((function(t){return(0,_.jsx)(Ge,{group:e,name:t,requiresModifier:"Email"!==e,hasPremiumFeatures:r,config:o[e][t]},t)}))]},e)}))]})]},"content")}));var qe={lineHeight:"30px",border:"1px solid",overflowX:"auto",marginLeft:-8,marginRight:-8};const Qe=(0,v.Z)((function(){var e=(0,A.Z)(c.default.settings.encryptionKeys),t=a()(e,1)[0],n=!(null===t||void 0===t||!t[o.Z.EncryptionKeys.UserPassword]),r=(0,l.useState)(!1),s=a()(r,2),d=s[0],u=s[1],f=(0,l.useState)(!1),y=a()(f,2),v=y[0],x=y[1],b=(0,l.useState)(),k=a()(b,2),w=k[0],E=k[1],j=(0,l.useRef)(),D=(0,l.useRef)();(0,l.useEffect)((function(){c.default.onIntroAction("Encryption")}),[]);var Z=function(e,t){var n=j.current.getValue(),r=D.current.getValue(),a=o.Z.EncryptionKeys.UserPassword;if(n){if(n!==r)E("Passwords do not match");else if(n.length<5)E("Password is too short. Please enter a longer password to make it secure.");else if(!i.Z.isDemoMode())return c.default.menus.confirmEncrypt(n,(function(e){e?(x(!0),$.Z.backupAuto().then((function(){var e=c.default.crypto.getKey(o.Z.EncryptionKeys.UserPassword)||c.default.crypto.getKey(o.Z.EncryptionKeys.Global);(d?c.default.crypto.updateKey:c.default.crypto.addKey)({name:a,password:n,sentinelSalt:m.Z.getEncryptionUid()}).then((function(n){Pe.Z.updateUserEncryption(n,e).then((function(){u(!1),x(!1),t()}))}))}))):t()})),!0}else E("No password entered")},P=!n||d,B={marginTop:8,width:240};return(0,_.jsx)("div",{children:(0,_.jsx)("div",{className:"modal-row",children:P?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("div",{children:[(0,_.jsx)("div",{className:"settingsName ib bold",children:"Encrypt data with a password"}),(0,_.jsx)("div",{className:"modal-subtext c-foreground-faded",children:"Your data is encrypted client-side before sending it to the database. For an extra level of security, you can enter your own password for the encryption. This makes it so that even the developers cannot read your data, and it cannot be recovered."})]}),(0,_.jsxs)("div",{style:{marginTop:16},children:[(0,_.jsx)(Me.Z,{type:"password",placeholder:"Password",ref:j,style:B,onButtonClick:Z}),(0,_.jsx)(Me.Z,{type:"password",placeholder:"Confirm Password",ref:D,style:B,onButtonClick:Z})]}),w&&(0,_.jsx)("div",{className:"error",style:{marginTop:8},children:w}),(0,_.jsxs)("div",{className:"modal-warning flexbox c-warning",children:[(0,_.jsx)("i",{className:"icon-warning"}),(0,_.jsx)("div",{children:"If you lose this password, all your data will be lost! For your security, Moo.do cannot recover your password, so keep your password safe. This is competely optional (see above)."})]}),(0,_.jsx)("div",{style:{marginTop:8},children:(0,_.jsx)(g.Z,{raised:!0,primary:!0,onClick:Z,children:"Save"})}),v&&(0,_.jsx)(C.Z,{center:!0,className:"z-10 bg-gray-900 bg-opacity-70",children:"Encrypting..."})]}):(0,_.jsx)(_.Fragment,{children:(0,_.jsxs)("div",{children:[(0,_.jsx)("div",{className:"settingsName ib bold",children:"Your data is encrypted with your password"}),(0,_.jsxs)("div",{style:{marginTop:16},children:[(0,_.jsx)(g.Z,{raised:!0,primary:!0,onClick:function(e,t){return h()(p().mark((function e(){return p().wrap((function(e){for(var n=0;;){if(n++>5e3&&__infLoop&&__infLoop(n))throw new RangeError;switch(e.prev=e.next){case 0:return e.next=2,Pe.Z.checkEncryptionProblemsInAllDocs("We have detected some encryption errors in your data. Changing your password will make this unrecoverable, so please fix any encryption errors first.");case 2:e.sent||u(!0),t();case 5:case"end":return e.stop()}}}),e)})))(),!0},children:"Change"}),(0,_.jsx)(g.Z,{raised:!0,cancel:!0,marginLeft:16,onClick:function(e,t){return c.default.menus.confirm("Are you sure you want to remove your encryption password?",(function(e){e?(x(!0),$.Z.backupAuto().then((function(){var e=c.default.crypto.getKey(o.Z.EncryptionKeys.UserPassword);Pe.Z.updateUserEncryption(c.default.crypto.getGlobalKeyInfo(),e).then((function(){x(!1),t()}))}))):t()})),!0},children:"Remove"})]})]})})})},"content")}));var Xe=n(82496),Je=n(66935),$e=function(){c.default.openUrl(s.Z.getAppDownloadURL())};const et=(0,v.Z)((function(){var e=(0,A.Z)(c.default.settings.emailViewAccounts,Je.Z.getPluginNew("Email").accountsNeedSignin,c.default.billingManager.premiumLevel),t=a()(e,3),n=t[0],r=t[1],d=t[2],u=(0,l.useCallback)((function(e){var t=d,r=n.length,a=o.Z.MaxAccounts[t];if("Pro"===t||r<a)return!0;c.default.menus.openContextMenu({componentName:"ReactContextMenuUpsell",element:e.target,premiumMessage:"Using more than ".concat(a," sync account is a Premium feature."),enableMessage:"unlimited sync accounts"})}),[n,d]),h=(0,l.useMemo)((function(){var e=function(e){return function(){c.default.menus.confirm("Are you sure you want to remove ".concat(e,"?"),(function(t){if(t){var n=c.default.settings.emailViewAccounts.findIndex((function(t){return t.e===e}));c.default.settings.emailViewAccounts.removeAt(n)}}))}};return c.default.supportEmailViews()||i.Z.isDemoMode()?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)(xe.Z,{className:"pt-10",children:[(0,_.jsxs)("div",{className:"flex items-center pb-1",children:[(0,_.jsx)("img",{width:28,height:28,src:"/img/plugin-gmail.png"}),(0,_.jsx)("span",{className:"pl-2 font-bold text-18",children:"Gmail"}),(0,_.jsxs)("span",{className:"pl-4 c-foreground-very-faded",children:["Also check out the ",(0,_.jsx)("span",{className:"text-xs cursor-pointer c-link",onClick:function(){return c.default.openUrl(s.Z.getChromeExtensionURL())},children:"Chrome Extension"})," and ",(0,_.jsx)("span",{className:"text-xs cursor-pointer c-link",onClick:function(){return c.default.openUrl(s.Z.getGmailAddonURL())},children:"Gmail Add-On"}),"."]})]},"header"),n.filter((function(e){return"g"===e.s})).map((function(t){var n,a=t.e,i=t.s;return(0,_.jsxs)("div",{className:"flex items-center",children:[(0,_.jsx)("div",{className:"flex-1 column",children:a}),r["g:"+a]&&(0,_.jsx)("div",{className:"column",children:(0,_.jsx)(he.Z,{className:"font-semibold",text:"FIX",primary:!0,mode:"contained",padding:"px-4",height:32,iconSize:18,onClick:(n=a,function(){c.default.menus.openModal(o.Z.Modals.GmailAuth,{callback:function(e){e&&e===n&&Je.Z.getPluginNew("Email").setAccountFixed(e,"g")}})})})}),(0,_.jsx)("div",{className:"column",children:(0,_.jsx)(he.Z,{icon:"MdClose",width:40,height:40,iconSize:18,onClick:e(a)})})]},a+i)}))]}),(0,_.jsx)("div",{className:"pt-2",children:(0,_.jsx)(he.Z,{icon:"MdAdd",height:32,mode:"contained",onClick:function(e){u(e)&&c.default.menus.openModal(o.Z.Modals.GmailAuth,{callback:function(e){console.log("authed email",e),e&&c.default.settings.addEmailViewAccount(e,"g")}})},text:"ADD ACCOUNT",newStyle:!0})})]}):void 0}),[n,n.length,Object.keys(r).length]),f=(0,l.useMemo)((function(){var e=function(e){return function(t){u(t)&&c.default.menus.openModal(o.Z.Modals.OutlookAuth,{business:e,callback:function(t){var n=t.accountID,r=t.num;console.log("authed email",n,r),n&&c.default.settings.addEmailViewAccount(n,"o",r,e)}})}},t=function(e){return function(){c.default.menus.confirm("Are you sure you want to remove ".concat(e.e,"?"),(function(t){if(t){var n=c.default.settings.emailViewAccounts.findIndex((function(t){return t.e===e.e&&t.s===e.s}));c.default.settings.emailViewAccounts.removeAt(n)}}))}},a=function(e){return function(){c.default.menus.openModal(o.Z.Modals.OutlookAuth,{business:e.b,account:e,callback:function(e){var t=e.accountID;t&&Je.Z.getPluginNew("Email").setAccountFixed(t,"o")}})}};return c.default.supportOutlookViews()||i.Z.isDemoMode()?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)(xe.Z,{className:"pt-10",children:[(0,_.jsxs)("div",{className:"flex items-center pb-1",children:[(0,_.jsx)("img",{width:28,height:28,src:"/img/plugin-outlook.svg"}),(0,_.jsx)("span",{className:"pl-2 font-bold text-18",children:"Outlook"})]},"header"),n.filter((function(e){return"o"===e.s})).map((function(e){return(0,_.jsxs)("div",{className:"flex items-center",children:[(0,_.jsx)("div",{className:"flex-1 column",children:e.e}),r["o:"+e.e]&&(0,_.jsx)("div",{className:"column",children:(0,_.jsx)(he.Z,{className:"font-semibold",text:"FIX",primary:!0,mode:"contained",padding:"px-4",height:32,iconSize:18,onClick:a(e)})}),(0,_.jsx)("div",{className:"column",children:(0,_.jsx)(he.Z,{icon:"MdClose",width:40,height:40,iconSize:18,onClick:t(e)})})]},e.e+e.s)}))]}),(0,_.jsxs)("div",{className:"pt-2",children:[(0,_.jsx)(he.Z,{icon:"MdAdd",height:32,mode:"contained",onClick:e(!1),text:"ADD PERSONAL",newStyle:!0}),(0,_.jsx)(he.Z,{icon:"MdAdd",height:32,mode:"contained",onClick:e(!0),text:"ADD 365",newStyle:!0,className:"ml-2"})]})]}):void 0}),[n,n.length,Object.keys(r).length]);return(0,_.jsxs)("div",{className:"new-modal-group",children:[(0,_.jsx)("div",{className:"title",children:"Sync your Gmail and Outlook accounts"}),(0,_.jsxs)("div",{className:"mt-2 leading-snug c-foreground-faded center",children:["Email data is never sent to any server. See our ",(0,_.jsx)("span",{className:"cursor-pointer c-link",onClick:function(){return i.Z.openUrl(s.Z.getPrivacyPolicyURL())},children:"Privacy Policy"})," for more details."]}),h,f,!c.default.supportEmailViews()&&(0,_.jsxs)("div",{className:"flex items-center px-6 py-6 mt-10 rounded-lg c-bg-lighter",onClick:$e,children:[(0,_.jsxs)("div",{className:"flex-1 pr-4",children:["Email sync requires features only available in the desktop apps. Please download the ",s.Z.getPlatformName()," app to use email sync."]}),(0,_.jsx)(he.Z,{mode:"contained",padding:"px-4",newStyle:!0,primary:!0,text:"DOWNLOAD"})]}),(0,_.jsxs)("div",{className:"pt-10",children:[(0,_.jsx)("div",{className:o.Z.Tailwind.SettingsHeader,children:"OPTIONS"}),(0,_.jsx)(ie,{title:"Archive emails when organized",checkedObservable:c.default.settings.archiveEmailsOnOrganize,description:"If enabled, when you drag an email to a document it will be archived."})]})]},"content")})),tt=(0,v.Z)((function(e){var t=e.openSection;return(0,_.jsxs)("div",{className:"new-modal-group",children:[(0,_.jsx)("div",{className:"title",children:"Sync with Google Drive"}),(0,_.jsx)(we,{openSection:t})]},"content")}));var nt=0,rt=function(e,t){var n=e.accountID&&t.accountID?e.accountID.localeCompare(t.accountID):0;if(0===n)return e.summary.localeCompare(t.summary);var r=ve.Z.getDefaultAccountID();return e.accountID===r&&(n=-1),t.accountID===r&&(n=1),n},at=(0,v.Z)((function(e){e.openSection;var t,n,r=c.default.pluginManager.getPluginGCalendar(),s=(0,A.Z)(ye.Z.GCalendarsAvailable,ye.Z.GCalendarSyncErrors,ye.Z.GCalendarAddFailure,ye.Z.GCalendarListFailure,ye.Z.GCalendarListLoading,ve.Z.erroredAuthTokens,c.default.settings.syncAccounts,ye.Z.getPluginOptionObservable("GCalendar","importCalendars"),ye.Z.getPluginOptionObservable("GCalendar","exportCalendar")),d=a()(s,9),u=d[0],h=d[1],f=d[2],p=d[3],m=d[4],y=d[5],v=d[6],x=d[7],b=d[8],k=(0,l.useRef)(),w=(0,l.useRef)(!1),E=(0,l.useState)(),j=a()(E,2),D=j[0],Z=j[1],P=r.getSyncAccounts().length>0;(0,l.useEffect)((function(){return ye.Z.refresh(),function(){w.current&&r.isActive()&&r.forceRemoteEventSync()}}),[]);var B=0,M=!1;if(h)for(var N=0,O=0;O<h.length;O++){if(N++>5e3&&__infLoop&&__infLoop(N))throw new RangeError;var S=h[O].result;S===o.Z.SyncResult.FailureOAuth?M=!0:S!==o.Z.SyncResult.FailureNoRead&&S!==o.Z.SyncResult.FailureNoWrite||B++}var I=function(e){var t=!1;if(x)for(var n=0,r=0;r<x.length;++r){if(n++>5e3&&__infLoop&&__infLoop(n))throw new RangeError;var a=x[r];if(i.Z.isObject(a)||(a={id:a}),a.id===e.id){t=!0;break}}return t},T=function(e){var t=!1;return b&&(t=b===e.id),t},L=function(e){var t=o.Z.PluginSettingsID.GCalendar.ImportCalendars,n=T(e);n&&R();var r=i.Z.clone(x),a=r.indexOfWithProperty("id",e.id);if(a>=0)r.removeAt(a);else{try{i.Z.PAssert(501,!n,"Export calendar state must be matching with import calendar state")}catch(s){i.Z.reportError(s)}try{i.Z.PAssert(502,e.accountID,"Calendar should have an accountID")}catch(s){i.Z.reportError(s)}r.push({id:e.id,summary:e.summary,accessRole:e.accessRole,accountID:e.accountID})}ye.Z.setPluginOption(o.Z.PluginID.GCalendar,t,r,!1),w.current=!0},R=function(){ye.Z.setPluginOption(o.Z.PluginID.GCalendar,o.Z.PluginSettingsID.GCalendar.ExportCalendar,null,!1)},F=function(e){T(e)?R():function(e){ye.Z.setPluginOption(o.Z.PluginID.GCalendar,o.Z.PluginSettingsID.GCalendar.ExportCalendar,e.id,!1),w.current=!0,I(e)||L(e)}(e)};return M&&0===u.length?n=(0,_.jsxs)("div",{className:"center",children:[(0,_.jsx)("div",{className:"error",children:"We encountered a sync error. Please allow access to your calendar."}),(0,_.jsx)("br",{}),(0,_.jsx)(g.Z,{raised:!0,primary:!0,onClick:ye.Z.enablePlugin.bind(ye.Z,o.Z.PluginID.GCalendar),children:"ALLOW"})]}):p?n=(0,_.jsxs)("div",{className:"center",children:[(0,_.jsx)("div",{className:"error",children:"There was an error syncing your calendar list. Please try again."}),(0,_.jsx)("br",{}),(0,_.jsx)(g.Z,{raised:!0,primary:!0,onClick:ye.Z.updateCalendarList.bind(ye.Z),children:"RETRY"})]}):m&&i.Z.isEmpty(y)?n=(0,_.jsx)(C.Z,{children:"Loading Google Calendars..."}):(B>0&&(n=(0,_.jsx)("div",{className:"center",children:(0,_.jsxs)("div",{style:{maxWidth:600,lineHeight:1.5,marginBottom:16},className:"error",children:["There was an error reading or saving to your calendars. Please check your Google Calendar settings. The affected calendars are marked with a ",(0,_.jsx)(Ae.Z,{checked:!0,error:!0,style:{marginLeft:5,marginRight:5}})," below."]})})),t=P&&(0,_.jsxs)(xe.Z,{className:"calendarSettingsTable new-modal-row",children:[(0,_.jsxs)("div",{className:"fancyTableHeader",children:[(0,_.jsx)("div",{children:"Calendar Name"}),(0,_.jsx)("div",{children:"Sync"}),(0,_.jsx)("div",{children:"Is Default Save"})]},"header"),function(){var e=u,t=Object.keys(v),n=c.default.pluginManager.getPlugin(o.Z.PluginID.GCalendar),r={},a=[];e.sort(rt),e.forEach((function(e){r[e.accountID]||(r[e.accountID]=[]),r[e.accountID].push(e)}));var s=ve.Z.getDefaultAccountID();return t.includes(s)&&(t.remove(s),t.splice(0,0,s)),t.forEach((function(e){var t=r[e];if(a.push((0,_.jsx)("div",{className:"flex items-center leading-normal calendarAccount bold c-blue",children:(0,_.jsx)("div",{className:"flex-1",children:"Account: "+e})},"account_"+e)),t){t.forEach((function(t){var r,s,l=I(t),c=T(t),d="owner"===t.accessRole||"writer"===t.accessRole,u=i.Z.classNames("calendarSettingsName",{import:l},{export:c});if(h){var f=h.indexOfWithProperty("id",t.id);if(f>=0){var p=h[f];p.result===o.Z.SyncResult.FailureNoRead?r=!0:p.result===o.Z.SyncResult.FailureNoWrite&&(s=!0)}}var m=n.getCalendarBackgroundColor(t.id);a.push((0,_.jsxs)("div",{children:[(0,_.jsx)("div",{className:u,children:t.summary||t.id}),(0,_.jsx)(Ae.Z,{checked:l,error:r,checkedColor:m,onChange:function(){return L(t)}}),d?(0,_.jsx)(Ae.Z,{checked:c,checkedColor:m,error:r||s,radio:!0,onChange:function(){return F(t)}}):(0,_.jsx)("div",{})]},t.id+e))}));var s=D===e;a.push((0,_.jsxs)(l.Fragment,{children:[f&&(0,_.jsx)("div",{children:(0,_.jsx)("div",{style:{textAlign:"center"},children:"There was an error creating your new calendar. Please try again."})},"footerError"),s&&(0,_.jsx)("div",{children:(0,_.jsx)(Me.Z,{ref:k,floatingText:"New calendar name",padding:{left:0,right:24},height:50,buttonText:"ADD",onButtonClick:function(t){return function(e,t){ye.Z.addCalendar(e,t),Z(void 0)}(e,t)}})},"footer"),!s&&(0,_.jsx)("div",{children:(0,_.jsx)("div",{style:{textAlign:"center"},children:(0,_.jsx)(g.Z,{height:"auto",onClick:function(){return function(e){Z(e),setTimeout((function(){k.current.focus()}),0)}(e)},children:"ADD NEW CALENDAR"})})},"footer")]},"add"+e))}})),a}()]})),(0,_.jsxs)("div",{children:[n,t]})}));const ot=(0,v.Z)((function(e){var t=e.openSection,n=c.default.pluginManager.getPlugin(o.Z.PluginID.GCalendar);(0,l.useEffect)((function(){c.default.onIntroAction("PluginSettings")}),[]);var r=function(){clearTimeout(nt),nt=setTimeout((function(){var e=c.default.pluginManager.getPlugin(o.Z.PluginID.GCalendar);try{i.Z.PAssert(503,e,"GCalendar plugin does not exist. HOW?")}catch(t){i.Z.reportError(t)}e&&e.runCalendarSync()}),5e3)};return(0,_.jsxs)("div",{className:"new-modal-group",children:[(0,_.jsx)("div",{className:"title",children:"Sync with Google Calendar"}),(0,_.jsx)(we,{openSection:t}),(0,_.jsx)(at,{openSection:t}),(0,_.jsx)("div",{className:i.Z.classNames(o.Z.Tailwind.SettingsHeader),children:"OPTIONS"}),(0,_.jsxs)("div",{children:[(0,_.jsx)(ue,{title:"Weeks in the past",className:"py-4",valueObservable:n.getSettingObs(o.Z.PluginSettingsID.GCalendar.WeeksPast),minValue:0,maxValue:-o.Z.CalendarMinSyncWeeks,onChange:r,styleTitle:{width:150}}),(0,_.jsx)(ue,{title:"Weeks in the future",className:"py-4",valueObservable:n.getSettingObs(o.Z.PluginSettingsID.GCalendar.WeeksFuture),minValue:0,maxValue:o.Z.CalendarMaxSyncWeeks,onChange:r,styleTitle:{width:150}})]}),(0,_.jsx)(ie,{title:"Display overdue Google Calendar events in agenda",checkedObservable:n.getSettingObs(o.Z.PluginSettingsID.GCalendar.DisplayOverdueInAgenda),description:"In the Agenda view of the Calendar Pane, display events from Google Calendar that happened in the past."}),(0,_.jsx)(ie,{title:"Sync dragged events",checkedObservable:n.getSettingObs(o.Z.PluginSettingsID.GCalendar.SyncDraggedEvents),description:"Add events to Google Calendar when dragging onto the Calendar pane."}),(0,_.jsx)(ie,{title:"Sync new events created in add item popup by default",checkedObservable:n.getSettingObs(o.Z.PluginSettingsID.GCalendar.SyncNewEvents),description:"When adding events in the New Item popup, an event will be created in the selected Google Calendar."}),(0,_.jsx)(ie,{title:"Sync new events created in date popup by default",checkedObservable:n.getSettingObs(o.Z.PluginSettingsID.GCalendar.SyncPopup),description:"When setting dates in the date popup popup, an event will be created in the selected Google Calendar."}),(0,_.jsx)(ie,{title:"Create a local item for new calendar events by default",checkedObservable:n.getSettingObs(o.Z.PluginSettingsID.GCalendar.CreateLocalEvents),description:"When adding events in the New Item popup, a Moo.do item will be created in the current document."})]},"content")}));var it=n(15467),st=n(65981),lt={duration:.15},ct={Basic:{month:7,year:5},Pro:{month:12,year:9},Lifetime:{month:399,year:399,discount:299},Legacy:{month:5,year:49/12}},dt={Basic:["20 panes","3 plugin accounts","Notifications"],Pro:["Unlimited panes","Unlimited plugin accounts","Board Folders","Pane naming","Advanced display settings","Agenda customization","Custom hotkeys"],Lifetime:["One time payment","All future features forever"]};function ut(e){var t=e.name;return(0,_.jsx)("div",{children:dt["Legacy"===t?"Pro":t].map((function(e,t){return(0,_.jsxs)("div",{className:"flex items-center py-2",children:[e&&(0,_.jsx)(st.J,{name:"MdCheck",className:"mr-2"}),e]},t)}))})}var ht=["2m4b","gjgm","pmjw","5pm2"];function ft(e){var t,n=e.name,r=e.frequency,a=e.popular,s=e.theme,d=e.premiumPlan,u=e.currentPlanID,f=e.size,m=e.onSize,g=e.setPurchasing,y=e.openSection,v=ct[n][r],A=i.Z.round(v,2),x=ct[n].discount,C="Pro"===d&&"Basic"===n,b="Lifetime"===n?n:o.Z.PremiumPlans[n][r],k=u===o.Z.PremiumPlans.Legacy.month||u===o.Z.PremiumPlans.Legacy.year?"Legacy"===n:n===d,w=b===u;m&&(t=(0,l.useRef)(),(0,te.d)(t,(function(e){return m(e.height)})));var E=function(){var e=h()(p().mark((function e(){var t;return p().wrap((function(e){for(var a=0;;){if(a++>5e3&&__infLoop&&__infLoop(a))throw new RangeError;switch(e.prev=e.next){case 0:if(!d||"Free"===d){e.next=5;break}t=ht.includes(u)||"frr6"==u||"p9m6"===u&&("gbf2"===b||"8c7w"===b)||"gbf2"===u&&"8c7w"===b,c.default.menus.confirm("Are you sure you want to change your billing plan to ".concat(n,"?").concat("Lifetime"===n||t?"":" The change will take effect at the end of this billing cycle."),function(){var e=h()(p().mark((function e(t){var a,o,s,l;return p().wrap((function(e){for(var d=0,u=0;;){if(u++>5e3&&__infLoop&&__infLoop(u))throw new RangeError;if(d++>5e3&&__infLoop&&__infLoop(d))throw new RangeError;switch(e.prev=e.next){case 0:if(!t){e.next=7;break}return g(!0),e.next=4,it.Z.changePlan({planID:b});case 4:a=e.sent,g(!1),a.value&&(o=a.value,s=o.refund,l="Lifetime"===a.value?"Thank you for signing up for Moo.do Lifetime!":"Your subscription has been changed to the ".concat(n).concat("Lifetime"!==n?" ".concat(i.Z.uppercaseFirst(r),"ly"):""," plan."),s&&(l+=" Because you were already in another plan, we refunded the remaining $".concat(s.toFixed(2)," of the previous subscription.")),c.default.menus.alert({text:l,actionText:"OKAY"}),y("Moo.do Account"));case 7:case"end":return e.stop()}}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=8;break;case 5:return e.next=7,c.default.menus.openModal(o.Z.Modals.Billing,{isUpdate:!1,planName:n,frequency:r});case 7:y("Moo.do Account");case 8:case"end":return e.stop()}}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,_.jsx)("div",{className:"",children:(0,_.jsxs)("div",{className:i.Z.classNames("relative px-6 py-8 text-center rounded-2xl","dark"===s?"c-bg-app":"c-bg-gray-300",a?"border c-border":""),style:{marginTop:a?-24:void 0,paddingBottom:a?48:void 0},children:[(0,_.jsxs)("div",{style:{height:f,marginBottom:a?24:void 0},ref:t,children:[a&&(0,_.jsx)("div",{className:"flex justify-center pb-2",children:(0,_.jsx)("div",{className:"px-4 py-1 font-bold rounded-md",style:{backgroundColor:"rgba(43, 177, 243, 0.15)",color:"#25A2E8",fontSize:12},children:"MOST POPULAR"})}),(0,_.jsx)("div",{className:"text-xl font-medium",style:{color:"#24CC74"},children:n}),(0,_.jsx)("div",{className:i.Z.classNames("flex justify-center",a?"pt-2":"pt-4",x?"c-foreground-faded":"c-foreground"),children:(0,_.jsxs)("div",{className:"relative",children:[(0,_.jsx)("b",{className:"pr-1 text-2xl",children:"$"}),(0,_.jsxs)("b",{className:i.Z.classNames(x?"font-light text-2xl":"font-medium text-4xl"),children:[A,x&&(0,_.jsx)("div",{className:"absolute h-1 c-bg-lightblue opacity-90",style:{left:-8,right:-8,top:"50%"}})]})]})}),"Lifetime"!==n&&(0,_.jsxs)("div",{className:"pt-4 text-xs font-medium c-foreground-faded",children:["per month","year"===r&&", paid annually"]}),x&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("div",{children:[(0,_.jsx)("b",{className:"pr-2 text-2xl",children:"$"}),(0,_.jsx)("b",{className:"text-4xl font-medium c-foreground",children:x})]}),(0,_.jsx)("div",{className:"flex justify-center mt-4",children:(0,_.jsx)("div",{className:"px-4 py-1 font-bold rounded-md text-3xs",style:{backgroundColor:"rgba(43, 177, 243, 0.15)",color:"#25A2E8",fontSize:12},children:"Promotional Launch Price"})})]}),(0,_.jsx)("div",{className:"relative pt-6 pb-10 leading-tight text-left c-foreground-medium",style:{marginBottom:x?-36:0},children:(0,_.jsx)(ut,{name:n})})]}),(0,_.jsx)("div",{className:"pb-2 c-foreground-faded",children:"Lifetime"===n?"$".concat(x," one time charge"):"$".concat(+v*("year"===r?12:1)," per ").concat(r)}),(0,_.jsx)(he.Z,{mode:"contained",className:"text-16",primary:!0,disabled:w,text:w?"Current plan":k?"Change to ".concat(r,"ly"):"".concat(C?"Downgrade":"Upgrade"," to ").concat(n),onClick:E})]})})}const pt=(0,v.Z)((function(e){var t=e.openSection,n=(0,l.useState)(),r=a()(n,2),o=r[0],s=r[1],d=(0,l.useState)(!0),u=a()(d,2),h=u[0],f=u[1],p=(0,l.useState)(!1),m=a()(p,2),g=m[0],y=m[1],v=h?"year":"month",b=c.default.billingManager,k=(0,A.Z)(b.premiumPlan,x.Z.onlineStatus),w=a()(k,2),E=w[0],j=w[1],D=b._planID,Z=b.hasSubscription()?E:void 0,P=b.isTrialState()||b.isTrialOverRecently(),B=b.isPlanLegacy(),M=c.default.DisplaySettings.getForegroundColor(),N=c.default.DisplaySettings.getColorTheme(),O="dark"===N?"#52525b":"#777";return"Online"===j?(0,_.jsxs)("div",{className:"new-modal-group",children:[(0,_.jsxs)("div",{className:"text-3xl font-bold text-center c-foreground",children:[(0,_.jsx)("span",{className:"text-gradient",children:"Simple, flexible "}),"pricing"]}),(0,_.jsx)("div",{className:"pt-4 text-center c-foreground-faded",children:"How much is getting hours back everyday worth to you?"}),(P||B)&&(0,_.jsx)("div",{className:"flex justify-center max-w-xl mx-auto mt-8 mb-4",children:(0,_.jsx)("div",{className:"px-8 py-4 leading-snug cursor-pointer rounded-xl c-bg-gray-300",children:B?"As a Premium member of Moo.do you get the features of top Pro tier of Legend with no change to your pricing, so you don't need to change anything. But you can upgrade to the new pricing if you'd like to support us \u2764\ufe0f":"Since you were already in a trial of Moo.do Premium, you can still go Premium with our previous pricing model if you prefer."})}),(0,_.jsx)("div",{className:"flex justify-center py-16",children:(0,_.jsxs)("div",{className:"relative flex items-center text-sm font-semibold cursor-pointer text-18",children:[(0,_.jsx)(ne.E.div,{className:"pr-4",initial:{color:h?O:M},animate:{color:h?O:M},transition:lt,onClick:function(){return f(!1)},children:"Monthly Billing"}),(0,_.jsx)(re,{checked:h,onChange:f}),(0,_.jsx)(ne.E.div,{className:"pl-4",initial:{color:h?M:O},animate:{color:h?M:O},transition:lt,onClick:function(){return f(!0)},children:"Yearly Billing"}),(0,_.jsxs)("div",{className:"absolute flex items-start",style:{top:-36,right:-70},onClick:function(){return f(!0)},children:[(0,_.jsx)("svg",{className:"mt-3",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,_.jsx)("path",{d:"M1 20C1 9.50659 9.50659 1 20 1",stroke:"#25A2E8",strokeWidth:"2"})}),(0,_.jsx)("div",{className:"px-2 py-1 ml-2 leading-none rounded-lg c-bg-lightblue",style:{fontSize:12,color:"dark"===N?"white":"#25A2E8"},children:"SAVE 30%"})]})]})}),(0,_.jsxs)(ne.E.div,{className:i.Z.classNames("grid gap-2 grid-cols-3"),initial:{opacity:0},animate:{opacity:o?1:0},children:[B?(0,_.jsx)(ft,{name:"Legacy",frequency:v,currentPlanID:D,premiumPlan:Z,theme:N,size:o,setPurchasing:y,openSection:t}):(0,_.jsx)(ft,{name:"Basic",frequency:v,currentPlanID:D,premiumPlan:Z,theme:N,size:o,setPurchasing:y,openSection:t}),(0,_.jsx)(ft,{name:"Pro",frequency:v,currentPlanID:D,premiumPlan:Z,theme:N,onSize:s,setPurchasing:y,openSection:t}),(0,_.jsx)(ft,{name:"Lifetime",frequency:v,currentPlanID:D,premiumPlan:Z,theme:N,size:o,popular:!0,setPurchasing:y,openSection:t})]}),g&&(0,_.jsx)(C.Z,{center:!0,style:{backgroundColor:"rgba(0,0,0,0.8)"},children:"Purchasing..."})]},"content"):(0,_.jsx)(C.Z,{center:!0,children:"Plase go online to sign up for Premium"})}));var mt={ACCOUNT:!0,"Moo.do Account":!i.Z.isDemoMode()&&w,Upgrade:pt,SETTINGS:!0,General:Fe,"Dates & Calendar":Ze,"Agenda Sorting":J,Desktop:s.Z.isNativeApp()&&Ie,Backups:me,Security:Qe,Hotkeys:Ke,"SYNC PLUGINS":!0,Email:et,Calendar:ot,Contacts:Ee,Files:tt,SUPPORT:!0,"Send Feedback":Te,Debug:Be};const gt=(0,v.Z)((function(e){var t=e.section,n=c.default.billingManager,r=(0,l.useState)(t||"General"),s=a()(r,2),u=s[0],h=s[1],f=(0,A.Z)(n.premiumPlan),p=a()(f,1)[0],m=(0,l.useCallback)((function(e){var t=!ye.Z.isSaveEnabled.get();t||c.default.menus.confirm("You have unsaved changes. Are you sure you want to cancel your changes?",(function(t){t&&(ye.Z.isSaveEnabled.set(!1),h(e))})),t&&h(e)}),[]),g=(0,l.useMemo)((function(){return Object.entries(mt).map((function(e){var t=a()(e,2),n=t[0],r=t[1];return("Upgrade"!==n||"Lifetime"!==p)&&(r?!0===r?(0,_.jsx)(Xe.G,{type:"header",children:n},n):(0,_.jsx)(Xe.G,{name:n,onClick:function(){return h(n)},children:(0,_.jsx)("span",{children:n})},n):null)}))}),[]),y=mt[u];return(0,_.jsxs)(d.Z,{id:"modalSettings",width:1e3,height:1e3,sidebarWidth:180,modalID:o.Z.Modals.Settings,scrollable:!0,children:[(0,_.jsx)("div",{children:(0,_.jsx)(Xe.Z,{inset:!0,selected:u,children:g})},"sidebar"),(0,_.jsxs)("div",{children:[i.Z.isDemoMode()&&(0,_.jsx)("div",{className:"flex justify-center pb-6",children:(0,_.jsx)("div",{className:"px-6 py-3 font-medium rounded-lg c-bg-lighter",children:"Demo Mode: Settings will not be saved"})}),(0,_.jsx)(y,{openSection:m})]},"content")]})}))},73870:(e,t,n)=>{n.r(t),n.d(t,{default:()=>D});var r=n(34575),a=n.n(r),o=n(93913),i=n.n(o),s=n(2205),l=n.n(s),c=n(78585),d=n.n(c),u=n(29754),h=n.n(u),f=n(37149),p=n(22060),m=n(11780),g=(n(19955),n(5093)),y=n(12402),v=n(86986),A=n(67117),x=n(16719),C=n(43351),_=n(71915),b=n(94668),k=n(87526),w=n(36385),E=n(45989);function j(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d()(this,n)}}const D=function(e){l()(n,e);var t=j(n);function n(){return a()(this,n),t.apply(this,arguments)}return i()(n,[{key:"init",value:function(){this.createObservables({page:0,error:!1,invites:[],defaultAcl:p.Z.DocumentAccessRoles.Write}),g.default.onIntroAction("ShareDoc")}},{key:"getState",value:function(){var e=g.default.settings.encryptionKeys,t=this.props.doc;return{acl:t.acl,isShared:t.isShared(),encryptionKeys:e,hasDocPassword:e.get()&&!!e.get()[t.id]}}},{key:"onClickShare",value:function(e,t){var n=this,r=this.refs.invite,a=r.getTokens().map((function(e){return e.email}));if(this.error.set(""),a&&a.length>0)return this.props.doc.shareWithUser(a,this.state.defaultAcl).then((function(e){if(t(),e.error)n.error.set(e.error);else if(e.value){var r=e.value;!0!==r&&m.Z.isArray(r)&&r.forEach((function(e){var t=e.email;e.error,e.shared;e.invited&&!n.invites.includes(t)&&n.invites.push(t)}))}})),r.clearValue(),r.clearTokens(),!0}},{key:"onChangeSelectRole",value:function(e,t){var n=+t;this.props.doc.shareWithUser([e.email],n)}},{key:"onChangeDefaultRole",value:function(e){this.defaultAcl.set(+e)}},{key:"onClickRemovePermission",value:function(e,t,n){var r=this;return this.props.doc.shareWithUser([e.email],null).then((function(e){n(),e.error&&r.error.set(e.error)})),!0}},{key:"onClickCancel",value:function(){g.default.menus.closeModal(p.Z.Modals.ShareDoc)}},{key:"onClickSkip",value:function(e,t){var n=this;if(g.default.settings.hasUserPassword()){var r=this.props.doc;return b.Z.backupDocumentAll(r).then((function(){var e=r.getBestEncryption();k.Z.updateDocumentEncryption(r,g.default.crypto.getGlobalKeyInfo(),e).then((function(){n.page.set(1),t()}))})),!0}this.page.set(1)}},{key:"onClickEncrypt",value:function(e,t){var n=this.props.doc,r=this.refs.pass1.getValue(),a=this.refs.pass2.getValue(),o=n.id;if(r===a)return b.Z.backupDocumentAll(n).then((function(){var e=n.getBestEncryption();g.default.crypto.addKey({name:o,password:r,sentinelSalt:n.id}).then((function(r){k.Z.updateDocumentEncryption(n,r,e).then((function(){t()}))}))})),!0;this.error.set("Passwords do not match")}},{key:"renderSelect",value:function(e,t){return(0,E.jsxs)(C.Z,{value:e,onChange:t,style:{height:30,marginRight:8},children:[(0,E.jsx)("option",{value:p.Z.DocumentAccessRoles.Admin,children:"Admin"}),(0,E.jsx)("option",{value:p.Z.DocumentAccessRoles.Write,children:"Write"})]})}},{key:"renderPageEncryption",value:function(){var e={marginTop:8,width:240};return(0,E.jsxs)("div",{children:[(0,E.jsx)("div",{className:"font-big4 bold",children:"Make this document (".concat(this.props.doc.text.get(),") extra secure?")}),(0,E.jsx)("div",{className:"modal-subtitle font-small1 c-foreground-light",style:{marginTop:16},children:"This document will be encrypted using this password for an extra level of security. You will need to give this password to anyone you share the document with. For your security, Moo.do cannot recover your password, so keep your password safe!"}),(0,E.jsx)("div",{className:"flexbox flex-center",children:(0,E.jsxs)("div",{style:{marginTop:16},children:[(0,E.jsx)(v.Z,{type:"password",placeholder:"Password",ref:"pass1",style:e}),(0,E.jsx)(v.Z,{type:"password",placeholder:"Confirm Password",ref:"pass2",style:e})]})}),(0,E.jsx)("div",{className:"flexbox flex-center",children:(0,E.jsxs)("div",{style:{marginTop:20},children:[(0,E.jsx)(y.Z,{raised:!0,onClick:this.onClickSkip,children:"SKIP"}),(0,E.jsx)(y.Z,{primary:!0,raised:!0,style:{marginLeft:24},onClick:this.onClickEncrypt,children:"ENCRYPT"})]})})]})}},{key:"renderPageShare",value:function(){var e=this,t=this.props.doc,n=this.state,r=n.acl,a=n.error,o=n.invites,i=Object.keys(r).filter((function(e){return e!==f.Z.getEncryptionUid()})).map((function(e){return{uid:e,name:r[e].t,email:r[e].e,role:r[e].r}}));return(0,E.jsxs)(x.Z,{style:{height:"100%"},children:[(0,E.jsxs)(_.Z,{children:[(0,E.jsxs)("div",{className:"fancyTableHeader font-big4 bold",style:{marginBottom:8},children:["Share ",t.text.get()]}),i.map((function(n){var r=n.name?"".concat(n.name," <").concat(n.email,">"):n.email;return(0,E.jsxs)("div",{className:"items-center flexbox",children:[(0,E.jsx)("div",{className:"f1",children:r}),e.renderSelect(n.role,e.onChangeSelectRole.bind(e,n)),t.isAdmin()&&(0,E.jsx)(y.Z,{icon:"icon-close",width:40,height:40,onClick:e.onClickRemovePermission.bind(e,n)})]},n.uid)})),o.map((function(e){return(0,E.jsxs)("div",{className:"flexbox",children:[(0,E.jsx)("div",{className:"f1",children:e}),(0,E.jsx)("div",{children:"Invited"})]},e)}))]}),t.isAdmin()&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)("div",{className:"items-center flexbox",style:{marginTop:24},children:[(0,E.jsx)(v.Z,{id:"inputShareInvite",className:"f1",placeholder:"Enter an mail address",autocompleteMode:"email",ref:"invite",style:{marginRight:8}}),this.renderSelect(this.state.defaultAcl,this.onChangeDefaultRole)]}),(0,E.jsx)(y.Z,{primary:!0,raised:!0,onClick:this.onClickShare,style:{marginTop:16},children:"INVITE"})]}),a&&(0,E.jsx)("div",{className:"error",children:a}),!t.isAdmin()&&(0,E.jsxs)("div",{className:"modal-group",children:[(0,E.jsx)("div",{className:"shareNotOwned gd",children:"Only the creator of this file can share it with others. Please contact the creator to share it with others."}),(0,E.jsx)(y.Z,{id:"shareOkay",raised:!0,onClick:this.onClickCancel,children:"OKAY"})]})]})}},{key:"render",value:function(){var e=this.props,t=this.state;e.doc;return(0,E.jsx)(A.Z,{id:"shareDoc",modalID:p.Z.Modals.ShareDoc,ref:"modal",width:500,height:320,children:(0,E.jsx)("div",{children:t.hasDocPassword||t.isShared||1===t.page?this.renderPageShare():this.renderPageEncryption()},"content")})}}]),n}(w.a)},74589:(e,t,n)=>{n.r(t),n.d(t,{default:()=>D});var r=n(59713),a=n.n(r),o=n(48926),i=n.n(o),s=n(63038),l=n.n(s),c=n(6479),d=n.n(c),u=n(87757),h=n.n(u),f=n(22060),p=n(19955),m=n(5093),g=n(12402),y=n(86986),v=n(67117),A=n(71841),x=n(15467),C=n(20038);var _=n(27134),b=n(46128),k=n(45989),w=["folder"];function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=0,n=1;n<arguments.length;n++){if(t++>5e3&&__infLoop&&__infLoop(t))throw new RangeError;var r=null!=arguments[n]?arguments[n]:{};n%2?E(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const D=(0,_.Z)((function(e){var t,n,r=e.folder,a=d()(e,w),o=function(e){var t=(0,p.useState)({}),n=l()(t,2),r=n[0],a=n[1],o=(0,C.Z)();return(0,p.useEffect)((function(){i()(h().mark((function t(){var n;return h().wrap((function(t){for(var r=0;;){if(r++>5e3&&__infLoop&&__infLoop(r))throw new RangeError;switch(t.prev=t.next){case 0:if(!o()){t.next=11;break}return t.prev=1,t.next=4,e();case 4:n=t.sent,o()&&a(n),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({error:t.t0});case 11:case"end":return t.stop()}}}),t,null,[[1,8]])})))()}),[]),r}((function(){return x.Z.getTemplateProperties(r.id)})),s=o.value,c=o.error,u=(0,p.useState)(),_=l()(u,2),E=_[0],D=_[1],Z=(0,p.useState)(),P=l()(Z,2),B=P[0],M=P[1],N=(0,p.useRef)();if((s||B)&&(t=(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("div",{children:"You can share the template created from this board folder with the following URL:"}),(0,k.jsx)("div",{className:"mt-4",children:(0,k.jsx)(y.Z,{readonly:!0,value:"".concat(window.location.origin,"/template/?").concat(r.id)})})]})),void 0===s&&void 0===c)n=(0,k.jsx)(b.Z,{center:!0,children:"Checking for existing template"});else if(c){var O;O="auth/network-request-failed"===(null===c||void 0===c?void 0:c.code)?"Error communicating with server. Please ensure you are online and try again.":"Error: "+JSON.stringify(c),n=(0,k.jsx)("div",{children:O})}else B||(n=(0,k.jsxs)(k.Fragment,{children:[s?(0,k.jsx)("div",{className:"mb-4 mt-4",children:"Clicking SAVE will update the documents and boards in this saved template."}):(0,k.jsx)("div",{className:"mb-8",children:"This will create a new template that you can share publicly or with your friends. All data in the documents open in these boards will be copied into the template, but it will not continue to sync. If you'd like to update the template you can open this menu again."}),(0,k.jsx)(y.Z,{focused:!0,ref:N,placeholder:"Enter a name for your template",value:null===s||void 0===s?void 0:s.name}),E&&(0,k.jsx)("div",{className:"error mt-4",children:E})]}));return(0,k.jsxs)(v.Z,j(j({},a),{},{id:"modalCreateTemplate",title:"Create template",small:!0,minHeight:200,width:500,scrollable:!1,modalID:f.Z.Modals.CreateTemplate,children:[(0,k.jsxs)("div",{children:[t,n,B&&(0,k.jsx)("div",{className:"mt-4 center",children:"SAVED"})]},"content"),void 0!==s&&!B&&(0,k.jsxs)("div",{children:[(0,k.jsx)(g.Z,{primary:!0,width:100,onClick:function(e,t){var n=N.current.getValue();if(n||s){D(void 0);var a=function(){var e=i()(h().mark((function e(){var a,o;return h().wrap((function(e){for(var i=0;;){if(i++>5e3&&__infLoop&&__infLoop(i))throw new RangeError;switch(e.prev=e.next){case 0:return e.next=2,A.Z.getBoardFolderAsTemplate(r);case 2:return a=e.sent,e.next=5,x.Z.createTemplate(r.id,n,null===s||void 0===s?void 0:s.created,JSON.stringify(a));case 5:(o=e.sent).value?(console.log("updated"),M(!0)):D("Error creating template: "+o.error),t();case 8:case"end":return e.stop()}}}),e)})));return function(){return e.apply(this,arguments)}}();s?m.default.menus.confirm("Are you sure you want to overwrite the existing template?",(function(e){e&&a()})):a()}else D("Please enter a template name");return!0},children:"SAVE"}),(0,k.jsx)(g.Z,{cancel:!0,width:100,onClick:function(){return m.default.menus.closeModal(f.Z.Modals.CreateTemplate)},children:"CANCEL"})]},"buttons")]}))}))},62357:(e,t,n)=>{n.r(t),n.d(t,{default:()=>p});var r=n(63038),a=n.n(r),o=n(22060),i=n(11780),s=n(19955),l=n(5093),c=n(27134),d=n(78966),u=n(45989),h={},f=o.Z.Modals;h[f.Lightbox]=n(28272),h[f.Prompt]=n(18079),h[f.Settings]=n(34389),h[f.Alert]=n(37097),h[f.Billing]=n(72838),h[f.Confirm]=n(98138),h[f.ConfirmComplex]=n(69298),h[f.Options]=n(17742),h[f.ExportData]=n(76684),h[f.ImportData]=n(29e3),h[f.Backups]=n(30674),h[f.ReportProblem]=n(65843),h[f.DeleteAccount]=n(94346),h[f.Invoices]=n(58155),h[f.ShareDoc]=n(73870),h[f.ReportBug]=n(30961),h[f.ConfirmEncrypt]=n(18810),h[f.ModalPane]=n(43134),h[f.ErrorCookies]=n(42668),h[f.CreateTemplate]=n(74589),h[f.GmailAuth]=n(96287),h[f.OutlookAuth]=n(92319),h[f.CheckEncryption]=n(96113);const p=(0,c.Z)((function(){var e=(0,d.Z)(l.default.menus.modalStack),t=a()(e,1)[0],n=i.Z.classNames("modals absolute",{none:0===t.length});return(0,u.jsx)("div",{className:n,children:t.map((function(e){return s.createElement(h[e.id].default,Object.assign({key:e.id},e))}))})}),(function(){return l.default.menus.modalStack.clear()}))},91238:(e,t,n)=>{n.d(t,{Z:()=>x});var r=n(34575),a=n.n(r),o=n(93913),i=n.n(o),s=n(2205),l=n.n(s),c=n(78585),d=n.n(c),u=n(29754),h=n.n(u),f=n(22060),p=n(19955),m=n(5093),g=n(70880),y=n(36385),v=n(45989);function A(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d()(this,n)}}const x=function(e){l()(n,e);var t=A(n);function n(){return a()(this,n),t.apply(this,arguments)}return i()(n,[{key:"init",value:function(){var e=this.props,t=e.item.hasNote()&&e.item.getNote(),n=t?t.getParsedText():void 0;this.createObservables({hasValue:!!n}),this.refNoteText=p.createRef()}},{key:"onUnmount",value:function(){clearTimeout(this._noteUpdateTimeout),this._noteUpdateTimeout=void 0,this._saveNote()}},{key:"getValue",value:function(){return this.refNoteText.current.getValue()}},{key:"_saveNote",value:function(){if(this.props.shouldSave){m.default.PaneUpdateBatcher.beginUpdateItems();var e=this.props.item,t=e.hasNote()&&e.getNote(),n=this.refNoteText.current.getValue();!t&&n&&(t=e.createNote()),t&&(n!==t.getRawText()&&t.setText(n,f.Z.ChangeType.Local),n||e.setNote(void 0,f.Z.ChangeType.Local)),m.default.PaneUpdateBatcher.commitUpdateItems()}}},{key:"focus",value:function(){this.refNoteText.current.focus()}},{key:"onChange",value:function(){var e=this,t=this.refNoteText.current.getValue().length>0;t!==this.hasValue.get()&&(this.hasValue.set(t),t&&this.props.onValueSet&&requestAnimationFrame((function(){return e.props.onValueSet}))),clearTimeout(this._noteUpdateTimeout),this._noteUpdateTimeout=setTimeout(this._saveNote,8e3)}},{key:"render",value:function(){var e=this.props,t=m.default.DisplaySettings.fontSize(),n=e.item.hasNote()&&e.item.getNote(),r=n?n.getParsedText():void 0,a=n?void 0:"Add note",o=this.state.hasValue?e.heightValue:e.heightEmpty,i=!e.item.canHaveNote();return(0,v.jsx)(g.Z,{ref:this.refNoteText,className:e.className,value:r,placeholder:a,focused:e.focused,onChange:this.onChange,onKeyDown:e.onKeyDown,onKeyPress:e.onKeyPress,selectionStart:e.selectionStart,selectionEnd:e.selectionEnd,fontSize:t,margin:0,height:o,tabIndex:e.tabIndex,richText:!!e.richText,onMaximize:e.richText&&e.onMaximize,isMaximized:e.richText&&e.isMaximized,onClickClose:e.onClickClose,isReadOnly:i,style:e.style})}}]),n}(y.a)},80360:(e,t,n)=>{n.r(t),n.d(t,{default:()=>b});var r=n(59713),a=n.n(r),o=n(63038),i=n.n(o),s=n(6479),l=n.n(s),c=n(22060),d=n(11780),u=n(86557),h=n(19955),f=n(5093),p=n(57015),m=n(91238),g=n(27134),y=n(81224),v=n(78966),A=n(45989),x=["pane","note","item","selectionStart","selectionEnd"];function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=0,n=1;n<arguments.length;n++){if(t++>5e3&&__infLoop&&__infLoop(t))throw new RangeError;var r=null!=arguments[n]?arguments[n]:{};n%2?C(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const b=(0,g.Z)((function(e){var t=e.pane,n=e.note,r=e.item,a=e.selectionStart,o=e.selectionEnd,s=l()(e,x),g=(0,h.useRef)(),C=(0,v.Z)(t.rect),b=i()(C,1)[0],k=(0,h.useState)(!1),w=i()(k,2),E=w[0],j=w[1],D=Math.max(b.width-20,400);(0,y.Z)(u.Z.windowSize,(function(){setTimeout((function(){var e;return null===(e=g.current)||void 0===e?void 0:e.updateState()}),300)}));var Z=(0,h.useCallback)((function(e){u.Z.getKeyCode(e)!==c.Z.KeyCode.Enter||!e.shiftKey||e.altKey||e.ctrlKey||e.metaKey||(f.default.menus.closeContextMenu(),d.Z.preventAndStop(e))}),[]),P=(0,h.useCallback)((function(){f.default.menus.closeContextMenu()}),[]),B=(0,h.useCallback)((function(e){j(e),e||requestAnimationFrame((function(){return g.current.updateState()}))}),[]);return(0,h.createElement)(p.Z,_(_({},s),{},{key:n.id+"_Note",id:"contextMenuNote",width:600,height:300,maxWidth:D,ref:g,canMaximize:!0,isMaximized:E,border:!0,focusTrap:!0}),(0,A.jsx)(m.Z,{item:r,focused:!0,onKeyPress:Z,selectionStart:a,selectionEnd:o,richText:!0,onMaximize:B,isMaximized:E,onClickClose:P,shouldSave:!0}))}))},42668:(e,t,n)=>{n.r(t),n.d(t,{default:()=>p});var r=n(63038),a=n.n(r),o=n(22060),i=n(86557),s=n(19955),l=n(5093),c=n(27134),d=n(12402),u=n(86986),h=n(35931),f=n(45989);const p=(0,c.Z)((function(){var e=(0,s.useState)(!1),t=a()(e,2),n=t[0],r=t[1],c="https://[*.]accounts.google.com:443";return(0,f.jsx)("div",{className:"fixed bottom-0 left-0 right-0 flex justify-center pb-4",children:(0,f.jsx)(h.Z,{title:"Authentication Error",close:function(){l.default.menus.closeModal(o.Z.Modals.ErrorCookies)},width:500,className:"flex flex-col",children:(0,f.jsxs)("div",{className:"p-4 text-15 leading-snug",children:[(0,f.jsx)("div",{className:"pb-2",children:"Moo.do is unable to authenticate wth Google because third party cookies may be disabled in your browser."}),(0,f.jsx)("div",{className:"py-2",children:"Please enable third party cookies or add an exception for the following URL and try again:"}),(0,f.jsxs)("div",{className:"py-2 flex items-center",children:[(0,f.jsx)(u.Z,{value:c,readonly:!0,padding:{left:16,right:16}}),(0,f.jsx)(d.Z,{raised:!0,height:30,padding:8,marginLeft:24,onClick:function(){navigator.clipboard.writeText(c),r(!0)},children:n?"Copied":"COPY"})]}),(0,f.jsxs)("div",{className:"py-2",children:["See this page for how to enable cookies: ",(0,f.jsx)("a",{href:"https://www.whatismybrowser.com/guides/how-to-enable-cookies/",target:"_blank",children:"https://www.whatismybrowser.com/guides/how-to-enable-cookies/"})]}),(0,f.jsx)("div",{className:"py-2",children:"If you prefer not to enable third party cookies for Google, you can download the app."}),(0,f.jsx)("div",{className:"flex justify-center py-2",children:(0,f.jsx)(d.Z,{raised:!0,onClick:function(){l.default.openUrl(i.Z.getAppDownloadURL())},children:"DOWNLOAD"})})]})})})}))},24289:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAwCAYAAAB5R9gVAAAABGdBTUEAALGPC/xhBQAAAVVJREFUWAnN2G0KgjAYwPHpGfRkaZeqvgQaK+hY3SUHrk1YzNLay/OiEFp92I+/Mp2F2Mh2lLISWnflFjzH263RQjzMZ19wgs73ez0o1WmtW+dgA01VxrE3p6l2GLsnBy1VYQOtVSEH/atCCgqpQgKKqYIOiq2CBkqtggLKqQIKgqgCBjpJ2Y5CdJ+zrT9A7HHSTA1dxUdHgzCqJIEwq0SDsKsEg6iqBIEoq/wEcVRZBXFV+QJxV5mBtlDFB5VjYTaGZ2sf4R9PM7U9ZU+lLuaetPP/5Die3ToO1+u+MKtHs06qODB2zBnI/jBd4MPQm1VkY79Tb18gB+C62FdBFsZR6yeIo1YQiLJWMIiqVjQIu1YSCLNWFgijVjYIuhYYCKoWKAiiFgoopxYaKLUWOii2FgkophYp6F3r42W5A9s9OcgNvva8xQaysKXlFytoqdYmQH6tF3toSUo0INq9AAAAAElFTkSuQmCC"},76040:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAwCAYAAAB5R9gVAAAABGdBTUEAALGPC/xhBQAAAXRJREFUWAnN119ugjAcwPHWzJ1gnmxzB/BBE0n24m4xfNkTaOL7wOtsl3AXMMb+Vjaa1BG00N8fSEibPpAP3xAKKs2yjzTPH9RAjhEo9WzPr/Vm8zgE0+gXATAxxuxtqeJ9t5tIwv5AtQAApsfT6TPdbp+kUBcgVwvO51KqVhMkXKsVJFXrOkigVhCIs1Y4iKlWZxB1rX4gwlpRIIpa8SDkWmggrFq4IIRaJKCYWnSgnrXIQV1r8YD+1Vrn+bReagysIFfLABRt31v8oBu1xEBttfRbltmfjgEcWh9snUS2kNdBK6WN1vrOWxObWsz+fjxevsxmB1GQDfINWiev83nhaoiB/CoOU438oPrhXS0WpQ9xc1ZQWxWHqUYe0I0qrKCQKjygDlXIQV2r0IF6ViEBxVTBBSFUQQNhVYkHIVeJAtkNsbQ7c1LtzP6FsObhb2rCKv7NBIGoq4SDmKoEgTirXAcJVGkFSVVpgoSrXICGUMUH/QBZNSUy5XWUhwAAAABJRU5ErkJggg=="}}]);
